<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>21.6 Matching Methods | A Guide on Data Analysis</title>
  <meta name="description" content="This is a guide on how to conduct data analysis in the field of data science, statistics, or machine learning." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="21.6 Matching Methods | A Guide on Data Analysis" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/mike/data_analysis/" />
  <meta property="og:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg" />
  <meta property="og:description" content="This is a guide on how to conduct data analysis in the field of data science, statistics, or machine learning." />
  <meta name="github-repo" content="mikenguyen13/data_analysis" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="21.6 Matching Methods | A Guide on Data Analysis" />
  
  <meta name="twitter:description" content="This is a guide on how to conduct data analysis in the field of data science, statistics, or machine learning." />
  <meta name="twitter:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg" />

<meta name="author" content="Mike Nguyen" />


<meta name="date" content="2022-06-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="logo.png" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="selection-on-observables.html"/>
<link rel="next" href="interrupted-time-series.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-9.3.1/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-9.3.1/highcharts.js"></script>
<script src="libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="libs/highcharts-9.3.1/modules/map.js"></script>
<script src="libs/highcharts-9.3.1/modules/data.js"></script>
<script src="libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="libs/highchart-binding-0.9.4/highchart.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){window.dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DMNX2X65HQ');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Guide on Data Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>2</b> Prerequisites</a>
<ul>
<li class="chapter" data-level="2.1" data-path="matrix-theory.html"><a href="matrix-theory.html"><i class="fa fa-check"></i><b>2.1</b> Matrix Theory</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="matrix-theory.html"><a href="matrix-theory.html#rank"><i class="fa fa-check"></i><b>2.1.1</b> Rank</a></li>
<li class="chapter" data-level="2.1.2" data-path="matrix-theory.html"><a href="matrix-theory.html#inverse"><i class="fa fa-check"></i><b>2.1.2</b> Inverse</a></li>
<li class="chapter" data-level="2.1.3" data-path="matrix-theory.html"><a href="matrix-theory.html#definiteness"><i class="fa fa-check"></i><b>2.1.3</b> Definiteness</a></li>
<li class="chapter" data-level="2.1.4" data-path="matrix-theory.html"><a href="matrix-theory.html#matrix-calculus"><i class="fa fa-check"></i><b>2.1.4</b> Matrix Calculus</a></li>
<li class="chapter" data-level="2.1.5" data-path="matrix-theory.html"><a href="matrix-theory.html#optimization"><i class="fa fa-check"></i><b>2.1.5</b> Optimization</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="probability-theory.html"><a href="probability-theory.html"><i class="fa fa-check"></i><b>2.2</b> Probability Theory</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="probability-theory.html"><a href="probability-theory.html#axiom-and-theorems-of-probability"><i class="fa fa-check"></i><b>2.2.1</b> Axiom and Theorems of Probability</a></li>
<li class="chapter" data-level="2.2.2" data-path="probability-theory.html"><a href="probability-theory.html#central-limit-theorem"><i class="fa fa-check"></i><b>2.2.2</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="2.2.3" data-path="probability-theory.html"><a href="probability-theory.html#random-variable"><i class="fa fa-check"></i><b>2.2.3</b> Random variable</a></li>
<li class="chapter" data-level="2.2.4" data-path="probability-theory.html"><a href="probability-theory.html#moment-generating-function"><i class="fa fa-check"></i><b>2.2.4</b> Moment generating function</a></li>
<li class="chapter" data-level="2.2.5" data-path="probability-theory.html"><a href="probability-theory.html#moment"><i class="fa fa-check"></i><b>2.2.5</b> Moment</a></li>
<li class="chapter" data-level="2.2.6" data-path="probability-theory.html"><a href="probability-theory.html#distributions"><i class="fa fa-check"></i><b>2.2.6</b> Distributions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="general-math.html"><a href="general-math.html"><i class="fa fa-check"></i><b>2.3</b> General Math</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="general-math.html"><a href="general-math.html#law-of-large-numbers"><i class="fa fa-check"></i><b>2.3.1</b> Law of large numbers</a></li>
<li class="chapter" data-level="2.3.2" data-path="general-math.html"><a href="general-math.html#law-of-iterated-expectation"><i class="fa fa-check"></i><b>2.3.2</b> Law of Iterated Expectation</a></li>
<li class="chapter" data-level="2.3.3" data-path="general-math.html"><a href="general-math.html#convergence"><i class="fa fa-check"></i><b>2.3.3</b> Convergence</a></li>
<li class="chapter" data-level="2.3.4" data-path="general-math.html"><a href="general-math.html#sufficient-statistics"><i class="fa fa-check"></i><b>2.3.4</b> Sufficient Statistics</a></li>
<li class="chapter" data-level="2.3.5" data-path="general-math.html"><a href="general-math.html#parameter-transformations"><i class="fa fa-check"></i><b>2.3.5</b> Parameter transformations</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-importexport.html"><a href="data-importexport.html"><i class="fa fa-check"></i><b>2.4</b> Data Import/Export</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="data-importexport.html"><a href="data-importexport.html#medium-size"><i class="fa fa-check"></i><b>2.4.1</b> Medium size</a></li>
<li class="chapter" data-level="2.4.2" data-path="data-importexport.html"><a href="data-importexport.html#large-size"><i class="fa fa-check"></i><b>2.4.2</b> Large size</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>2.5</b> Data Manipulation</a></li>
</ul></li>
<li class="part"><span><b>I BASIC</b></span></li>
<li class="chapter" data-level="3" data-path="descriptive-stat.html"><a href="descriptive-stat.html"><i class="fa fa-check"></i><b>3</b> Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="numerical-measures.html"><a href="numerical-measures.html"><i class="fa fa-check"></i><b>3.1</b> Numerical Measures</a></li>
<li class="chapter" data-level="3.2" data-path="graphical-measures.html"><a href="graphical-measures.html"><i class="fa fa-check"></i><b>3.2</b> Graphical Measures</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="graphical-measures.html"><a href="graphical-measures.html#shape"><i class="fa fa-check"></i><b>3.2.1</b> Shape</a></li>
<li class="chapter" data-level="3.2.2" data-path="graphical-measures.html"><a href="graphical-measures.html#scatterplot"><i class="fa fa-check"></i><b>3.2.2</b> Scatterplot</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="normality-assessment.html"><a href="normality-assessment.html"><i class="fa fa-check"></i><b>3.3</b> Normality Assessment</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="normality-assessment.html"><a href="normality-assessment.html#graphical-assessment"><i class="fa fa-check"></i><b>3.3.1</b> Graphical Assessment</a></li>
<li class="chapter" data-level="3.3.2" data-path="normality-assessment.html"><a href="normality-assessment.html#summary-statistics"><i class="fa fa-check"></i><b>3.3.2</b> Summary Statistics</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="bivariate-statistics.html"><a href="bivariate-statistics.html"><i class="fa fa-check"></i><b>3.4</b> Bivariate Statistics</a></li>
<li class="chapter" data-level="3.5" data-path="two-continuous.html"><a href="two-continuous.html"><i class="fa fa-check"></i><b>3.5</b> Two Continuous</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="two-continuous.html"><a href="two-continuous.html#pearson-correlation"><i class="fa fa-check"></i><b>3.5.1</b> Pearson Correlation</a></li>
<li class="chapter" data-level="3.5.2" data-path="two-continuous.html"><a href="two-continuous.html#spearman-correlation"><i class="fa fa-check"></i><b>3.5.2</b> Spearman Correlation</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="categorical-and-continuous.html"><a href="categorical-and-continuous.html"><i class="fa fa-check"></i><b>3.6</b> Categorical and Continuous</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="categorical-and-continuous.html"><a href="categorical-and-continuous.html#point-biserial-correlation"><i class="fa fa-check"></i><b>3.6.1</b> Point-Biserial Correlation</a></li>
<li class="chapter" data-level="3.6.2" data-path="categorical-and-continuous.html"><a href="categorical-and-continuous.html#logistic-regression"><i class="fa fa-check"></i><b>3.6.2</b> Logistic Regression</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="two-discrete.html"><a href="two-discrete.html"><i class="fa fa-check"></i><b>3.7</b> Two Discrete</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="two-discrete.html"><a href="two-discrete.html#distance-metrics"><i class="fa fa-check"></i><b>3.7.1</b> Distance Metrics</a></li>
<li class="chapter" data-level="3.7.2" data-path="two-discrete.html"><a href="two-discrete.html#statistical-metrics"><i class="fa fa-check"></i><b>3.7.2</b> Statistical Metrics</a></li>
<li class="chapter" data-level="3.7.3" data-path="two-discrete.html"><a href="two-discrete.html#ordinal-association-rank-correlation"><i class="fa fa-check"></i><b>3.7.3</b> Ordinal Association (Rank correlation)</a></li>
<li class="chapter" data-level="3.7.4" data-path="two-discrete.html"><a href="two-discrete.html#summary-1"><i class="fa fa-check"></i><b>3.7.4</b> Summary</a></li>
<li class="chapter" data-level="3.7.5" data-path="two-discrete.html"><a href="two-discrete.html#visualization"><i class="fa fa-check"></i><b>3.7.5</b> Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basic-statistical-inference.html"><a href="basic-statistical-inference.html"><i class="fa fa-check"></i><b>4</b> Basic Statistical Inference</a>
<ul>
<li class="chapter" data-level="4.1" data-path="one-sample-inference.html"><a href="one-sample-inference.html"><i class="fa fa-check"></i><b>4.1</b> One Sample Inference</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="one-sample-inference.html"><a href="one-sample-inference.html#the-mean"><i class="fa fa-check"></i><b>4.1.1</b> The Mean</a></li>
<li class="chapter" data-level="4.1.2" data-path="one-sample-inference.html"><a href="one-sample-inference.html#single-variance"><i class="fa fa-check"></i><b>4.1.2</b> Single Variance</a></li>
<li class="chapter" data-level="4.1.3" data-path="one-sample-inference.html"><a href="one-sample-inference.html#single-proportion-p"><i class="fa fa-check"></i><b>4.1.3</b> Single Proportion (p)</a></li>
<li class="chapter" data-level="4.1.4" data-path="one-sample-inference.html"><a href="one-sample-inference.html#power"><i class="fa fa-check"></i><b>4.1.4</b> Power</a></li>
<li class="chapter" data-level="4.1.5" data-path="one-sample-inference.html"><a href="one-sample-inference.html#sample-size"><i class="fa fa-check"></i><b>4.1.5</b> Sample Size</a></li>
<li class="chapter" data-level="4.1.6" data-path="one-sample-inference.html"><a href="one-sample-inference.html#note"><i class="fa fa-check"></i><b>4.1.6</b> Note</a></li>
<li class="chapter" data-level="4.1.7" data-path="one-sample-inference.html"><a href="one-sample-inference.html#one-sample-non-parametric-methods"><i class="fa fa-check"></i><b>4.1.7</b> One-sample Non-parametric Methods</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="two-sample-inference.html"><a href="two-sample-inference.html"><i class="fa fa-check"></i><b>4.2</b> Two Sample Inference</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="two-sample-inference.html"><a href="two-sample-inference.html#means"><i class="fa fa-check"></i><b>4.2.1</b> Means</a></li>
<li class="chapter" data-level="4.2.2" data-path="two-sample-inference.html"><a href="two-sample-inference.html#variances"><i class="fa fa-check"></i><b>4.2.2</b> Variances</a></li>
<li class="chapter" data-level="4.2.3" data-path="two-sample-inference.html"><a href="two-sample-inference.html#power-1"><i class="fa fa-check"></i><b>4.2.3</b> Power</a></li>
<li class="chapter" data-level="4.2.4" data-path="two-sample-inference.html"><a href="two-sample-inference.html#sample-size-1"><i class="fa fa-check"></i><b>4.2.4</b> Sample Size</a></li>
<li class="chapter" data-level="4.2.5" data-path="two-sample-inference.html"><a href="two-sample-inference.html#matched-pair-designs"><i class="fa fa-check"></i><b>4.2.5</b> Matched Pair Designs</a></li>
<li class="chapter" data-level="4.2.6" data-path="two-sample-inference.html"><a href="two-sample-inference.html#nonparametric-tests-for-two-samples"><i class="fa fa-check"></i><b>4.2.6</b> Nonparametric Tests for Two Samples</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="categorical-data-analysis.html"><a href="categorical-data-analysis.html"><i class="fa fa-check"></i><b>4.3</b> Categorical Data Analysis</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="categorical-data-analysis.html"><a href="categorical-data-analysis.html#inferences-for-small-samples"><i class="fa fa-check"></i><b>4.3.1</b> Inferences for Small Samples</a></li>
<li class="chapter" data-level="4.3.2" data-path="categorical-data-analysis.html"><a href="categorical-data-analysis.html#test-of-association"><i class="fa fa-check"></i><b>4.3.2</b> Test of Association</a></li>
<li class="chapter" data-level="4.3.3" data-path="categorical-data-analysis.html"><a href="categorical-data-analysis.html#ordinal-association"><i class="fa fa-check"></i><b>4.3.3</b> Ordinal Association</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="divergence-metrics-and-test-for-comparing-distributions.html"><a href="divergence-metrics-and-test-for-comparing-distributions.html"><i class="fa fa-check"></i><b>4.4</b> Divergence Metrics and Test for Comparing Distributions</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="divergence-metrics-and-test-for-comparing-distributions.html"><a href="divergence-metrics-and-test-for-comparing-distributions.html#kullback-leibler-divergence"><i class="fa fa-check"></i><b>4.4.1</b> Kullback-Leibler Divergence</a></li>
<li class="chapter" data-level="4.4.2" data-path="divergence-metrics-and-test-for-comparing-distributions.html"><a href="divergence-metrics-and-test-for-comparing-distributions.html#jensen-shannon-divergence"><i class="fa fa-check"></i><b>4.4.2</b> Jensen-Shannon Divergence</a></li>
<li class="chapter" data-level="4.4.3" data-path="divergence-metrics-and-test-for-comparing-distributions.html"><a href="divergence-metrics-and-test-for-comparing-distributions.html#wasserstein-distance"><i class="fa fa-check"></i><b>4.4.3</b> Wasserstein Distance</a></li>
<li class="chapter" data-level="4.4.4" data-path="divergence-metrics-and-test-for-comparing-distributions.html"><a href="divergence-metrics-and-test-for-comparing-distributions.html#kolmogorov-smirnov-test-1"><i class="fa fa-check"></i><b>4.4.4</b> Kolmogorov-Smirnov Test</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II REGRESSION</b></span></li>
<li class="chapter" data-level="5" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>5</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html"><i class="fa fa-check"></i><b>5.1</b> Ordinary Least Squares</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#simple-regression-basic-model"><i class="fa fa-check"></i><b>5.1.1</b> Simple Regression (Basic Model)</a></li>
<li class="chapter" data-level="5.1.2" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#multiple-linear-regression"><i class="fa fa-check"></i><b>5.1.2</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="5.1.3" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#ols-assumptions"><i class="fa fa-check"></i><b>5.1.3</b> OLS Assumptions</a></li>
<li class="chapter" data-level="5.1.4" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#theorems"><i class="fa fa-check"></i><b>5.1.4</b> Theorems</a></li>
<li class="chapter" data-level="5.1.5" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#variable-selection"><i class="fa fa-check"></i><b>5.1.5</b> Variable Selection</a></li>
<li class="chapter" data-level="5.1.6" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#diagnostics-1"><i class="fa fa-check"></i><b>5.1.6</b> Diagnostics</a></li>
<li class="chapter" data-level="5.1.7" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#model-validation"><i class="fa fa-check"></i><b>5.1.7</b> Model Validation</a></li>
<li class="chapter" data-level="5.1.8" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#finite-sample-properties"><i class="fa fa-check"></i><b>5.1.8</b> Finite Sample Properties</a></li>
<li class="chapter" data-level="5.1.9" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#large-sample-properties"><i class="fa fa-check"></i><b>5.1.9</b> Large Sample Properties</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="feasible-generalized-least-squares.html"><a href="feasible-generalized-least-squares.html"><i class="fa fa-check"></i><b>5.2</b> Feasible Generalized Least Squares</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="feasible-generalized-least-squares.html"><a href="feasible-generalized-least-squares.html#heteroskedasticity"><i class="fa fa-check"></i><b>5.2.1</b> Heteroskedasticity</a></li>
<li class="chapter" data-level="5.2.2" data-path="feasible-generalized-least-squares.html"><a href="feasible-generalized-least-squares.html#serial-correlation"><i class="fa fa-check"></i><b>5.2.2</b> Serial Correlation</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="weighted-least-squares.html"><a href="weighted-least-squares.html"><i class="fa fa-check"></i><b>5.3</b> Weighted Least Squares</a></li>
<li class="chapter" data-level="5.4" data-path="generalized-least-squares.html"><a href="generalized-least-squares.html"><i class="fa fa-check"></i><b>5.4</b> Generalized Least Squares</a></li>
<li class="chapter" data-level="5.5" data-path="feasiable-prais-winsten.html"><a href="feasiable-prais-winsten.html"><i class="fa fa-check"></i><b>5.5</b> Feasiable Prais Winsten</a></li>
<li class="chapter" data-level="5.6" data-path="feasible-group-level-random-effects.html"><a href="feasible-group-level-random-effects.html"><i class="fa fa-check"></i><b>5.6</b> Feasible group level Random Effects</a></li>
<li class="chapter" data-level="5.7" data-path="ridge-regression.html"><a href="ridge-regression.html"><i class="fa fa-check"></i><b>5.7</b> Ridge Regression</a></li>
<li class="chapter" data-level="5.8" data-path="principal-component-regression.html"><a href="principal-component-regression.html"><i class="fa fa-check"></i><b>5.8</b> Principal Component Regression</a></li>
<li class="chapter" data-level="5.9" data-path="robust-regression.html"><a href="robust-regression.html"><i class="fa fa-check"></i><b>5.9</b> Robust Regression</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="robust-regression.html"><a href="robust-regression.html#least-absolute-residuals-lar-regression"><i class="fa fa-check"></i><b>5.9.1</b> Least Absolute Residuals (LAR) Regression</a></li>
<li class="chapter" data-level="5.9.2" data-path="robust-regression.html"><a href="robust-regression.html#least-median-of-squares-lms-regression"><i class="fa fa-check"></i><b>5.9.2</b> Least Median of Squares (LMS) Regression</a></li>
<li class="chapter" data-level="5.9.3" data-path="robust-regression.html"><a href="robust-regression.html#iteratively-reweighted-least-squares-irls-robust-regression"><i class="fa fa-check"></i><b>5.9.3</b> Iteratively Reweighted Least Squares (IRLS) Robust Regression</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html"><i class="fa fa-check"></i><b>5.10</b> Maximum Likelihood</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#motivation-for-mle"><i class="fa fa-check"></i><b>5.10.1</b> Motivation for MLE</a></li>
<li class="chapter" data-level="5.10.2" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#assumption"><i class="fa fa-check"></i><b>5.10.2</b> Assumption</a></li>
<li class="chapter" data-level="5.10.3" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#properties"><i class="fa fa-check"></i><b>5.10.3</b> Properties</a></li>
<li class="chapter" data-level="5.10.4" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#compare-to-ols"><i class="fa fa-check"></i><b>5.10.4</b> Compare to OLS</a></li>
<li class="chapter" data-level="5.10.5" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#application"><i class="fa fa-check"></i><b>5.10.5</b> Application</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="non-linear-regression.html"><a href="non-linear-regression.html"><i class="fa fa-check"></i><b>6</b> Non-linear Regression</a>
<ul>
<li class="chapter" data-level="6.1" data-path="inference-1.html"><a href="inference-1.html"><i class="fa fa-check"></i><b>6.1</b> Inference</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="inference-1.html"><a href="inference-1.html#linear-function-of-the-parameters"><i class="fa fa-check"></i><b>6.1.1</b> Linear Function of the Parameters</a></li>
<li class="chapter" data-level="6.1.2" data-path="inference-1.html"><a href="inference-1.html#nonlinear"><i class="fa fa-check"></i><b>6.1.2</b> Nonlinear</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html"><i class="fa fa-check"></i><b>6.2</b> Non-linear Least Squares</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html#alternative-of-gauss-newton-algorithm"><i class="fa fa-check"></i><b>6.2.1</b> Alternative of Gauss-Newton Algorithm</a></li>
<li class="chapter" data-level="6.2.2" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html#practical-considerations"><i class="fa fa-check"></i><b>6.2.2</b> Practical Considerations</a></li>
<li class="chapter" data-level="6.2.3" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html#modelestiamtion-adequcy"><i class="fa fa-check"></i><b>6.2.3</b> Model/Estiamtion Adequcy</a></li>
<li class="chapter" data-level="6.2.4" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html#application-1"><i class="fa fa-check"></i><b>6.2.4</b> Application</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html"><i class="fa fa-check"></i><b>7</b> Generalized Linear Models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="logistic-regression-1.html"><a href="logistic-regression-1.html"><i class="fa fa-check"></i><b>7.1</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="logistic-regression-1.html"><a href="logistic-regression-1.html#application-2"><i class="fa fa-check"></i><b>7.1.1</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="probit-regression.html"><a href="probit-regression.html"><i class="fa fa-check"></i><b>7.2</b> Probit Regression</a></li>
<li class="chapter" data-level="7.3" data-path="binomial-regression.html"><a href="binomial-regression.html"><i class="fa fa-check"></i><b>7.3</b> Binomial Regression</a></li>
<li class="chapter" data-level="7.4" data-path="poisson-regression.html"><a href="poisson-regression.html"><i class="fa fa-check"></i><b>7.4</b> Poisson Regression</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="poisson-regression.html"><a href="poisson-regression.html#application-3"><i class="fa fa-check"></i><b>7.4.1</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="negative-binomial-regression.html"><a href="negative-binomial-regression.html"><i class="fa fa-check"></i><b>7.5</b> Negative Binomial Regression</a></li>
<li class="chapter" data-level="7.6" data-path="multinomial.html"><a href="multinomial.html"><i class="fa fa-check"></i><b>7.6</b> Multinomial</a></li>
<li class="chapter" data-level="7.7" data-path="generalization.html"><a href="generalization.html"><i class="fa fa-check"></i><b>7.7</b> Generalization</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="generalization.html"><a href="generalization.html#estimation-1"><i class="fa fa-check"></i><b>7.7.1</b> Estimation</a></li>
<li class="chapter" data-level="7.7.2" data-path="generalization.html"><a href="generalization.html#inference-2"><i class="fa fa-check"></i><b>7.7.2</b> Inference</a></li>
<li class="chapter" data-level="7.7.3" data-path="generalization.html"><a href="generalization.html#deviance"><i class="fa fa-check"></i><b>7.7.3</b> Deviance</a></li>
<li class="chapter" data-level="7.7.4" data-path="generalization.html"><a href="generalization.html#diagnostic-plots"><i class="fa fa-check"></i><b>7.7.4</b> Diagnostic Plots</a></li>
<li class="chapter" data-level="7.7.5" data-path="generalization.html"><a href="generalization.html#goodness-of-fit"><i class="fa fa-check"></i><b>7.7.5</b> Goodness of Fit</a></li>
<li class="chapter" data-level="7.7.6" data-path="generalization.html"><a href="generalization.html#over-dispersion"><i class="fa fa-check"></i><b>7.7.6</b> Over-Dispersion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="linear-mixed-models.html"><a href="linear-mixed-models.html"><i class="fa fa-check"></i><b>8</b> Linear Mixed Models</a>
<ul>
<li class="chapter" data-level="8.1" data-path="dependent-data.html"><a href="dependent-data.html"><i class="fa fa-check"></i><b>8.1</b> Dependent Data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="dependent-data.html"><a href="dependent-data.html#random-intercepts-model"><i class="fa fa-check"></i><b>8.1.1</b> Random-Intercepts Model</a></li>
<li class="chapter" data-level="8.1.2" data-path="dependent-data.html"><a href="dependent-data.html#covariance-models"><i class="fa fa-check"></i><b>8.1.2</b> Covariance Models</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="estimation-2.html"><a href="estimation-2.html"><i class="fa fa-check"></i><b>8.2</b> Estimation</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="estimation-2.html"><a href="estimation-2.html#estimating-mathbfv"><i class="fa fa-check"></i><b>8.2.1</b> Estimating <span class="math inline">\(\mathbf{V}\)</span></a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="inference-3.html"><a href="inference-3.html"><i class="fa fa-check"></i><b>8.3</b> Inference</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="inference-3.html"><a href="inference-3.html#parameters-beta"><i class="fa fa-check"></i><b>8.3.1</b> Parameters <span class="math inline">\(\beta\)</span></a></li>
<li class="chapter" data-level="8.3.2" data-path="inference-3.html"><a href="inference-3.html#variance-components"><i class="fa fa-check"></i><b>8.3.2</b> Variance Components</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="information-criteria.html"><a href="information-criteria.html"><i class="fa fa-check"></i><b>8.4</b> Information Criteria</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="information-criteria.html"><a href="information-criteria.html#akaikes-information-criteria-aic"><i class="fa fa-check"></i><b>8.4.1</b> Akaike’s Information Criteria (AIC)</a></li>
<li class="chapter" data-level="8.4.2" data-path="information-criteria.html"><a href="information-criteria.html#corrected-aic-aicc"><i class="fa fa-check"></i><b>8.4.2</b> Corrected AIC (AICC)</a></li>
<li class="chapter" data-level="8.4.3" data-path="information-criteria.html"><a href="information-criteria.html#bayesian-information-criteria-bic"><i class="fa fa-check"></i><b>8.4.3</b> Bayesian Information Criteria (BIC)</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="split-plot-designs.html"><a href="split-plot-designs.html"><i class="fa fa-check"></i><b>8.5</b> Split-Plot Designs</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="split-plot-designs.html"><a href="split-plot-designs.html#application-4"><i class="fa fa-check"></i><b>8.5.1</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="repeated-measures-in-mixed-models.html"><a href="repeated-measures-in-mixed-models.html"><i class="fa fa-check"></i><b>8.6</b> Repeated Measures in Mixed Models</a></li>
<li class="chapter" data-level="8.7" data-path="unbalanced-or-unequally-spaced-data.html"><a href="unbalanced-or-unequally-spaced-data.html"><i class="fa fa-check"></i><b>8.7</b> Unbalanced or Unequally Spaced Data</a></li>
<li class="chapter" data-level="8.8" data-path="application-5.html"><a href="application-5.html"><i class="fa fa-check"></i><b>8.8</b> Application</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="application-5.html"><a href="application-5.html#example-1-pulps"><i class="fa fa-check"></i><b>8.8.1</b> Example 1 (Pulps)</a></li>
<li class="chapter" data-level="8.8.2" data-path="application-5.html"><a href="application-5.html#example-2-rats"><i class="fa fa-check"></i><b>8.8.2</b> Example 2 (Rats)</a></li>
<li class="chapter" data-level="8.8.3" data-path="application-5.html"><a href="application-5.html#example-3-agridat"><i class="fa fa-check"></i><b>8.8.3</b> Example 3 (Agridat)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="nonlinear-and-generalized-linear-mixed-models.html"><a href="nonlinear-and-generalized-linear-mixed-models.html"><i class="fa fa-check"></i><b>9</b> Nonlinear and Generalized Linear Mixed Models</a>
<ul>
<li class="chapter" data-level="9.1" data-path="estimation-3.html"><a href="estimation-3.html"><i class="fa fa-check"></i><b>9.1</b> Estimation</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="estimation-3.html"><a href="estimation-3.html#estimation-by-numerical-integration"><i class="fa fa-check"></i><b>9.1.1</b> Estimation by Numerical Integration</a></li>
<li class="chapter" data-level="9.1.2" data-path="estimation-3.html"><a href="estimation-3.html#estimation-by-linearization"><i class="fa fa-check"></i><b>9.1.2</b> Estimation by Linearization</a></li>
<li class="chapter" data-level="9.1.3" data-path="estimation-3.html"><a href="estimation-3.html#estimation-by-bayesian-hierarchical-models"><i class="fa fa-check"></i><b>9.1.3</b> Estimation by Bayesian Hierarchical Models</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="application-6.html"><a href="application-6.html"><i class="fa fa-check"></i><b>9.2</b> Application</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="application-6.html"><a href="application-6.html#binomial-cbpp-data"><i class="fa fa-check"></i><b>9.2.1</b> Binomial (CBPP Data)</a></li>
<li class="chapter" data-level="9.2.2" data-path="application-6.html"><a href="application-6.html#count-owl-data"><i class="fa fa-check"></i><b>9.2.2</b> Count (Owl Data)</a></li>
<li class="chapter" data-level="9.2.3" data-path="application-6.html"><a href="application-6.html#binomial-1"><i class="fa fa-check"></i><b>9.2.3</b> Binomial</a></li>
<li class="chapter" data-level="9.2.4" data-path="application-6.html"><a href="application-6.html#example-from-schabenberger_2001-section-8.4.1"><i class="fa fa-check"></i><b>9.2.4</b> Example from <span class="citation">(<span>Schabenberger and Pierce 2001</span>)</span> section 8.4.1</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="summary-2.html"><a href="summary-2.html"><i class="fa fa-check"></i><b>9.3</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>III RAMIFICATIONS</b></span></li>
<li class="chapter" data-level="10" data-path="model-specification.html"><a href="model-specification.html"><i class="fa fa-check"></i><b>10</b> Model Specification</a>
<ul>
<li class="chapter" data-level="10.1" data-path="nested-model.html"><a href="nested-model.html"><i class="fa fa-check"></i><b>10.1</b> Nested Model</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="nested-model.html"><a href="nested-model.html#chow-test"><i class="fa fa-check"></i><b>10.1.1</b> Chow test</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="non-nested-model.html"><a href="non-nested-model.html"><i class="fa fa-check"></i><b>10.2</b> Non-Nested Model</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="non-nested-model.html"><a href="non-nested-model.html#davidson-mackinnon-test"><i class="fa fa-check"></i><b>10.2.1</b> Davidson-Mackinnon test</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="heteroskedasticity-1.html"><a href="heteroskedasticity-1.html"><i class="fa fa-check"></i><b>10.3</b> Heteroskedasticity</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="heteroskedasticity-1.html"><a href="heteroskedasticity-1.html#breusch-pagan-test"><i class="fa fa-check"></i><b>10.3.1</b> Breusch-Pagan test</a></li>
<li class="chapter" data-level="10.3.2" data-path="heteroskedasticity-1.html"><a href="heteroskedasticity-1.html#white-test"><i class="fa fa-check"></i><b>10.3.2</b> White test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="imputation-missing-data.html"><a href="imputation-missing-data.html"><i class="fa fa-check"></i><b>11</b> Imputation (Missing Data)</a>
<ul>
<li class="chapter" data-level="11.1" data-path="assumptions-1.html"><a href="assumptions-1.html"><i class="fa fa-check"></i><b>11.1</b> Assumptions</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="assumptions-1.html"><a href="assumptions-1.html#missing-completely-at-random-mcar"><i class="fa fa-check"></i><b>11.1.1</b> Missing Completely at Random (MCAR)</a></li>
<li class="chapter" data-level="11.1.2" data-path="assumptions-1.html"><a href="assumptions-1.html#missing-at-random-mar"><i class="fa fa-check"></i><b>11.1.2</b> Missing at Random (MAR)</a></li>
<li class="chapter" data-level="11.1.3" data-path="assumptions-1.html"><a href="assumptions-1.html#ignorable"><i class="fa fa-check"></i><b>11.1.3</b> Ignorable</a></li>
<li class="chapter" data-level="11.1.4" data-path="assumptions-1.html"><a href="assumptions-1.html#nonignorable"><i class="fa fa-check"></i><b>11.1.4</b> Nonignorable</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html"><i class="fa fa-check"></i><b>11.2</b> Solutions to Missing data</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#listwise-deletion"><i class="fa fa-check"></i><b>11.2.1</b> Listwise Deletion</a></li>
<li class="chapter" data-level="11.2.2" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#pairwise-deletion"><i class="fa fa-check"></i><b>11.2.2</b> Pairwise Deletion</a></li>
<li class="chapter" data-level="11.2.3" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#dummy-variable-adjustment"><i class="fa fa-check"></i><b>11.2.3</b> Dummy Variable Adjustment</a></li>
<li class="chapter" data-level="11.2.4" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#imputation"><i class="fa fa-check"></i><b>11.2.4</b> Imputation</a></li>
<li class="chapter" data-level="11.2.5" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#other-methods"><i class="fa fa-check"></i><b>11.2.5</b> Other methods</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="criteria-for-choosing-an-effective-approach.html"><a href="criteria-for-choosing-an-effective-approach.html"><i class="fa fa-check"></i><b>11.3</b> Criteria for Choosing an Effective Approach</a></li>
<li class="chapter" data-level="11.4" data-path="another-perspective.html"><a href="another-perspective.html"><i class="fa fa-check"></i><b>11.4</b> Another Perspective</a></li>
<li class="chapter" data-level="11.5" data-path="diagnosing-the-mechanism.html"><a href="diagnosing-the-mechanism.html"><i class="fa fa-check"></i><b>11.5</b> Diagnosing the Mechanism</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="diagnosing-the-mechanism.html"><a href="diagnosing-the-mechanism.html#mar-vs.-mnar"><i class="fa fa-check"></i><b>11.5.1</b> MAR vs. MNAR</a></li>
<li class="chapter" data-level="11.5.2" data-path="diagnosing-the-mechanism.html"><a href="diagnosing-the-mechanism.html#mcar-vs.-mar"><i class="fa fa-check"></i><b>11.5.2</b> MCAR vs. MAR</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="application-7.html"><a href="application-7.html"><i class="fa fa-check"></i><b>11.6</b> Application</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="application-7.html"><a href="application-7.html#imputation-with-mean-median-mode"><i class="fa fa-check"></i><b>11.6.1</b> Imputation with mean / median / mode</a></li>
<li class="chapter" data-level="11.6.2" data-path="application-7.html"><a href="application-7.html#knn"><i class="fa fa-check"></i><b>11.6.2</b> KNN</a></li>
<li class="chapter" data-level="11.6.3" data-path="application-7.html"><a href="application-7.html#rpart"><i class="fa fa-check"></i><b>11.6.3</b> rpart</a></li>
<li class="chapter" data-level="11.6.4" data-path="application-7.html"><a href="application-7.html#mice-multivariate-imputation-via-chained-equations"><i class="fa fa-check"></i><b>11.6.4</b> MICE (Multivariate Imputation via Chained Equations)</a></li>
<li class="chapter" data-level="11.6.5" data-path="application-7.html"><a href="application-7.html#amelia"><i class="fa fa-check"></i><b>11.6.5</b> Amelia</a></li>
<li class="chapter" data-level="11.6.6" data-path="application-7.html"><a href="application-7.html#missforest"><i class="fa fa-check"></i><b>11.6.6</b> missForest</a></li>
<li class="chapter" data-level="11.6.7" data-path="application-7.html"><a href="application-7.html#hmisc"><i class="fa fa-check"></i><b>11.6.7</b> Hmisc</a></li>
<li class="chapter" data-level="11.6.8" data-path="application-7.html"><a href="application-7.html#mi"><i class="fa fa-check"></i><b>11.6.8</b> mi</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>12</b> Data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="cross-sectional.html"><a href="cross-sectional.html"><i class="fa fa-check"></i><b>12.1</b> Cross-Sectional</a></li>
<li class="chapter" data-level="12.2" data-path="time-series-1.html"><a href="time-series-1.html"><i class="fa fa-check"></i><b>12.2</b> Time Series</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="time-series-1.html"><a href="time-series-1.html#deterministic-time-trend"><i class="fa fa-check"></i><b>12.2.1</b> Deterministic Time trend</a></li>
<li class="chapter" data-level="12.2.2" data-path="time-series-1.html"><a href="time-series-1.html#feedback-effect"><i class="fa fa-check"></i><b>12.2.2</b> Feedback Effect</a></li>
<li class="chapter" data-level="12.2.3" data-path="time-series-1.html"><a href="time-series-1.html#dynamic-specification"><i class="fa fa-check"></i><b>12.2.3</b> Dynamic Specification</a></li>
<li class="chapter" data-level="12.2.4" data-path="time-series-1.html"><a href="time-series-1.html#dynamically-complete"><i class="fa fa-check"></i><b>12.2.4</b> Dynamically Complete</a></li>
<li class="chapter" data-level="12.2.5" data-path="time-series-1.html"><a href="time-series-1.html#highly-persistent-data"><i class="fa fa-check"></i><b>12.2.5</b> Highly Persistent Data</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="repeated-cross-sections.html"><a href="repeated-cross-sections.html"><i class="fa fa-check"></i><b>12.3</b> Repeated Cross Sections</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="repeated-cross-sections.html"><a href="repeated-cross-sections.html#pooled-cross-section"><i class="fa fa-check"></i><b>12.3.1</b> Pooled Cross Section</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="panel-data.html"><a href="panel-data.html"><i class="fa fa-check"></i><b>12.4</b> Panel Data</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="panel-data.html"><a href="panel-data.html#pooled-ols-estimator"><i class="fa fa-check"></i><b>12.4.1</b> Pooled OLS Estimator</a></li>
<li class="chapter" data-level="12.4.2" data-path="panel-data.html"><a href="panel-data.html#individual-specific-effects-model"><i class="fa fa-check"></i><b>12.4.2</b> Individual-specific effects model</a></li>
<li class="chapter" data-level="12.4.3" data-path="panel-data.html"><a href="panel-data.html#tests-for-assumptions"><i class="fa fa-check"></i><b>12.4.3</b> Tests for Assumptions</a></li>
<li class="chapter" data-level="12.4.4" data-path="panel-data.html"><a href="panel-data.html#model-selection"><i class="fa fa-check"></i><b>12.4.4</b> Model Selection</a></li>
<li class="chapter" data-level="12.4.5" data-path="panel-data.html"><a href="panel-data.html#summary-3"><i class="fa fa-check"></i><b>12.4.5</b> Summary</a></li>
<li class="chapter" data-level="12.4.6" data-path="panel-data.html"><a href="panel-data.html#application-8"><i class="fa fa-check"></i><b>12.4.6</b> Application</a></li>
<li class="chapter" data-level="12.4.7" data-path="panel-data.html"><a href="panel-data.html#other-estimators"><i class="fa fa-check"></i><b>12.4.7</b> Other Estimators</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>13</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="13.1" data-path="types-of-hypothesis-testing.html"><a href="types-of-hypothesis-testing.html"><i class="fa fa-check"></i><b>13.1</b> Types of hypothesis testing</a></li>
<li class="chapter" data-level="13.2" data-path="wald-test.html"><a href="wald-test.html"><i class="fa fa-check"></i><b>13.2</b> Wald test</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="wald-test.html"><a href="wald-test.html#multiple-hypothesis"><i class="fa fa-check"></i><b>13.2.1</b> Multiple Hypothesis</a></li>
<li class="chapter" data-level="13.2.2" data-path="wald-test.html"><a href="wald-test.html#linear-combination"><i class="fa fa-check"></i><b>13.2.2</b> Linear Combination</a></li>
<li class="chapter" data-level="13.2.3" data-path="wald-test.html"><a href="wald-test.html#estimate-difference-in-coefficients"><i class="fa fa-check"></i><b>13.2.3</b> Estimate Difference in Coefficients</a></li>
<li class="chapter" data-level="13.2.4" data-path="wald-test.html"><a href="wald-test.html#application-9"><i class="fa fa-check"></i><b>13.2.4</b> Application</a></li>
<li class="chapter" data-level="13.2.5" data-path="wald-test.html"><a href="wald-test.html#nonlinear-1"><i class="fa fa-check"></i><b>13.2.5</b> Nonlinear</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="the-likelihood-ratio-test.html"><a href="the-likelihood-ratio-test.html"><i class="fa fa-check"></i><b>13.3</b> The likelihood ratio test</a></li>
<li class="chapter" data-level="13.4" data-path="lagrange-multiplier-score.html"><a href="lagrange-multiplier-score.html"><i class="fa fa-check"></i><b>13.4</b> Lagrange Multiplier (Score)</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="prediction-and-estimation.html"><a href="prediction-and-estimation.html"><i class="fa fa-check"></i><b>14</b> Prediction and Estimation</a></li>
<li class="chapter" data-level="15" data-path="moderation.html"><a href="moderation.html"><i class="fa fa-check"></i><b>15</b> Moderation</a>
<ul>
<li class="chapter" data-level="15.1" data-path="emmeans-package.html"><a href="emmeans-package.html"><i class="fa fa-check"></i><b>15.1</b> emmeans package</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="emmeans-package.html"><a href="emmeans-package.html#continuous-by-continuous"><i class="fa fa-check"></i><b>15.1.1</b> Continuous by continuous</a></li>
<li class="chapter" data-level="15.1.2" data-path="emmeans-package.html"><a href="emmeans-package.html#continuous-by-categorical"><i class="fa fa-check"></i><b>15.1.2</b> Continuous by categorical</a></li>
<li class="chapter" data-level="15.1.3" data-path="emmeans-package.html"><a href="emmeans-package.html#categorical-by-categorical"><i class="fa fa-check"></i><b>15.1.3</b> Categorical by categorical</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="probmod-package.html"><a href="probmod-package.html"><i class="fa fa-check"></i><b>15.2</b> probmod package</a></li>
<li class="chapter" data-level="15.3" data-path="interactions-package.html"><a href="interactions-package.html"><i class="fa fa-check"></i><b>15.3</b> interactions package</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="interactions-package.html"><a href="interactions-package.html#continuous-interaction"><i class="fa fa-check"></i><b>15.3.1</b> Continuous interaction</a></li>
<li class="chapter" data-level="15.3.2" data-path="interactions-package.html"><a href="interactions-package.html#categorical-interaction"><i class="fa fa-check"></i><b>15.3.2</b> Categorical interaction</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="interactionr-package.html"><a href="interactionr-package.html"><i class="fa fa-check"></i><b>15.4</b> interactionR package</a></li>
<li class="chapter" data-level="15.5" data-path="sjplot-package.html"><a href="sjplot-package.html"><i class="fa fa-check"></i><b>15.5</b> sjPlot package</a></li>
</ul></li>
<li class="part"><span><b>IV EXPERIMENTAL DESIGN</b></span></li>
<li class="chapter" data-level="16" data-path="sampling.html"><a href="sampling.html"><i class="fa fa-check"></i><b>16</b> Sampling</a>
<ul>
<li class="chapter" data-level="16.1" data-path="simple-sampling.html"><a href="simple-sampling.html"><i class="fa fa-check"></i><b>16.1</b> Simple Sampling</a></li>
<li class="chapter" data-level="16.2" data-path="stratified-sampling.html"><a href="stratified-sampling.html"><i class="fa fa-check"></i><b>16.2</b> Stratified Sampling</a></li>
<li class="chapter" data-level="16.3" data-path="unequal-probability-sampling.html"><a href="unequal-probability-sampling.html"><i class="fa fa-check"></i><b>16.3</b> Unequal Probability Sampling</a></li>
<li class="chapter" data-level="16.4" data-path="balanced-sampling.html"><a href="balanced-sampling.html"><i class="fa fa-check"></i><b>16.4</b> Balanced Sampling</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="balanced-sampling.html"><a href="balanced-sampling.html#cube"><i class="fa fa-check"></i><b>16.4.1</b> Cube</a></li>
<li class="chapter" data-level="16.4.2" data-path="balanced-sampling.html"><a href="balanced-sampling.html#stratification"><i class="fa fa-check"></i><b>16.4.2</b> Stratification</a></li>
<li class="chapter" data-level="16.4.3" data-path="balanced-sampling.html"><a href="balanced-sampling.html#cluster-1"><i class="fa fa-check"></i><b>16.4.3</b> Cluster</a></li>
<li class="chapter" data-level="16.4.4" data-path="balanced-sampling.html"><a href="balanced-sampling.html#two-stage"><i class="fa fa-check"></i><b>16.4.4</b> Two-stage</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="analysis-of-variance-anova.html"><a href="analysis-of-variance-anova.html"><i class="fa fa-check"></i><b>17</b> Analysis of Variance (ANOVA)</a>
<ul>
<li class="chapter" data-level="17.1" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html"><i class="fa fa-check"></i><b>17.1</b> Completely Randomized Design (CRD)</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#single-factor-fixed-effects-model"><i class="fa fa-check"></i><b>17.1.1</b> Single Factor Fixed Effects Model</a></li>
<li class="chapter" data-level="17.1.2" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#single-factor-random-effects-model"><i class="fa fa-check"></i><b>17.1.2</b> Single Factor Random Effects Model</a></li>
<li class="chapter" data-level="17.1.3" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#two-factor-fixed-effect-anova"><i class="fa fa-check"></i><b>17.1.3</b> Two Factor Fixed Effect ANOVA</a></li>
<li class="chapter" data-level="17.1.4" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#two-way-random-effects-anova"><i class="fa fa-check"></i><b>17.1.4</b> Two-Way Random Effects ANOVA</a></li>
<li class="chapter" data-level="17.1.5" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#two-way-mixed-effects-anova"><i class="fa fa-check"></i><b>17.1.5</b> Two-Way Mixed Effects ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="nonparametric-anova.html"><a href="nonparametric-anova.html"><i class="fa fa-check"></i><b>17.2</b> Nonparametric ANOVA</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="nonparametric-anova.html"><a href="nonparametric-anova.html#kruskal-wallis"><i class="fa fa-check"></i><b>17.2.1</b> Kruskal-Wallis</a></li>
<li class="chapter" data-level="17.2.2" data-path="nonparametric-anova.html"><a href="nonparametric-anova.html#friedman-test"><i class="fa fa-check"></i><b>17.2.2</b> Friedman Test</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="sample-size-planning-for-anova.html"><a href="sample-size-planning-for-anova.html"><i class="fa fa-check"></i><b>17.3</b> Sample Size Planning for ANOVA</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="sample-size-planning-for-anova.html"><a href="sample-size-planning-for-anova.html#balanced-designs"><i class="fa fa-check"></i><b>17.3.1</b> Balanced Designs</a></li>
<li class="chapter" data-level="17.3.2" data-path="sample-size-planning-for-anova.html"><a href="sample-size-planning-for-anova.html#randomized-block-experiments"><i class="fa fa-check"></i><b>17.3.2</b> Randomized Block Experiments</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="randomized-block-designs.html"><a href="randomized-block-designs.html"><i class="fa fa-check"></i><b>17.4</b> Randomized Block Designs</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="randomized-block-designs.html"><a href="randomized-block-designs.html#tukey-test-of-additivity"><i class="fa fa-check"></i><b>17.4.1</b> Tukey Test of Additivity</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="nested-designs.html"><a href="nested-designs.html"><i class="fa fa-check"></i><b>17.5</b> Nested Designs</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="nested-designs.html"><a href="nested-designs.html#two-factor-nested-designs"><i class="fa fa-check"></i><b>17.5.1</b> Two-Factor Nested Designs</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="single-factor-covariance-model.html"><a href="single-factor-covariance-model.html"><i class="fa fa-check"></i><b>17.6</b> Single Factor Covariance Model</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="multivariate-methods.html"><a href="multivariate-methods.html"><i class="fa fa-check"></i><b>18</b> Multivariate Methods</a>
<ul>
<li class="chapter" data-level="18.0.1" data-path="multivariate-methods.html"><a href="multivariate-methods.html#properties-of-mvn"><i class="fa fa-check"></i><b>18.0.1</b> Properties of MVN</a></li>
<li class="chapter" data-level="18.0.2" data-path="multivariate-methods.html"><a href="multivariate-methods.html#mean-vector-inference"><i class="fa fa-check"></i><b>18.0.2</b> Mean Vector Inference</a></li>
<li class="chapter" data-level="18.0.3" data-path="multivariate-methods.html"><a href="multivariate-methods.html#general-hypothesis-testing"><i class="fa fa-check"></i><b>18.0.3</b> General Hypothesis Testing</a></li>
<li class="chapter" data-level="18.1" data-path="manova.html"><a href="manova.html"><i class="fa fa-check"></i><b>18.1</b> MANOVA</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="manova.html"><a href="manova.html#testing-general-hypotheses"><i class="fa fa-check"></i><b>18.1.1</b> Testing General Hypotheses</a></li>
<li class="chapter" data-level="18.1.2" data-path="manova.html"><a href="manova.html#profile-analysis"><i class="fa fa-check"></i><b>18.1.2</b> Profile Analysis</a></li>
<li class="chapter" data-level="18.1.3" data-path="manova.html"><a href="manova.html#summary-5"><i class="fa fa-check"></i><b>18.1.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="principal-components.html"><a href="principal-components.html"><i class="fa fa-check"></i><b>18.2</b> Principal Components</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="principal-components.html"><a href="principal-components.html#population-principal-components"><i class="fa fa-check"></i><b>18.2.1</b> Population Principal Components</a></li>
<li class="chapter" data-level="18.2.2" data-path="principal-components.html"><a href="principal-components.html#sample-principal-components"><i class="fa fa-check"></i><b>18.2.2</b> Sample Principal Components</a></li>
<li class="chapter" data-level="18.2.3" data-path="principal-components.html"><a href="principal-components.html#application-10"><i class="fa fa-check"></i><b>18.2.3</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="factor-analysis.html"><a href="factor-analysis.html"><i class="fa fa-check"></i><b>18.3</b> Factor Analysis</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="factor-analysis.html"><a href="factor-analysis.html#methods-of-estimation"><i class="fa fa-check"></i><b>18.3.1</b> Methods of Estimation</a></li>
<li class="chapter" data-level="18.3.2" data-path="factor-analysis.html"><a href="factor-analysis.html#factor-rotation"><i class="fa fa-check"></i><b>18.3.2</b> Factor Rotation</a></li>
<li class="chapter" data-level="18.3.3" data-path="factor-analysis.html"><a href="factor-analysis.html#estimation-of-factor-scores"><i class="fa fa-check"></i><b>18.3.3</b> Estimation of Factor Scores</a></li>
<li class="chapter" data-level="18.3.4" data-path="factor-analysis.html"><a href="factor-analysis.html#model-diagnostic"><i class="fa fa-check"></i><b>18.3.4</b> Model Diagnostic</a></li>
<li class="chapter" data-level="18.3.5" data-path="factor-analysis.html"><a href="factor-analysis.html#application-11"><i class="fa fa-check"></i><b>18.3.5</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html"><i class="fa fa-check"></i><b>18.4</b> Discriminant Analysis</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html#known-populations"><i class="fa fa-check"></i><b>18.4.1</b> Known Populations</a></li>
<li class="chapter" data-level="18.4.2" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html#probabilities-of-misclassification"><i class="fa fa-check"></i><b>18.4.2</b> Probabilities of Misclassification</a></li>
<li class="chapter" data-level="18.4.3" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html#unknown-populations-nonparametric-discrimination"><i class="fa fa-check"></i><b>18.4.3</b> Unknown Populations/ Nonparametric Discrimination</a></li>
<li class="chapter" data-level="18.4.4" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html#application-12"><i class="fa fa-check"></i><b>18.4.4</b> Application</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V CAUSAL INFERENCE</b></span></li>
<li class="chapter" data-level="19" data-path="causal-inference.html"><a href="causal-inference.html"><i class="fa fa-check"></i><b>19</b> Causal Inference</a>
<ul>
<li class="chapter" data-level="19.1" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html"><i class="fa fa-check"></i><b>19.1</b> Treatment effect types</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html#average-treatment-effects"><i class="fa fa-check"></i><b>19.1.1</b> Average Treatment Effects</a></li>
<li class="chapter" data-level="19.1.2" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html#conditional-average-treatment-effects"><i class="fa fa-check"></i><b>19.1.2</b> Conditional Average Treatment Effects</a></li>
<li class="chapter" data-level="19.1.3" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html#intent-to-treat-effects"><i class="fa fa-check"></i><b>19.1.3</b> Intent-to-treat Effects</a></li>
<li class="chapter" data-level="19.1.4" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html#local-average-treatment-effects"><i class="fa fa-check"></i><b>19.1.4</b> Local Average Treatment Effects</a></li>
<li class="chapter" data-level="19.1.5" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html#population-vs.-sample-average-treatment-effects"><i class="fa fa-check"></i><b>19.1.5</b> Population vs. Sample Average Treatment Effects</a></li>
<li class="chapter" data-level="19.1.6" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html#average-treatment-effects-on-the-treated-and-control"><i class="fa fa-check"></i><b>19.1.6</b> Average Treatment Effects on the Treated and Control</a></li>
<li class="chapter" data-level="19.1.7" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html#quantile-average-treatment-effects"><i class="fa fa-check"></i><b>19.1.7</b> Quantile Average Treatment Effects</a></li>
<li class="chapter" data-level="19.1.8" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html#mediation-effects"><i class="fa fa-check"></i><b>19.1.8</b> Mediation Effects</a></li>
<li class="chapter" data-level="19.1.9" data-path="treatment-effect-types.html"><a href="treatment-effect-types.html#log-odds-treatment-effects"><i class="fa fa-check"></i><b>19.1.9</b> Log-odds Treatment Effects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="experimental-design.html"><a href="experimental-design.html"><i class="fa fa-check"></i><b>20</b> Experimental Design</a>
<ul>
<li class="chapter" data-level="20.1" data-path="semi-random-experiment.html"><a href="semi-random-experiment.html"><i class="fa fa-check"></i><b>20.1</b> Semi-random Experiment</a></li>
<li class="chapter" data-level="20.2" data-path="rerandomization.html"><a href="rerandomization.html"><i class="fa fa-check"></i><b>20.2</b> Rerandomization</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="quasi-experimental.html"><a href="quasi-experimental.html"><i class="fa fa-check"></i><b>21</b> Quasi-experimental</a>
<ul>
<li class="chapter" data-level="21.1" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html"><i class="fa fa-check"></i><b>21.1</b> Regression Discontinuity</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#specification-checks"><i class="fa fa-check"></i><b>21.1.1</b> Specification Checks</a></li>
<li class="chapter" data-level="21.1.2" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#steps-for-sharp-rd"><i class="fa fa-check"></i><b>21.1.2</b> Steps for Sharp RD</a></li>
<li class="chapter" data-level="21.1.3" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#steps-for-fuzzy-rd"><i class="fa fa-check"></i><b>21.1.3</b> Steps for Fuzzy RD</a></li>
<li class="chapter" data-level="21.1.4" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#steps-for-rdit-regression-discontinuity-in-time"><i class="fa fa-check"></i><b>21.1.4</b> Steps for RDiT (Regression Discontinuity in Time)</a></li>
<li class="chapter" data-level="21.1.5" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#evaluation-of-an-rd"><i class="fa fa-check"></i><b>21.1.5</b> Evaluation of an RD</a></li>
<li class="chapter" data-level="21.1.6" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#applications"><i class="fa fa-check"></i><b>21.1.6</b> Applications</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="difference-in-differences.html"><a href="difference-in-differences.html"><i class="fa fa-check"></i><b>21.2</b> Difference-in-differences</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="difference-in-differences.html"><a href="difference-in-differences.html#simple-dif-n-dif"><i class="fa fa-check"></i><b>21.2.1</b> Simple Dif-n-dif</a></li>
<li class="chapter" data-level="21.2.2" data-path="difference-in-differences.html"><a href="difference-in-differences.html#staggered-dif-n-dif"><i class="fa fa-check"></i><b>21.2.2</b> Staggered Dif-n-dif</a></li>
<li class="chapter" data-level="21.2.3" data-path="difference-in-differences.html"><a href="difference-in-differences.html#two-way-fixed-effects"><i class="fa fa-check"></i><b>21.2.3</b> Two-way Fixed-effects</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="synthetic-control.html"><a href="synthetic-control.html"><i class="fa fa-check"></i><b>21.3</b> Synthetic Control</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="synthetic-control.html"><a href="synthetic-control.html#example-1-2"><i class="fa fa-check"></i><b>21.3.1</b> Example 1</a></li>
<li class="chapter" data-level="21.3.2" data-path="synthetic-control.html"><a href="synthetic-control.html#example-2-1"><i class="fa fa-check"></i><b>21.3.2</b> Example 2</a></li>
<li class="chapter" data-level="21.3.3" data-path="synthetic-control.html"><a href="synthetic-control.html#example-3-1"><i class="fa fa-check"></i><b>21.3.3</b> Example 3</a></li>
<li class="chapter" data-level="21.3.4" data-path="synthetic-control.html"><a href="synthetic-control.html#example-4-1"><i class="fa fa-check"></i><b>21.3.4</b> Example 4</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="synthetic-difference-in-differences.html"><a href="synthetic-difference-in-differences.html"><i class="fa fa-check"></i><b>21.4</b> Synthetic Difference-in-differences</a></li>
<li class="chapter" data-level="21.5" data-path="selection-on-observables.html"><a href="selection-on-observables.html"><i class="fa fa-check"></i><b>21.5</b> Selection on observables</a></li>
<li class="chapter" data-level="21.6" data-path="matching-methods.html"><a href="matching-methods.html"><i class="fa fa-check"></i><b>21.6</b> Matching Methods</a>
<ul>
<li class="chapter" data-level="21.6.1" data-path="matching-methods.html"><a href="matching-methods.html#matchit"><i class="fa fa-check"></i><b>21.6.1</b> MatchIt</a></li>
<li class="chapter" data-level="21.6.2" data-path="matching-methods.html"><a href="matching-methods.html#matchingfrontier"><i class="fa fa-check"></i><b>21.6.2</b> MatchingFrontier</a></li>
<li class="chapter" data-level="21.6.3" data-path="matching-methods.html"><a href="matching-methods.html#propensity-scores"><i class="fa fa-check"></i><b>21.6.3</b> Propensity Scores</a></li>
<li class="chapter" data-level="21.6.4" data-path="matching-methods.html"><a href="matching-methods.html#mahalanobis-distance"><i class="fa fa-check"></i><b>21.6.4</b> Mahalanobis Distance</a></li>
<li class="chapter" data-level="21.6.5" data-path="matching-methods.html"><a href="matching-methods.html#coarsened-exact-matching"><i class="fa fa-check"></i><b>21.6.5</b> Coarsened Exact Matching</a></li>
<li class="chapter" data-level="21.6.6" data-path="matching-methods.html"><a href="matching-methods.html#genetic-matching"><i class="fa fa-check"></i><b>21.6.6</b> Genetic Matching</a></li>
<li class="chapter" data-level="21.6.7" data-path="matching-methods.html"><a href="matching-methods.html#matching-for-time-series-cross-section-data"><i class="fa fa-check"></i><b>21.6.7</b> Matching for time series-cross-section data</a></li>
</ul></li>
<li class="chapter" data-level="21.7" data-path="interrupted-time-series.html"><a href="interrupted-time-series.html"><i class="fa fa-check"></i><b>21.7</b> Interrupted Time Series</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="endogeneity.html"><a href="endogeneity.html"><i class="fa fa-check"></i><b>22</b> Endogeneity</a>
<ul>
<li class="chapter" data-level="22.1" data-path="measurement-error.html"><a href="measurement-error.html"><i class="fa fa-check"></i><b>22.1</b> Measurement Error</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="measurement-error.html"><a href="measurement-error.html#classical-measurement-errors"><i class="fa fa-check"></i><b>22.1.1</b> Classical Measurement Errors</a></li>
<li class="chapter" data-level="22.1.2" data-path="measurement-error.html"><a href="measurement-error.html#non-classical-measurement-errors"><i class="fa fa-check"></i><b>22.1.2</b> Non-classical Measurement Errors</a></li>
<li class="chapter" data-level="22.1.3" data-path="measurement-error.html"><a href="measurement-error.html#solution-to-measurement-errors"><i class="fa fa-check"></i><b>22.1.3</b> Solution to Measurement Errors</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="simultaneity.html"><a href="simultaneity.html"><i class="fa fa-check"></i><b>22.2</b> Simultaneity</a></li>
<li class="chapter" data-level="22.3" data-path="endogenous-treatment.html"><a href="endogenous-treatment.html"><i class="fa fa-check"></i><b>22.3</b> Endogenous Treatment</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="endogenous-treatment.html"><a href="endogenous-treatment.html#instrumental-variable"><i class="fa fa-check"></i><b>22.3.1</b> Instrumental Variable</a></li>
<li class="chapter" data-level="22.3.2" data-path="endogenous-treatment.html"><a href="endogenous-treatment.html#internal-instrumental-variable"><i class="fa fa-check"></i><b>22.3.2</b> Internal instrumental variable</a></li>
<li class="chapter" data-level="22.3.3" data-path="endogenous-treatment.html"><a href="endogenous-treatment.html#proxy-variables"><i class="fa fa-check"></i><b>22.3.3</b> Proxy Variables</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="endogenous-sample-selection.html"><a href="endogenous-sample-selection.html"><i class="fa fa-check"></i><b>22.4</b> Endogenous Sample Selection</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="endogenous-sample-selection.html"><a href="endogenous-sample-selection.html#tobit-2"><i class="fa fa-check"></i><b>22.4.1</b> Tobit-2</a></li>
<li class="chapter" data-level="22.4.2" data-path="endogenous-sample-selection.html"><a href="endogenous-sample-selection.html#tobit-5"><i class="fa fa-check"></i><b>22.4.2</b> Tobit-5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="mediation.html"><a href="mediation.html"><i class="fa fa-check"></i><b>23</b> Mediation</a>
<ul>
<li class="chapter" data-level="23.1" data-path="traditional.html"><a href="traditional.html"><i class="fa fa-check"></i><b>23.1</b> Traditional</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="traditional.html"><a href="traditional.html#example-1-mediation-traditional"><i class="fa fa-check"></i><b>23.1.1</b> Example 1</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="model-based-causal-mediation-analysis.html"><a href="model-based-causal-mediation-analysis.html"><i class="fa fa-check"></i><b>23.2</b> Model-based causal mediation analysis</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="directed-acyclic-graph.html"><a href="directed-acyclic-graph.html"><i class="fa fa-check"></i><b>24</b> Directed Acyclic Graph</a></li>
<li class="part"><span><b>VI MISCELLANEOUS</b></span></li>
<li class="chapter" data-level="25" data-path="report.html"><a href="report.html"><i class="fa fa-check"></i><b>25</b> Report</a>
<ul>
<li class="chapter" data-level="25.1" data-path="one-summary-table.html"><a href="one-summary-table.html"><i class="fa fa-check"></i><b>25.1</b> One summary table</a></li>
<li class="chapter" data-level="25.2" data-path="model-comparison.html"><a href="model-comparison.html"><i class="fa fa-check"></i><b>25.2</b> Model Comparison</a></li>
<li class="chapter" data-level="25.3" data-path="changes-in-an-estimate.html"><a href="changes-in-an-estimate.html"><i class="fa fa-check"></i><b>25.3</b> Changes in an estimate</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>26</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="27" data-path="sensitivity-analysis-robustness-check.html"><a href="sensitivity-analysis-robustness-check.html"><i class="fa fa-check"></i><b>27</b> Sensitivity Analysis/ Robustness Check</a>
<ul>
<li class="chapter" data-level="27.1" data-path="specification-curve.html"><a href="specification-curve.html"><i class="fa fa-check"></i><b>27.1</b> Specification curve</a>
<ul>
<li class="chapter" data-level="27.1.1" data-path="specification-curve.html"><a href="specification-curve.html#starbility"><i class="fa fa-check"></i><b>27.1.1</b> starbility</a></li>
<li class="chapter" data-level="27.1.2" data-path="specification-curve.html"><a href="specification-curve.html#rdfanalysis"><i class="fa fa-check"></i><b>27.1.2</b> rdfanalysis</a></li>
</ul></li>
<li class="chapter" data-level="27.2" data-path="coefficient-stability.html"><a href="coefficient-stability.html"><i class="fa fa-check"></i><b>27.2</b> Coefficient stability</a></li>
</ul></li>
<li class="appendix"><span><b>APPENDIX</b></span></li>
<li class="chapter" data-level="A" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>A</b> Appendix</a>
<ul>
<li class="chapter" data-level="A.1" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>A.1</b> Git</a></li>
<li class="chapter" data-level="A.2" data-path="short-cut.html"><a href="short-cut.html"><i class="fa fa-check"></i><b>A.2</b> Short-cut</a></li>
<li class="chapter" data-level="A.3" data-path="function-short-cut.html"><a href="function-short-cut.html"><i class="fa fa-check"></i><b>A.3</b> Function short-cut</a></li>
<li class="chapter" data-level="A.4" data-path="citation.html"><a href="citation.html"><i class="fa fa-check"></i><b>A.4</b> Citation</a></li>
<li class="chapter" data-level="A.5" data-path="install-all-necessary-packageslibaries-on-your-local-machine.html"><a href="install-all-necessary-packageslibaries-on-your-local-machine.html"><i class="fa fa-check"></i><b>A.5</b> Install all necessary packages/libaries on your local machine</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="bookdown-cheat-sheet.html"><a href="bookdown-cheat-sheet.html"><i class="fa fa-check"></i><b>B</b> Bookdown cheat sheet</a>
<ul>
<li class="chapter" data-level="B.1" data-path="operation.html"><a href="operation.html"><i class="fa fa-check"></i><b>B.1</b> Operation</a></li>
<li class="chapter" data-level="B.2" data-path="math-expresssion-syntax.html"><a href="math-expresssion-syntax.html"><i class="fa fa-check"></i><b>B.2</b> Math Expresssion/ Syntax</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="math-expresssion-syntax.html"><a href="math-expresssion-syntax.html#statistics-notation"><i class="fa fa-check"></i><b>B.2.1</b> Statistics Notation</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="table.html"><a href="table.html"><i class="fa fa-check"></i><b>B.3</b> Table</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Guide on Data Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="matching-methods" class="section level2" number="21.6">
<h2><span class="header-section-number">21.6</span> Matching Methods</h2>
<p><strong>Assumption</strong>: Observables can identify the selection into the treatment and control groups</p>
<p><strong>Identification</strong>: The exclusion restriction can be met conditional on the observables</p>
<p><strong>Motivation</strong></p>
<p>Effect of college quality on earnings</p>
<p>They ultimately estimate the treatment effect on the treated of attending a top (high ACT) versus bottom (low ACT) quartile college</p>
<p>Matching is <a href="selection-on-observables.html#selection-on-observables">Selection on observables</a> and only works if you have good observables.</p>
<p>Relative to <a href="ordinary-least-squares.html#ordinary-least-squares">OLS</a></p>
<ol style="list-style-type: decimal">
<li>Matching makes the <strong>common support</strong> explicit (and changes default from “ignore” to “enforce”)</li>
<li>Relaxes linear function form. Thus, less parametric.</li>
</ol>
<p>It also helps if you have high ratio of controls to treatments.</p>
<p><br></p>
<p>For detail summary <span class="citation">(<a href="#ref-Stuart_2010" role="doc-biblioref">Stuart 2010</a>)</span></p>
<p>Matching is defined as “any method that aims to equate (or”balance”) the distribution of covariates in the treated and control groups.” <span class="citation">(<a href="#ref-Stuart_2010" role="doc-biblioref">Stuart 2010, 1</a>)</span></p>
<p>Equivalently, matching is a selection on observables identifications strategy.</p>
<p><strong>If you think your OLS estimate is biased, a matching estimate (almost surely) is too.</strong></p>
<p>Unconditionally, consider</p>
<p><span class="math display">\[
E(Y_i^T | T) - E(Y_i^C |C) + E(Y_i^C | T) - E(Y_i^C | T) \\
= E(Y_i^T - Y_i^C | T) + [E(Y_i^C | T) - E(Y_i^C |C)] \\
= E(Y_i^T - Y_i^C | T) + \text{selection bias}
\]</span></p>
<p>where <span class="math inline">\(E(Y_i^T - Y_i^C | T)\)</span> is the causal inference that we want to know.</p>
<p>Randomization eliminates the selection bias.</p>
<p>If we don’t have randomization, then <span class="math inline">\(E(Y_i^C | T) \neq E(Y_i^C |C)\)</span></p>
<p>Matching tries to do selection on observables <span class="math inline">\(E(Y_i^C | X, T) = E(Y_i^C|X, C)\)</span></p>
<p><a href="matching-methods.html#propensity-scores">Propensity Scores</a> basically do <span class="math inline">\(E(Y_i^C| P(X) , T) = E(Y_i^C | P(X), C)\)</span></p>
<p><strong>Matching standard errors will exceed OLS standard errors</strong></p>
<p>The treatment should have larger predictive power than the control because you use treatment to pick control (not control to pick treatment).</p>
<p>The average treatment effect (ATE) is</p>
<p><span class="math display">\[
\frac{1}{N_T} \sum_{i=1}^{N_T} (Y_i^T - \frac{1}{N_{C_T}} \sum_{i=1}^{N_{C_T}} Y_i^C)
\]</span></p>
<p>Since there is no closed-form solution for the standard error of the average treatment effect, we have to use bootstrapping to get standard error.</p>
<p><br></p>
<p>Professor Gary King advocates instead of using the word “matching”, we should use “<strong>pruning</strong>” (i.e., deleting observations). It is a preprocessing step where it prunes nonmatches to make control variables less important in your analysis.</p>
<p>Without Matching</p>
<ul>
<li><strong>Imbalance data</strong> leads to <strong>model dependence</strong> lead to a lot of <strong>researcher discretion</strong> leads to <strong>bias</strong></li>
</ul>
<p>With Matching</p>
<ul>
<li>We have balance data which essentially erase human discretion</li>
</ul>
<table>
<caption>Table @ref(tab:Gary King - International Methods Colloquium talk 2015)</caption>
<thead>
<tr class="header">
<th>Balance Covariates</th>
<th>Complete Randomization</th>
<th>Fully Exact</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Observed</td>
<td>On average</td>
<td>Exact</td>
</tr>
<tr class="even">
<td>Unobserved</td>
<td>On average</td>
<td>On average</td>
</tr>
</tbody>
</table>
<p>Fully blocked is superior on</p>
<ul>
<li><p>imbalance</p></li>
<li><p>model dependence</p></li>
<li><p>power</p></li>
<li><p>efficiency</p></li>
<li><p>bias</p></li>
<li><p>research costs</p></li>
<li><p>robustness</p></li>
</ul>
<p>Matching is used when</p>
<ul>
<li><p>Outcomes are not available to select subjects for follow-up</p></li>
<li><p>Outcomes are available to improve precision of the estimate (i.e., reduce bias)</p></li>
</ul>
<p>Hence, we can only observe one outcome of a unit (either treated or control), we can think of this problem as missing data as well. Thus, this section is closely related to <a href="imputation-missing-data.html#imputation-missing-data">Imputation (Missing Data)</a></p>
<p>In observational studies, we cannot randomize the treatment effect. Subjects select their own treatments, which could introduce selection bias (i.e., systematic differences between group differences that confound the effects of response variable differences).</p>
<p><br></p>
<p>Matching is used to</p>
<ul>
<li><p>reduce model dependence</p></li>
<li><p>diagnose balance in the dataset</p></li>
</ul>
<p>Assumptions of matching:</p>
<ol style="list-style-type: decimal">
<li><p>treatment assignment is independent of potential outcomes given the covariates</p>
<ul>
<li><p><span class="math inline">\(T \perp (Y(0),Y(1))|X\)</span></p></li>
<li><p>known as ignorability, or ignorable, no hidden bias, or unconfounded.</p></li>
<li><p>You typically satisfy this assumption when unobserved covariates correlated with observed covariates.</p>
<ul>
<li>But when unobserved covariates are unrelated to the observed covariates, you can use sensitivity analysis to check your result, or use “design sensitivity” <span class="citation">(<a href="#ref-Heller_2009" role="doc-biblioref">Heller, Rosenbaum, and Small 2009</a>)</span></li>
</ul></li>
</ul></li>
<li><p>positive probability of receiving treatment for all X</p>
<ul>
<li><span class="math inline">\(0 &lt; P(T=1|X)&lt;1 \forall X\)</span></li>
</ul></li>
<li><p>Stable Unit Treatment value Assumption (SUTVA)</p>
<ul>
<li><p>Outcomes of A are not affected by treatment of B.</p>
<ul>
<li>Very hard in cases where there is “spillover” effects (interactions between control and treatment). To combat, we need to reduce interactions.</li>
</ul></li>
</ul></li>
</ol>
<p>Generalization</p>
<ul>
<li><p><span class="math inline">\(P_t\)</span>: treated population -&gt; <span class="math inline">\(N_t\)</span>: random sample from treated</p></li>
<li><p><span class="math inline">\(P_c\)</span>: control population -&gt; <span class="math inline">\(N_c\)</span>: random sample from control</p></li>
<li><p><span class="math inline">\(\mu_i\)</span> = means ; <span class="math inline">\(\Sigma_i\)</span> = variance covariance matrix of the <span class="math inline">\(p\)</span> covariates in group i (<span class="math inline">\(i = t,c\)</span>)</p></li>
<li><p><span class="math inline">\(X_j\)</span> = <span class="math inline">\(p\)</span> covariates of individual <span class="math inline">\(j\)</span></p></li>
<li><p><span class="math inline">\(T_j\)</span> = treatment assignment</p></li>
<li><p><span class="math inline">\(Y_j\)</span> = observed outcome</p></li>
<li><p>Assume: <span class="math inline">\(N_t &lt; N_c\)</span></p></li>
<li><p>Treatment effect is <span class="math inline">\(\tau(x) = R_1(x) - R_0(x)\)</span> where</p>
<ul>
<li><p><span class="math inline">\(R_1(x) = E(Y(1)|X)\)</span></p></li>
<li><p><span class="math inline">\(R_0(x) = E(Y(0)|X)\)</span></p></li>
</ul></li>
<li><p>Assume: parallel trends hence <span class="math inline">\(\tau(x) = \tau \forall x\)</span></p>
<ul>
<li>If the parallel trends are not assumed, an average effect can be estimated.</li>
</ul></li>
<li><p>Common estimands:</p>
<ul>
<li><p>Average effect of the treatment on the treated (ATT): effects on treatment group</p></li>
<li><p>Average treatment effect (ATE): effect on both treatment and control</p></li>
</ul></li>
</ul>
<p>Steps:</p>
<ol style="list-style-type: decimal">
<li><p>Define “closeness”: decide distance measure to be used</p>
<ol style="list-style-type: decimal">
<li><p>Which variables to include:</p>
<ol style="list-style-type: decimal">
<li><p>Ignorability (no unobserved differences between treatment and control)</p>
<ol style="list-style-type: decimal">
<li><p>Since cost of including unrelated variables is small, you should include as many as possible (unless sample size/power doesn’t allow you to because of increased variance)</p></li>
<li><p>Do not include variables that were affected by the treatment.</p></li>
<li><p>Note: if a matching variable (i.e., heavy drug users) is highly correlated to the outcome variable (i.e., heavy drinkers) , you will be better to exclude it in the matching set.</p></li>
</ol></li>
</ol></li>
<li><p>Which distance measures: more below</p></li>
</ol></li>
<li><p>Matching methods</p>
<ol style="list-style-type: decimal">
<li><p>Nearest neighbor matching</p>
<ol style="list-style-type: decimal">
<li><p>Simple (greedy) matching: performs poorly when there is competition for controls.</p></li>
<li><p>Optimal matching: considers global distance measure</p></li>
<li><p>Ratio matching: to combat increase bias and reduced variation when you have k:1 matching, one can use approximations by Rubin and Thomas (1996).</p></li>
<li><p>With or without replacement: with replacement is typically better, but one needs to account for dependent in the matched sample when doing later analysis (can use frequency weights to combat).</p></li>
</ol></li>
<li><p>Subclassification, Full Matching and Weighting</p>
<p>Neareast neighbor matching assign is 0 (control) or 1 (treated), while these methods use weights between 0 and 1.</p>
<ol style="list-style-type: decimal">
<li><p>Subclassification: distribution into multiple subclass (e.g., 5-10)</p></li>
<li><p>Full matching: optimal ly minimize the average of the distances between each treated unit and each control unit within each matched set.</p></li>
<li><p>Weighting adjustments: weighting technique uses propensity scores to estimate ATE. If the weights are extreme, the variance can be large not due to the underlying probabilities, but due to the estimation procure. To combat this, use (1) weight trimming, or (2) doubly -robust methods when propensity scores are used for weighing or matching.</p>
<ol style="list-style-type: decimal">
<li><p>Inverse probability of treatment weighting (IPTW) <span class="math inline">\(w_i = \frac{T_i}{\hat{e}_i} + \frac{1 - T_i}{1 - \hat{e}_i}\)</span></p></li>
<li><p>Odds <span class="math inline">\(w_i = T_i + (1-T_i) \frac{\hat{e}_i}{1-\hat{e}_i}\)</span></p></li>
<li><p>Kernel weighting (e.g., in economics) averages over multiple units in the control group.</p></li>
</ol></li>
</ol></li>
<li><p>Assessing Common Support</p>
<ul>
<li>common support means overlapping of the propensity score distributions in the treatment and control groups. Propensity score is used to discard control units from the common support. Alternatively, convex hull of the covariates in the multi-dimensional space.</li>
</ul></li>
</ol></li>
<li><p>Assessing the quality of matched samples (Diagnose)</p>
<ul>
<li><p>Balance = similarity of the empirical distribution of the full set of covariates in the matched treated and control groups. Equivalently, treatment is unrelated to the covariates</p>
<ul>
<li><span class="math inline">\(\tilde{p}(X|T=1) = \tilde{p}(X|T=0)\)</span> where <span class="math inline">\(\tilde{p}\)</span> is the empirical distribution.</li>
</ul></li>
<li><p>Numerical Diagnostics</p>
<ol style="list-style-type: decimal">
<li><p>standardized difference in means of each covariate (most common), also known as”standardized bias”, “standardized difference in means”.</p></li>
<li><p>standardized difference of means of the propensity score (should be &lt; 0.25) <span class="citation">(<a href="#ref-Rubin_2001" role="doc-biblioref">Rubin 2001</a>)</span></p></li>
<li><p>ratio of the variances of the propensity score in the treated and control groups (should be between 0.5 and 2). <span class="citation">(<a href="#ref-Rubin_2001" role="doc-biblioref">Rubin 2001</a>)</span></p></li>
<li><p>For each covariate, the ratio fo the variance of the residuals orthogonal to the propensity score in the treated and control groups.</p>
<p>Note: can’t use hypothesis tests or p-values because of (1) in-sample property (not population), (2) conflation of changes in balance with changes in statistical power.</p></li>
</ol></li>
<li><p>Graphical Diagnostics</p>
<ul>
<li><p>QQ plots</p></li>
<li><p>Empirical Distribution Plot</p></li>
</ul></li>
</ul></li>
<li><p>Estimate the treatment effect</p>
<ol style="list-style-type: decimal">
<li><p>After k:1</p>
<ol style="list-style-type: decimal">
<li>Need to account for weights when use matching with replacement.</li>
</ol></li>
<li><p>After Subclassification and Full Matching</p>
<ol style="list-style-type: decimal">
<li><p>weighting the subclass estimates by the number of treated units in each subclass for ATT</p></li>
<li><p>WEighting by the overall number of individual in each subclass for ATE.</p></li>
</ol></li>
<li><p>Variance estimation: should incorporate uncertainties in both the matching procedure (step 3) and the estimation procedure (step 4)</p></li>
</ol></li>
</ol>
<p><br></p>
<p>Notes:</p>
<ul>
<li><p>With missing data, use generalized boosted models, or multiple imputation <span class="citation">(<a href="#ref-Qu_2009" role="doc-biblioref">Qu and Lipkovich 2009</a>)</span></p></li>
<li><p>Violation of ignorable treatment assignment (i.e., unobservables affect treatment and outcome). control by</p>
<ul>
<li><p>measure pre-treatment measure of the outcome variable</p></li>
<li><p>find the difference in outcomes between multiple control groups. If there is a significant difference, there is evidence for violation.</p></li>
<li><p>find the range of correlations between unobservables and both treatment assignment and outcome to nullify the significant effect.</p></li>
</ul></li>
<li><p>Choosing between methods</p>
<ul>
<li><p>smallest standardized difference of mean across the largest number of covariates</p></li>
<li><p>minimize the standardized difference of means of a few particularly prognostic covariates</p></li>
<li><p>fest number of large standardized difference of means (&gt; 0.25)</p></li>
<li><p><span class="citation">(<a href="#ref-Diamond_2013" role="doc-biblioref">Diamond and Sekhon 2013</a>)</span> automates the process</p></li>
</ul></li>
<li><p>In practice</p>
<ul>
<li><p>If ATE, ask if there is enough overlap of the treated and control groups’ propensity score to estimate ATE, if not use ATT instead</p></li>
<li><p>If ATT, ask if there are controls across the full range of the treated group</p></li>
</ul></li>
<li><p>Choose matching method</p>
<ul>
<li><p>If ATE, use IPTW or full matching</p></li>
<li><p>If ATT, and more controls than treated (at least 3 times), k:1 nearest neighbor without replacement</p></li>
<li><p>If ATT, and few controls , use subclassification, full matching, and weighting by the odds</p></li>
</ul></li>
<li><p>Diagnostic</p>
<ul>
<li><p>If balance, use regression on matched samples</p></li>
<li><p>If imbalance on few covariates, treat them with Mahalanobis</p></li>
<li><p>If imbalance on many covariates, try k:1 matching with replacement</p></li>
</ul></li>
</ul>
<p>Ways to define the distance <span class="math inline">\(D_{ij}\)</span></p>
<ol style="list-style-type: decimal">
<li>Exact</li>
</ol>
<p><span class="math display">\[
D_{ij} =
\begin{cases}
0, \text{ if } X_i = X_j, \\
\infty, \text{ if } X_i \neq X_j
\end{cases}
\]</span></p>
<p>An advanced is <a href="matching-methods.html#coarsened-exact-matching">Coarsened Exact Matching</a></p>
<ol start="2" style="list-style-type: decimal">
<li>Mahalanobis</li>
</ol>
<p><span class="math display">\[
D_{ij} = (X_i - X_j)&#39;\Sigma^{-1} (X_i - X_j)
\]</span></p>
<p>where</p>
<p><span class="math inline">\(\Sigma\)</span> = variance covariance matrix of X in the</p>
<ul>
<li><p>control group if ATT is interested</p></li>
<li><p>polled treatment and control groups if ATE is interested</p></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Propensity score:</li>
</ol>
<p><span class="math display">\[
D_{ij} = |e_i - e_j|
\]</span></p>
<p>where <span class="math inline">\(e_k\)</span> = the propensity score for individual k</p>
<p>An advanced is Prognosis score <span class="citation">(<a href="#ref-Hansen_2008" role="doc-biblioref">Hansen 2008</a>)</span>, but you have to know (i.e., specify) the relationship between the covariates and outcome.</p>
<ol start="4" style="list-style-type: decimal">
<li>Linear propensity score</li>
</ol>
<p><span class="math display">\[
D_{ij} = |logit(e_i) - logit(e_j)|
\]</span></p>
<p>The exact and Mahalanobis are not good in high dimensional or non normally distributed X’s cases.</p>
<p>We can combine Mahalanobis matching with propensity score calipers <span class="citation">(<a href="#ref-Rubin_2000" role="doc-biblioref">Rubin and Thomas 2000</a>)</span></p>
<p>Other advanced methods for longitudinal settings</p>
<ul>
<li><p>marginal structural models <span class="citation">(<a href="#ref-Robins_2000" role="doc-biblioref">Robins, Hernán, and Brumback 2000</a>)</span></p></li>
<li><p>balanced risk set matching <span class="citation">(<a href="#ref-Li_2001" role="doc-biblioref">Li, Propert, and Rosenbaum 2001</a>)</span></p></li>
</ul>
<p><br />
Most matching methods are based on (ex-post)</p>
<ul>
<li><p>propensity score</p></li>
<li><p>distance metric</p></li>
<li><p>covariates</p></li>
</ul>
<p>Packages</p>
<ul>
<li><p><code>cem</code> Coarsened exact matching</p></li>
<li><p><code>Matching</code> Multivariate and propensity score matching with balance optimization</p></li>
<li><p><code>MatchIt</code> Nonparametric preprocessing for parametric causal inference. Have nearest neighbor, Mahalanobis, caliper, exact, full, optimal, subclassification</p></li>
<li><p><code>MatchingFrontier</code> optimize balance and sample size <span class="citation">(<a href="#ref-King_2016" role="doc-biblioref">G. King, Lucas, and Nielsen 2016</a>)</span></p></li>
<li><p><code>optmatch</code>optimal matching with variable ratio, optimal and full matching</p></li>
<li><p><code>PSAgraphics</code> Propensity score graphics</p></li>
<li><p><code>rbounds</code> sensitivity analysis with matched data, examine ignorable treatment assignment assumption</p></li>
<li><p><code>twang</code> weighting and analysis of non-equivalent groups</p></li>
<li><p><code>CBPS</code> covariate balancing propensity score. Can also be used in the longitudinal setting with marginal structural models.</p></li>
<li><p><code>PanelMatch</code> based on <a href="https://imai.fas.harvard.edu/research/files/tscs.pdf">Imai, Kim, and Wang (2018)</a></p></li>
</ul>
<p><br></p>
<table>
<colgroup>
<col width="62%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th>Matching</th>
<th>Regression</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Not as sensitive to the functional form of the covariates</td>
<td>can estimate the effect of a continuous treatment</td>
</tr>
<tr class="even">
<td><p>Easier to asses whether it’s working</p>
<p>Easier to explain</p>
<p>allows a nice visualization of an evaluation</p></td>
<td>estimate the effect of all the variables (not just the treatment)</td>
</tr>
<tr class="odd">
<td>If you treatment is fairly rare, you may have a lot of control observations that are obviously no comparable</td>
<td>can estimate interactions of treatment with covariates</td>
</tr>
<tr class="even">
<td>Less parametric</td>
<td>More parametric</td>
</tr>
<tr class="odd">
<td>Enforces common support (i.e., space where treatment and control have the same characteristics)</td>
<td></td>
</tr>
</tbody>
</table>
<p>However, the problem of <strong>omitted variables</strong> (i.e., those that affect both the outcome and whether observation was treated) - unobserved confounders is still present in matching methods.</p>
<p><br></p>
<p>Difference between matching and regression following Jorn-Ste§en Pischke’s <a href="https://econ.lse.ac.uk/staff/spischke/ec533/regression%20vs%20matching.pdf">lecture</a></p>
<p>Suppose we want to estimate the effect of treatment on the treated</p>
<p><span class="math display">\[
\begin{aligned}
\delta_{TOT} &amp;= E[ Y_{1i} - Y_{0i} | D_i = 1 ] \\
&amp;= E\{E[Y_{1i} | X_i, D_i = 1] - E[Y_{0i}|X_i, D_i = 1]|D_i = 1\} &amp;&amp; \text{law of itereated expectations}
\end{aligned}
\]</span></p>
<p>Under conditional independence</p>
<p><span class="math display">\[
E[Y_{0i} |X_i , D_i = 0 ] = E[Y_{0i} | X_i, D_i = 1]
\]</span></p>
<p>then</p>
<p><span class="math display">\[
\begin{aligned}
\delta_{TOT} &amp;= E \{ E[ Y_{1i} | X_i, D_i = 1] - E[ Y_{0i}|X_i, D_i = 0 ]|D_i = 1\} \\
&amp;= E\{E[y_i | X_i, D_i = 1] - E[y_i |X_i, D_i = 0 ] | D_i = 1\} \\
&amp;= E[\delta_X |D_i = 1]
\end{aligned}
\]</span></p>
<p>where <span class="math inline">\(\delta_X\)</span> is an X-specific difference in means at covariate value <span class="math inline">\(X_i\)</span></p>
<p>When <span class="math inline">\(X_i\)</span> is discrete, the matching estimand is</p>
<p><span class="math display">\[
\delta_M = \sum_x \delta_x P(X_i = x |D_i = 1)
\]</span></p>
<p>where <span class="math inline">\(P(X_i = x |D_i = 1)\)</span> is the probability mass function for <span class="math inline">\(X_i\)</span> given <span class="math inline">\(D_i = 1\)</span></p>
<p>According to Bayes rule,</p>
<p><span class="math display">\[
P(X_i = x | D_i = 1) = \frac{P(D_i = 1 | X_i = x) \times P(X_i = x)}{P(D_i = 1)}
\]</span></p>
<p>hence,</p>
<p><span class="math display">\[
\begin{aligned}
\delta_M &amp;= \frac{\sum_x \delta_x P (D_i = 1 | X_i = x) P (X_i = x)}{\sum_x P(D_i = 1 |X_i = x)P(X_i = x)} \\
&amp;= \sum_x \delta_x \frac{ P (D_i = 1 | X_i = x) P (X_i = x)}{\sum_x P(D_i = 1 |X_i = x)P(X_i = x)}
\end{aligned}
\]</span></p>
<p>On the other hand, suppose we have regression</p>
<p><span class="math display">\[
y_i = \sum_x d_{ix} \beta_x + \delta_R D_i + \epsilon_i
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(d_{ix}\)</span> = dummy that indicates <span class="math inline">\(X_i = x\)</span></p></li>
<li><p><span class="math inline">\(\beta_x\)</span> = regression-effect for <span class="math inline">\(X_i = x\)</span></p></li>
<li><p><span class="math inline">\(\delta_R\)</span> = regression estimand where</p></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
\delta_R &amp;= \frac{\sum_x \delta_x [P(D_i = 1 | X_i = x) (1 - P(D_i = 1 | X_i = x))]P(X_i = x)}{\sum_x [P(D_i = 1| X_i = x)(1 - P(D_i = 1 | X_i = x))]P(X_i = x)} \\
&amp;= \sum_x \delta_x \frac{[P(D_i = 1 | X_i = x) (1 - P(D_i = 1 | X_i = x))]P(X_i = x)}{\sum_x [P(D_i = 1| X_i = x)(1 - P(D_i = 1 | X_i = x))]P(X_i = x)}
\end{aligned}
\]</span></p>
<p>the difference between the regression and matching estimand is the weights they use to combine the covariate specific treatment effect <span class="math inline">\(\delta_x\)</span></p>
<table>
<colgroup>
<col width="2%" />
<col width="17%" />
<col width="44%" />
<col width="35%" />
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>uses weights which depend on</th>
<th>interpretation</th>
<th>makes sense because</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Matching</td>
<td><p><span class="math inline">\(P(D_i = 1|X_i = x)\)</span></p>
<p>the fraction of treated observations in a covariate cell (i.e., or the mean of <span class="math inline">\(D_i\)</span>)</p></td>
<td>This is larger in cells with many treated observations.</td>
<td>we want the effect of treatment on the treated</td>
</tr>
<tr class="even">
<td>Regression</td>
<td><p><span class="math inline">\(P(D_i = 1 |X_i = x)(1 - P(D_i = 1| X_i ))\)</span></p>
<p>the variance of <span class="math inline">\(D_i\)</span> in the covariate cell</p></td>
<td>This weight is largest in cells where there are half treated and half untreated observations. (this is the reason why we want to treat our sample so it is balanced, before running regular regression model, as mentioned above).</td>
<td>these cells will produce the lowest variance estimates of <span class="math inline">\(\delta_x\)</span>. If all the <span class="math inline">\(\delta_x\)</span> are the same, the most efficient estimand uses the lowest variance cells most heavily.</td>
</tr>
</tbody>
</table>
<p>The goal of matching is to produce covariate balance (i.e., distributions of covariates in treatment and control groups are approximately similar as they would be in a successful randomized experiment).</p>
<div id="matchit" class="section level3" number="21.6.1">
<h3><span class="header-section-number">21.6.1</span> MatchIt</h3>
<p>Procedure typically involves (proposed by <a href="https://cran.r-project.org/web/packages/MatchIt/vignettes/MatchIt.html">Noah Freifer</a> using <code>MatchIt</code>)</p>
<ol style="list-style-type: decimal">
<li>planning</li>
<li>matching</li>
<li>checking (balance)</li>
<li>estimating the treatment effect</li>
</ol>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="matching-methods.html#cb414-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MatchIt)</span>
<span id="cb414-2"><a href="matching-methods.html#cb414-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;lalonde&quot;</span>)</span></code></pre></div>
<p>examine <code>treat</code> on <code>re78</code></p>
<ol style="list-style-type: decimal">
<li>Planning</li>
</ol>
<ul>
<li><p>select type of effect to be estimated (e.g., mediation effect, conditional effect, marginal effect)</p></li>
<li><p>select the target population</p></li>
<li><p>select variables to match/balance <span class="citation">(<a href="#ref-Austin_2011" role="doc-biblioref">Austin 2011</a>)</span> <span class="citation">(<a href="#ref-VanderWeele_2019" role="doc-biblioref">VanderWeele 2019</a>)</span></p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Check Initial Imbalance</li>
</ol>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="matching-methods.html#cb415-1" aria-hidden="true" tabindex="-1"></a><span class="co"># No matching; constructing a pre-match matchit object</span></span>
<span id="cb415-2"><a href="matching-methods.html#cb415-2" aria-hidden="true" tabindex="-1"></a>m.out0 <span class="ot">&lt;-</span> <span class="fu">matchit</span>(</span>
<span id="cb415-3"><a href="matching-methods.html#cb415-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">formula</span>(treat <span class="sc">~</span> age <span class="sc">+</span> educ <span class="sc">+</span> race <span class="sc">+</span> married <span class="sc">+</span> nodegree <span class="sc">+</span> re74 <span class="sc">+</span> re75, <span class="at">env =</span> lalonde),</span>
<span id="cb415-4"><a href="matching-methods.html#cb415-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">data.frame</span>(lalonde),</span>
<span id="cb415-5"><a href="matching-methods.html#cb415-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="cn">NULL</span>,</span>
<span id="cb415-6"><a href="matching-methods.html#cb415-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># assess balance before matching</span></span>
<span id="cb415-7"><a href="matching-methods.html#cb415-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">distance =</span> <span class="st">&quot;glm&quot;</span> <span class="co"># logistic regression</span></span>
<span id="cb415-8"><a href="matching-methods.html#cb415-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb415-9"><a href="matching-methods.html#cb415-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb415-10"><a href="matching-methods.html#cb415-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking balance prior to matching</span></span>
<span id="cb415-11"><a href="matching-methods.html#cb415-11" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m.out0)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Matching</li>
</ol>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="matching-methods.html#cb416-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1:1 NN PS matching w/o replacement</span></span>
<span id="cb416-2"><a href="matching-methods.html#cb416-2" aria-hidden="true" tabindex="-1"></a>m.out1 <span class="ot">&lt;-</span> <span class="fu">matchit</span>(</span>
<span id="cb416-3"><a href="matching-methods.html#cb416-3" aria-hidden="true" tabindex="-1"></a>    treat <span class="sc">~</span> age <span class="sc">+</span> educ, <span class="co">#+ race + married + nodegree + re74 + re75,</span></span>
<span id="cb416-4"><a href="matching-methods.html#cb416-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> lalonde,</span>
<span id="cb416-5"><a href="matching-methods.html#cb416-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">&quot;nearest&quot;</span>,</span>
<span id="cb416-6"><a href="matching-methods.html#cb416-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">distance =</span> <span class="st">&quot;glm&quot;</span></span>
<span id="cb416-7"><a href="matching-methods.html#cb416-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb416-8"><a href="matching-methods.html#cb416-8" aria-hidden="true" tabindex="-1"></a>m.out1</span>
<span id="cb416-9"><a href="matching-methods.html#cb416-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A matchit object</span></span>
<span id="cb416-10"><a href="matching-methods.html#cb416-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - method: 1:1 nearest neighbor matching without replacement</span></span>
<span id="cb416-11"><a href="matching-methods.html#cb416-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - distance: Propensity score</span></span>
<span id="cb416-12"><a href="matching-methods.html#cb416-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              - estimated with logistic regression</span></span>
<span id="cb416-13"><a href="matching-methods.html#cb416-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - number of obs.: 445 (original), 370 (matched)</span></span>
<span id="cb416-14"><a href="matching-methods.html#cb416-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - target estimand: ATT</span></span>
<span id="cb416-15"><a href="matching-methods.html#cb416-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - covariates: age, educ</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Check balance</li>
</ol>
<p>Sometimes you have to make trade-off between balance and sample size.</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="matching-methods.html#cb417-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking balance after NN matching</span></span>
<span id="cb417-2"><a href="matching-methods.html#cb417-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m.out1, <span class="at">un =</span> <span class="cn">FALSE</span>)</span>
<span id="cb417-3"><a href="matching-methods.html#cb417-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb417-4"><a href="matching-methods.html#cb417-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb417-5"><a href="matching-methods.html#cb417-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; matchit(formula = treat ~ age + educ, data = lalonde, method = &quot;nearest&quot;, </span></span>
<span id="cb417-6"><a href="matching-methods.html#cb417-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     distance = &quot;glm&quot;)</span></span>
<span id="cb417-7"><a href="matching-methods.html#cb417-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb417-8"><a href="matching-methods.html#cb417-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Summary of Balance for Matched Data:</span></span>
<span id="cb417-9"><a href="matching-methods.html#cb417-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean</span></span>
<span id="cb417-10"><a href="matching-methods.html#cb417-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distance        0.4203        0.4179          0.0520     1.1691    0.0105</span></span>
<span id="cb417-11"><a href="matching-methods.html#cb417-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age            25.8162       25.5081          0.0431     1.1518    0.0148</span></span>
<span id="cb417-12"><a href="matching-methods.html#cb417-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educ           10.3459       10.2811          0.0323     1.5138    0.0224</span></span>
<span id="cb417-13"><a href="matching-methods.html#cb417-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          eCDF Max Std. Pair Dist.</span></span>
<span id="cb417-14"><a href="matching-methods.html#cb417-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distance   0.0595          0.0598</span></span>
<span id="cb417-15"><a href="matching-methods.html#cb417-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age        0.0486          0.5628</span></span>
<span id="cb417-16"><a href="matching-methods.html#cb417-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educ       0.0757          0.3602</span></span>
<span id="cb417-17"><a href="matching-methods.html#cb417-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb417-18"><a href="matching-methods.html#cb417-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Sample Sizes:</span></span>
<span id="cb417-19"><a href="matching-methods.html#cb417-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           Control Treated</span></span>
<span id="cb417-20"><a href="matching-methods.html#cb417-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; All           260     185</span></span>
<span id="cb417-21"><a href="matching-methods.html#cb417-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Matched       185     185</span></span>
<span id="cb417-22"><a href="matching-methods.html#cb417-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Unmatched      75       0</span></span>
<span id="cb417-23"><a href="matching-methods.html#cb417-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Discarded       0       0</span></span>
<span id="cb417-24"><a href="matching-methods.html#cb417-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb417-25"><a href="matching-methods.html#cb417-25" aria-hidden="true" tabindex="-1"></a><span class="co"># examine visually</span></span>
<span id="cb417-26"><a href="matching-methods.html#cb417-26" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(m.out1, <span class="at">type =</span> <span class="st">&quot;jitter&quot;</span>, <span class="at">interactive =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-50-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="matching-methods.html#cb418-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb418-2"><a href="matching-methods.html#cb418-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb418-3"><a href="matching-methods.html#cb418-3" aria-hidden="true" tabindex="-1"></a>    m.out1,</span>
<span id="cb418-4"><a href="matching-methods.html#cb418-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&quot;qq&quot;</span>,</span>
<span id="cb418-5"><a href="matching-methods.html#cb418-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">interactive =</span> <span class="cn">FALSE</span>,</span>
<span id="cb418-6"><a href="matching-methods.html#cb418-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">which.xs =</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>)<span class="co">#, &quot;married&quot;, &quot;re75&quot;)</span></span>
<span id="cb418-7"><a href="matching-methods.html#cb418-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-50-2.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Try Full Match (i.e., every treated matches with one control, and every control with one treated).</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="matching-methods.html#cb419-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Full matching on a probit PS</span></span>
<span id="cb419-2"><a href="matching-methods.html#cb419-2" aria-hidden="true" tabindex="-1"></a>m.out2 <span class="ot">&lt;-</span> <span class="fu">matchit</span>(treat <span class="sc">~</span> age <span class="sc">+</span> educ, <span class="co"># + race + married + nodegree + re74 + re75, </span></span>
<span id="cb419-3"><a href="matching-methods.html#cb419-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> lalonde,</span>
<span id="cb419-4"><a href="matching-methods.html#cb419-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">method =</span> <span class="st">&quot;full&quot;</span>, </span>
<span id="cb419-5"><a href="matching-methods.html#cb419-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">distance =</span> <span class="st">&quot;glm&quot;</span>, </span>
<span id="cb419-6"><a href="matching-methods.html#cb419-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">link =</span> <span class="st">&quot;probit&quot;</span>)</span>
<span id="cb419-7"><a href="matching-methods.html#cb419-7" aria-hidden="true" tabindex="-1"></a>m.out2</span>
<span id="cb419-8"><a href="matching-methods.html#cb419-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A matchit object</span></span>
<span id="cb419-9"><a href="matching-methods.html#cb419-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - method: Optimal full matching</span></span>
<span id="cb419-10"><a href="matching-methods.html#cb419-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - distance: Propensity score</span></span>
<span id="cb419-11"><a href="matching-methods.html#cb419-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              - estimated with probit regression</span></span>
<span id="cb419-12"><a href="matching-methods.html#cb419-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - number of obs.: 445 (original), 445 (matched)</span></span>
<span id="cb419-13"><a href="matching-methods.html#cb419-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - target estimand: ATT</span></span>
<span id="cb419-14"><a href="matching-methods.html#cb419-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - covariates: age, educ</span></span></code></pre></div>
<p>Checking balance again</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="matching-methods.html#cb420-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking balance after full matching</span></span>
<span id="cb420-2"><a href="matching-methods.html#cb420-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m.out2, <span class="at">un =</span> <span class="cn">FALSE</span>)</span>
<span id="cb420-3"><a href="matching-methods.html#cb420-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb420-4"><a href="matching-methods.html#cb420-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb420-5"><a href="matching-methods.html#cb420-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; matchit(formula = treat ~ age + educ, data = lalonde, method = &quot;full&quot;, </span></span>
<span id="cb420-6"><a href="matching-methods.html#cb420-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     distance = &quot;glm&quot;, link = &quot;probit&quot;)</span></span>
<span id="cb420-7"><a href="matching-methods.html#cb420-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb420-8"><a href="matching-methods.html#cb420-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Summary of Balance for Matched Data:</span></span>
<span id="cb420-9"><a href="matching-methods.html#cb420-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean</span></span>
<span id="cb420-10"><a href="matching-methods.html#cb420-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distance        0.4203        0.4198          0.0114     1.0326    0.0035</span></span>
<span id="cb420-11"><a href="matching-methods.html#cb420-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age            25.8162       25.9285         -0.0157     0.9139    0.0125</span></span>
<span id="cb420-12"><a href="matching-methods.html#cb420-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educ           10.3459       10.2973          0.0242     1.4232    0.0189</span></span>
<span id="cb420-13"><a href="matching-methods.html#cb420-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          eCDF Max Std. Pair Dist.</span></span>
<span id="cb420-14"><a href="matching-methods.html#cb420-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distance    0.027          0.0169</span></span>
<span id="cb420-15"><a href="matching-methods.html#cb420-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age         0.037          0.5230</span></span>
<span id="cb420-16"><a href="matching-methods.html#cb420-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educ        0.072          0.3603</span></span>
<span id="cb420-17"><a href="matching-methods.html#cb420-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb420-18"><a href="matching-methods.html#cb420-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Sample Sizes:</span></span>
<span id="cb420-19"><a href="matching-methods.html#cb420-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               Control Treated</span></span>
<span id="cb420-20"><a href="matching-methods.html#cb420-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; All            260.       185</span></span>
<span id="cb420-21"><a href="matching-methods.html#cb420-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Matched (ESS)  154.33     185</span></span>
<span id="cb420-22"><a href="matching-methods.html#cb420-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Matched        260.       185</span></span>
<span id="cb420-23"><a href="matching-methods.html#cb420-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Unmatched        0.         0</span></span>
<span id="cb420-24"><a href="matching-methods.html#cb420-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Discarded        0.         0</span></span>
<span id="cb420-25"><a href="matching-methods.html#cb420-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb420-26"><a href="matching-methods.html#cb420-26" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">summary</span>(m.out2))</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-52-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Exact Matching</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="matching-methods.html#cb421-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Full matching on a probit PS</span></span>
<span id="cb421-2"><a href="matching-methods.html#cb421-2" aria-hidden="true" tabindex="-1"></a>m.out3 <span class="ot">&lt;-</span></span>
<span id="cb421-3"><a href="matching-methods.html#cb421-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">matchit</span>(</span>
<span id="cb421-4"><a href="matching-methods.html#cb421-4" aria-hidden="true" tabindex="-1"></a>        treat <span class="sc">~</span> age <span class="sc">+</span> educ, <span class="co"># + race + married + nodegree + re74 + re75,</span></span>
<span id="cb421-5"><a href="matching-methods.html#cb421-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> lalonde,</span>
<span id="cb421-6"><a href="matching-methods.html#cb421-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">&quot;exact&quot;</span></span>
<span id="cb421-7"><a href="matching-methods.html#cb421-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb421-8"><a href="matching-methods.html#cb421-8" aria-hidden="true" tabindex="-1"></a>m.out3</span>
<span id="cb421-9"><a href="matching-methods.html#cb421-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A matchit object</span></span>
<span id="cb421-10"><a href="matching-methods.html#cb421-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - method: Exact matching</span></span>
<span id="cb421-11"><a href="matching-methods.html#cb421-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - number of obs.: 445 (original), 319 (matched)</span></span>
<span id="cb421-12"><a href="matching-methods.html#cb421-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - target estimand: ATT</span></span>
<span id="cb421-13"><a href="matching-methods.html#cb421-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - covariates: age, educ</span></span></code></pre></div>
<p>Subclassfication</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="matching-methods.html#cb422-1" aria-hidden="true" tabindex="-1"></a>m.out4 <span class="ot">&lt;-</span> <span class="fu">matchit</span>(</span>
<span id="cb422-2"><a href="matching-methods.html#cb422-2" aria-hidden="true" tabindex="-1"></a>    treat <span class="sc">~</span> age <span class="sc">+</span> educ, <span class="co"># + race + married + nodegree + re74 + re75,</span></span>
<span id="cb422-3"><a href="matching-methods.html#cb422-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> lalonde,</span>
<span id="cb422-4"><a href="matching-methods.html#cb422-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">&quot;subclass&quot;</span></span>
<span id="cb422-5"><a href="matching-methods.html#cb422-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb422-6"><a href="matching-methods.html#cb422-6" aria-hidden="true" tabindex="-1"></a>m.out4</span>
<span id="cb422-7"><a href="matching-methods.html#cb422-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A matchit object</span></span>
<span id="cb422-8"><a href="matching-methods.html#cb422-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - method: Subclassification (6 subclasses)</span></span>
<span id="cb422-9"><a href="matching-methods.html#cb422-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - distance: Propensity score</span></span>
<span id="cb422-10"><a href="matching-methods.html#cb422-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              - estimated with logistic regression</span></span>
<span id="cb422-11"><a href="matching-methods.html#cb422-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - number of obs.: 445 (original), 445 (matched)</span></span>
<span id="cb422-12"><a href="matching-methods.html#cb422-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - target estimand: ATT</span></span>
<span id="cb422-13"><a href="matching-methods.html#cb422-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - covariates: age, educ</span></span>
<span id="cb422-14"><a href="matching-methods.html#cb422-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb422-15"><a href="matching-methods.html#cb422-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Or you can use in conjunction with &quot;nearest&quot;</span></span>
<span id="cb422-16"><a href="matching-methods.html#cb422-16" aria-hidden="true" tabindex="-1"></a>m.out4 <span class="ot">&lt;-</span> <span class="fu">matchit</span>(</span>
<span id="cb422-17"><a href="matching-methods.html#cb422-17" aria-hidden="true" tabindex="-1"></a>    treat <span class="sc">~</span> age <span class="sc">+</span> educ, <span class="co"># + race + married +  nodegree + re74 + re75,</span></span>
<span id="cb422-18"><a href="matching-methods.html#cb422-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> lalonde,</span>
<span id="cb422-19"><a href="matching-methods.html#cb422-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">&quot;nearest&quot;</span>,</span>
<span id="cb422-20"><a href="matching-methods.html#cb422-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">option =</span> <span class="st">&quot;subclass&quot;</span></span>
<span id="cb422-21"><a href="matching-methods.html#cb422-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb422-22"><a href="matching-methods.html#cb422-22" aria-hidden="true" tabindex="-1"></a>m.out4</span>
<span id="cb422-23"><a href="matching-methods.html#cb422-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A matchit object</span></span>
<span id="cb422-24"><a href="matching-methods.html#cb422-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - method: 1:1 nearest neighbor matching without replacement</span></span>
<span id="cb422-25"><a href="matching-methods.html#cb422-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - distance: Propensity score</span></span>
<span id="cb422-26"><a href="matching-methods.html#cb422-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              - estimated with logistic regression</span></span>
<span id="cb422-27"><a href="matching-methods.html#cb422-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - number of obs.: 445 (original), 370 (matched)</span></span>
<span id="cb422-28"><a href="matching-methods.html#cb422-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - target estimand: ATT</span></span>
<span id="cb422-29"><a href="matching-methods.html#cb422-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - covariates: age, educ</span></span></code></pre></div>
<p>Optimal Matching</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="matching-methods.html#cb423-1" aria-hidden="true" tabindex="-1"></a>m.out5 <span class="ot">&lt;-</span> <span class="fu">matchit</span>(</span>
<span id="cb423-2"><a href="matching-methods.html#cb423-2" aria-hidden="true" tabindex="-1"></a>    treat <span class="sc">~</span> age <span class="sc">+</span> educ, <span class="co"># + race + married + nodegree + re74 + re75,</span></span>
<span id="cb423-3"><a href="matching-methods.html#cb423-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> lalonde,</span>
<span id="cb423-4"><a href="matching-methods.html#cb423-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">&quot;optimal&quot;</span>,</span>
<span id="cb423-5"><a href="matching-methods.html#cb423-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ratio =</span> <span class="dv">2</span></span>
<span id="cb423-6"><a href="matching-methods.html#cb423-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb423-7"><a href="matching-methods.html#cb423-7" aria-hidden="true" tabindex="-1"></a>m.out5</span>
<span id="cb423-8"><a href="matching-methods.html#cb423-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A matchit object</span></span>
<span id="cb423-9"><a href="matching-methods.html#cb423-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - method: 2:1 optimal pair matching</span></span>
<span id="cb423-10"><a href="matching-methods.html#cb423-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - distance: Propensity score</span></span>
<span id="cb423-11"><a href="matching-methods.html#cb423-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              - estimated with logistic regression</span></span>
<span id="cb423-12"><a href="matching-methods.html#cb423-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - number of obs.: 445 (original), 445 (matched)</span></span>
<span id="cb423-13"><a href="matching-methods.html#cb423-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - target estimand: ATT</span></span>
<span id="cb423-14"><a href="matching-methods.html#cb423-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - covariates: age, educ</span></span></code></pre></div>
<p>Genetic Matching</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="matching-methods.html#cb424-1" aria-hidden="true" tabindex="-1"></a>m.out6 <span class="ot">&lt;-</span> <span class="fu">matchit</span>(</span>
<span id="cb424-2"><a href="matching-methods.html#cb424-2" aria-hidden="true" tabindex="-1"></a>    treat <span class="sc">~</span> age <span class="sc">+</span> educ, <span class="co"># + race + married + nodegree + re74 + re75,</span></span>
<span id="cb424-3"><a href="matching-methods.html#cb424-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> lalonde,</span>
<span id="cb424-4"><a href="matching-methods.html#cb424-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">&quot;genetic&quot;</span></span>
<span id="cb424-5"><a href="matching-methods.html#cb424-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb424-6"><a href="matching-methods.html#cb424-6" aria-hidden="true" tabindex="-1"></a>m.out6</span>
<span id="cb424-7"><a href="matching-methods.html#cb424-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A matchit object</span></span>
<span id="cb424-8"><a href="matching-methods.html#cb424-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - method: 1:1 genetic matching without replacement</span></span>
<span id="cb424-9"><a href="matching-methods.html#cb424-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - distance: Propensity score</span></span>
<span id="cb424-10"><a href="matching-methods.html#cb424-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              - estimated with logistic regression</span></span>
<span id="cb424-11"><a href="matching-methods.html#cb424-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - number of obs.: 445 (original), 370 (matched)</span></span>
<span id="cb424-12"><a href="matching-methods.html#cb424-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - target estimand: ATT</span></span>
<span id="cb424-13"><a href="matching-methods.html#cb424-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - covariates: age, educ</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Estimating the Treatment Effect</li>
</ol>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="matching-methods.html#cb425-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get matched data</span></span>
<span id="cb425-2"><a href="matching-methods.html#cb425-2" aria-hidden="true" tabindex="-1"></a>m.data1 <span class="ot">&lt;-</span> <span class="fu">match.data</span>(m.out1)</span>
<span id="cb425-3"><a href="matching-methods.html#cb425-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb425-4"><a href="matching-methods.html#cb425-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(m.data1)</span>
<span id="cb425-5"><a href="matching-methods.html#cb425-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   age educ black hisp married nodegr re74 re75     re78 u74 u75 treat  distance</span></span>
<span id="cb425-6"><a href="matching-methods.html#cb425-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  37   11     1    0       1      1    0    0  9930.05   1   1     1 0.4729814</span></span>
<span id="cb425-7"><a href="matching-methods.html#cb425-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  22    9     0    1       0      1    0    0  3595.89   1   1     1 0.3803739</span></span>
<span id="cb425-8"><a href="matching-methods.html#cb425-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  30   12     1    0       0      0    0    0 24909.50   1   1     1 0.4673429</span></span>
<span id="cb425-9"><a href="matching-methods.html#cb425-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  27   11     1    0       0      1    0    0  7506.15   1   1     1 0.4366549</span></span>
<span id="cb425-10"><a href="matching-methods.html#cb425-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  33    8     1    0       0      1    0    0   289.79   1   1     1 0.3997038</span></span>
<span id="cb425-11"><a href="matching-methods.html#cb425-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  22    9     1    0       0      1    0    0  4056.49   1   1     1 0.3803739</span></span>
<span id="cb425-12"><a href="matching-methods.html#cb425-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   weights subclass</span></span>
<span id="cb425-13"><a href="matching-methods.html#cb425-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1       1        1</span></span>
<span id="cb425-14"><a href="matching-methods.html#cb425-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2       1       98</span></span>
<span id="cb425-15"><a href="matching-methods.html#cb425-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3       1      109</span></span>
<span id="cb425-16"><a href="matching-methods.html#cb425-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4       1      120</span></span>
<span id="cb425-17"><a href="matching-methods.html#cb425-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5       1      131</span></span>
<span id="cb425-18"><a href="matching-methods.html#cb425-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6       1      142</span></span></code></pre></div>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="matching-methods.html#cb426-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;lmtest&quot;</span>) <span class="co">#coeftest</span></span>
<span id="cb426-2"><a href="matching-methods.html#cb426-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;sandwich&quot;</span>) <span class="co">#vcovCL</span></span>
<span id="cb426-3"><a href="matching-methods.html#cb426-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb426-4"><a href="matching-methods.html#cb426-4" aria-hidden="true" tabindex="-1"></a><span class="co"># imbalance matched dataset</span></span>
<span id="cb426-5"><a href="matching-methods.html#cb426-5" aria-hidden="true" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(re78 <span class="sc">~</span> treat <span class="sc">+</span> age <span class="sc">+</span> educ , <span class="co">#+ race + married + nodegree + re74 + re75, </span></span>
<span id="cb426-6"><a href="matching-methods.html#cb426-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">data =</span> m.data1, </span>
<span id="cb426-7"><a href="matching-methods.html#cb426-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">weights =</span> weights)</span>
<span id="cb426-8"><a href="matching-methods.html#cb426-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb426-9"><a href="matching-methods.html#cb426-9" aria-hidden="true" tabindex="-1"></a><span class="fu">coeftest</span>(fit1, <span class="at">vcov. =</span> vcovCL, <span class="at">cluster =</span> <span class="sc">~</span>subclass)</span>
<span id="cb426-10"><a href="matching-methods.html#cb426-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb426-11"><a href="matching-methods.html#cb426-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; t test of coefficients:</span></span>
<span id="cb426-12"><a href="matching-methods.html#cb426-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb426-13"><a href="matching-methods.html#cb426-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)   </span></span>
<span id="cb426-14"><a href="matching-methods.html#cb426-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept) -1639.384   2022.796 -0.8105 0.418206   </span></span>
<span id="cb426-15"><a href="matching-methods.html#cb426-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; treat        2169.118    685.457  3.1645 0.001684 **</span></span>
<span id="cb426-16"><a href="matching-methods.html#cb426-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age            45.251     40.980  1.1042 0.270225   </span></span>
<span id="cb426-17"><a href="matching-methods.html#cb426-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educ          449.568    168.471  2.6685 0.007958 **</span></span>
<span id="cb426-18"><a href="matching-methods.html#cb426-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb426-19"><a href="matching-methods.html#cb426-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span></code></pre></div>
<p><code>treat</code> coefficient = estimated ATT</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="matching-methods.html#cb427-1" aria-hidden="true" tabindex="-1"></a><span class="co"># balance matched dataset </span></span>
<span id="cb427-2"><a href="matching-methods.html#cb427-2" aria-hidden="true" tabindex="-1"></a>m.data2 <span class="ot">&lt;-</span> <span class="fu">match.data</span>(m.out2)</span>
<span id="cb427-3"><a href="matching-methods.html#cb427-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb427-4"><a href="matching-methods.html#cb427-4" aria-hidden="true" tabindex="-1"></a>fit2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(re78 <span class="sc">~</span> treat <span class="sc">+</span> age <span class="sc">+</span> educ , <span class="co">#+ race + married + nodegree + re74 + re75, </span></span>
<span id="cb427-5"><a href="matching-methods.html#cb427-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">data =</span> m.data2, <span class="at">weights =</span> weights)</span>
<span id="cb427-6"><a href="matching-methods.html#cb427-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb427-7"><a href="matching-methods.html#cb427-7" aria-hidden="true" tabindex="-1"></a><span class="fu">coeftest</span>(fit2, <span class="at">vcov. =</span> vcovCL, <span class="at">cluster =</span> <span class="sc">~</span>subclass)</span>
<span id="cb427-8"><a href="matching-methods.html#cb427-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb427-9"><a href="matching-methods.html#cb427-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; t test of coefficients:</span></span>
<span id="cb427-10"><a href="matching-methods.html#cb427-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb427-11"><a href="matching-methods.html#cb427-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Estimate Std. Error t value  Pr(&gt;|t|)    </span></span>
<span id="cb427-12"><a href="matching-methods.html#cb427-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept) -1024.030   1689.180 -0.6062 0.5446743    </span></span>
<span id="cb427-13"><a href="matching-methods.html#cb427-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; treat        1688.974    763.312  2.2127 0.0274304 *  </span></span>
<span id="cb427-14"><a href="matching-methods.html#cb427-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age            39.757     35.413  1.1227 0.2621903    </span></span>
<span id="cb427-15"><a href="matching-methods.html#cb427-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educ          450.209    134.534  3.3464 0.0008887 ***</span></span>
<span id="cb427-16"><a href="matching-methods.html#cb427-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb427-17"><a href="matching-methods.html#cb427-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span></code></pre></div>
<p>When reporting, remember to mention</p>
<ol style="list-style-type: decimal">
<li>the matching specification (method, and additional options)</li>
<li>the distance measure (e.g., propensity score)</li>
<li>other methods, and rationale for the final chosen method.</li>
<li>balance statistics of the matched dataset.</li>
<li>number of matched, unmatched, discarded</li>
<li>estimation method for treatment effect.</li>
</ol>
</div>
<div id="matchingfrontier" class="section level3" number="21.6.2">
<h3><span class="header-section-number">21.6.2</span> MatchingFrontier</h3>
<p>As mentioned in <code>MatchIt</code>, you have to make trade-off (also known as bias-variance trade-off) between balance and sample size. An automated procedure to optimize this trade-off is implemented in <code>MatchingFrontier</code> <span class="citation">(<a href="#ref-King_2016" role="doc-biblioref">G. King, Lucas, and Nielsen 2016</a>)</span>, which solves this joint optimization problem.</p>
<p>I follow <code>MatchingFrontier</code> <a href="https://projects.iq.harvard.edu/files/frontier/files/using_matchingfrontier.pdf">guide</a></p>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="matching-methods.html#cb428-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library(devtools)</span></span>
<span id="cb428-2"><a href="matching-methods.html#cb428-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install_github(&#39;ChristopherLucas/MatchingFrontier&#39;)</span></span>
<span id="cb428-3"><a href="matching-methods.html#cb428-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MatchingFrontier)</span>
<span id="cb428-4"><a href="matching-methods.html#cb428-4" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;lalonde&quot;</span>)</span>
<span id="cb428-5"><a href="matching-methods.html#cb428-5" aria-hidden="true" tabindex="-1"></a><span class="co"># choose var to match on</span></span>
<span id="cb428-6"><a href="matching-methods.html#cb428-6" aria-hidden="true" tabindex="-1"></a>match.on <span class="ot">&lt;-</span> <span class="fu">colnames</span>(lalonde)[<span class="sc">!</span>(<span class="fu">colnames</span>(lalonde) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;re78&#39;</span>, <span class="st">&#39;treat&#39;</span>))]</span>
<span id="cb428-7"><a href="matching-methods.html#cb428-7" aria-hidden="true" tabindex="-1"></a>match.on</span>
<span id="cb428-8"><a href="matching-methods.html#cb428-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;age&quot;     &quot;educ&quot;    &quot;black&quot;   &quot;hisp&quot;    &quot;married&quot; &quot;nodegr&quot;  &quot;re74&quot;   </span></span>
<span id="cb428-9"><a href="matching-methods.html#cb428-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] &quot;re75&quot;    &quot;u74&quot;     &quot;u75&quot;</span></span>
<span id="cb428-10"><a href="matching-methods.html#cb428-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-11"><a href="matching-methods.html#cb428-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Mahanlanobis frontier (default)</span></span>
<span id="cb428-12"><a href="matching-methods.html#cb428-12" aria-hidden="true" tabindex="-1"></a>mahal.frontier <span class="ot">&lt;-</span></span>
<span id="cb428-13"><a href="matching-methods.html#cb428-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">makeFrontier</span>(</span>
<span id="cb428-14"><a href="matching-methods.html#cb428-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">dataset =</span> lalonde,</span>
<span id="cb428-15"><a href="matching-methods.html#cb428-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">treatment =</span> <span class="st">&quot;treat&quot;</span>,</span>
<span id="cb428-16"><a href="matching-methods.html#cb428-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">match.on =</span> match.on</span>
<span id="cb428-17"><a href="matching-methods.html#cb428-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb428-18"><a href="matching-methods.html#cb428-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Calculating Mahalanobis distances...</span></span>
<span id="cb428-19"><a href="matching-methods.html#cb428-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Calculating theoretical frontier...</span></span>
<span id="cb428-20"><a href="matching-methods.html#cb428-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Calculating information for plotting the frontier...</span></span>
<span id="cb428-21"><a href="matching-methods.html#cb428-21" aria-hidden="true" tabindex="-1"></a>mahal.frontier</span>
<span id="cb428-22"><a href="matching-methods.html#cb428-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; An imbalance frontier with 174 points.</span></span>
<span id="cb428-23"><a href="matching-methods.html#cb428-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-24"><a href="matching-methods.html#cb428-24" aria-hidden="true" tabindex="-1"></a><span class="co"># L1 frontier</span></span>
<span id="cb428-25"><a href="matching-methods.html#cb428-25" aria-hidden="true" tabindex="-1"></a>L1.frontier <span class="ot">&lt;-</span></span>
<span id="cb428-26"><a href="matching-methods.html#cb428-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">makeFrontier</span>(</span>
<span id="cb428-27"><a href="matching-methods.html#cb428-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">dataset =</span> lalonde,</span>
<span id="cb428-28"><a href="matching-methods.html#cb428-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">treatment =</span> <span class="st">&#39;treat&#39;</span>,</span>
<span id="cb428-29"><a href="matching-methods.html#cb428-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">match.on =</span> match.on,</span>
<span id="cb428-30"><a href="matching-methods.html#cb428-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">QOI =</span> <span class="st">&#39;SATT&#39;</span>,</span>
<span id="cb428-31"><a href="matching-methods.html#cb428-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">metric =</span> <span class="st">&#39;L1&#39;</span>,</span>
<span id="cb428-32"><a href="matching-methods.html#cb428-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">ratio =</span> <span class="st">&#39;fixed&#39;</span></span>
<span id="cb428-33"><a href="matching-methods.html#cb428-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb428-34"><a href="matching-methods.html#cb428-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Calculating L1 binnings...</span></span>
<span id="cb428-35"><a href="matching-methods.html#cb428-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Calculating L1 frontier... This may take a few minutes...</span></span>
<span id="cb428-36"><a href="matching-methods.html#cb428-36" aria-hidden="true" tabindex="-1"></a>L1.frontier</span>
<span id="cb428-37"><a href="matching-methods.html#cb428-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; An imbalance frontier with 210 points.</span></span>
<span id="cb428-38"><a href="matching-methods.html#cb428-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-39"><a href="matching-methods.html#cb428-39" aria-hidden="true" tabindex="-1"></a><span class="co"># estimate effects along the frontier</span></span>
<span id="cb428-40"><a href="matching-methods.html#cb428-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-41"><a href="matching-methods.html#cb428-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Set base form</span></span>
<span id="cb428-42"><a href="matching-methods.html#cb428-42" aria-hidden="true" tabindex="-1"></a>my.form <span class="ot">&lt;-</span></span>
<span id="cb428-43"><a href="matching-methods.html#cb428-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.formula</span>(re78 <span class="sc">~</span> treat <span class="sc">+</span> age <span class="sc">+</span> black <span class="sc">+</span> education <span class="sc">+</span> hispanic <span class="sc">+</span> married <span class="sc">+</span> nodegree <span class="sc">+</span> re74 <span class="sc">+</span> re75)</span>
<span id="cb428-44"><a href="matching-methods.html#cb428-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-45"><a href="matching-methods.html#cb428-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate effects for the mahalanobis frontier</span></span>
<span id="cb428-46"><a href="matching-methods.html#cb428-46" aria-hidden="true" tabindex="-1"></a>mahal.estimates <span class="ot">&lt;-</span></span>
<span id="cb428-47"><a href="matching-methods.html#cb428-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">estimateEffects</span>(</span>
<span id="cb428-48"><a href="matching-methods.html#cb428-48" aria-hidden="true" tabindex="-1"></a>        mahal.frontier,</span>
<span id="cb428-49"><a href="matching-methods.html#cb428-49" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;re78 ~ treat&#39;</span>,</span>
<span id="cb428-50"><a href="matching-methods.html#cb428-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">mod.dependence.formula =</span> my.form,</span>
<span id="cb428-51"><a href="matching-methods.html#cb428-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">continuous.vars =</span> <span class="fu">c</span>(<span class="st">&#39;age&#39;</span>, <span class="st">&#39;education&#39;</span>, <span class="st">&#39;re74&#39;</span>, <span class="st">&#39;re75&#39;</span>),</span>
<span id="cb428-52"><a href="matching-methods.html#cb428-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">prop.estimated =</span> .<span class="dv">1</span>,</span>
<span id="cb428-53"><a href="matching-methods.html#cb428-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">means.as.cutpoints =</span> <span class="cn">TRUE</span></span>
<span id="cb428-54"><a href="matching-methods.html#cb428-54" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb428-55"><a href="matching-methods.html#cb428-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb428-56"><a href="matching-methods.html#cb428-56" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-57"><a href="matching-methods.html#cb428-57" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                      <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb428-58"><a href="matching-methods.html#cb428-58" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-59"><a href="matching-methods.html#cb428-59" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====</span>                                                                  <span class="er">|</span>   <span class="dv">6</span>%</span>
<span id="cb428-60"><a href="matching-methods.html#cb428-60" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-61"><a href="matching-methods.html#cb428-61" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=========</span>                                                             <span class="er">|</span>  <span class="dv">12</span>%</span>
<span id="cb428-62"><a href="matching-methods.html#cb428-62" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-63"><a href="matching-methods.html#cb428-63" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=============</span>                                                         <span class="er">|</span>  <span class="dv">19</span>%</span>
<span id="cb428-64"><a href="matching-methods.html#cb428-64" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-65"><a href="matching-methods.html#cb428-65" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==================</span>                                                    <span class="er">|</span>  <span class="dv">25</span>%</span>
<span id="cb428-66"><a href="matching-methods.html#cb428-66" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-67"><a href="matching-methods.html#cb428-67" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======================</span>                                                <span class="er">|</span>  <span class="dv">31</span>%</span>
<span id="cb428-68"><a href="matching-methods.html#cb428-68" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-69"><a href="matching-methods.html#cb428-69" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==========================</span>                                            <span class="er">|</span>  <span class="dv">38</span>%</span>
<span id="cb428-70"><a href="matching-methods.html#cb428-70" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-71"><a href="matching-methods.html#cb428-71" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===============================</span>                                       <span class="er">|</span>  <span class="dv">44</span>%</span>
<span id="cb428-72"><a href="matching-methods.html#cb428-72" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-73"><a href="matching-methods.html#cb428-73" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===================================</span>                                   <span class="er">|</span>  <span class="dv">50</span>%</span>
<span id="cb428-74"><a href="matching-methods.html#cb428-74" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-75"><a href="matching-methods.html#cb428-75" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=======================================</span>                               <span class="er">|</span>  <span class="dv">56</span>%</span>
<span id="cb428-76"><a href="matching-methods.html#cb428-76" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-77"><a href="matching-methods.html#cb428-77" aria-hidden="true" tabindex="-1"></a>  <span class="er">|============================================</span>                          <span class="er">|</span>  <span class="dv">62</span>%</span>
<span id="cb428-78"><a href="matching-methods.html#cb428-78" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-79"><a href="matching-methods.html#cb428-79" aria-hidden="true" tabindex="-1"></a>  <span class="er">|================================================</span>                      <span class="er">|</span>  <span class="dv">69</span>%</span>
<span id="cb428-80"><a href="matching-methods.html#cb428-80" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-81"><a href="matching-methods.html#cb428-81" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====================================================</span>                  <span class="er">|</span>  <span class="dv">75</span>%</span>
<span id="cb428-82"><a href="matching-methods.html#cb428-82" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-83"><a href="matching-methods.html#cb428-83" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=========================================================</span>             <span class="er">|</span>  <span class="dv">81</span>%</span>
<span id="cb428-84"><a href="matching-methods.html#cb428-84" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-85"><a href="matching-methods.html#cb428-85" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=============================================================</span>         <span class="er">|</span>  <span class="dv">88</span>%</span>
<span id="cb428-86"><a href="matching-methods.html#cb428-86" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-87"><a href="matching-methods.html#cb428-87" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==================================================================</span>    <span class="er">|</span>  <span class="dv">94</span>%</span>
<span id="cb428-88"><a href="matching-methods.html#cb428-88" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-89"><a href="matching-methods.html#cb428-89" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb428-90"><a href="matching-methods.html#cb428-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-91"><a href="matching-methods.html#cb428-91" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate effects for the L1 frontier</span></span>
<span id="cb428-92"><a href="matching-methods.html#cb428-92" aria-hidden="true" tabindex="-1"></a>L1.estimates <span class="ot">&lt;-</span></span>
<span id="cb428-93"><a href="matching-methods.html#cb428-93" aria-hidden="true" tabindex="-1"></a>    <span class="fu">estimateEffects</span>(</span>
<span id="cb428-94"><a href="matching-methods.html#cb428-94" aria-hidden="true" tabindex="-1"></a>        L1.frontier,</span>
<span id="cb428-95"><a href="matching-methods.html#cb428-95" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;re78 ~ treat&#39;</span>,</span>
<span id="cb428-96"><a href="matching-methods.html#cb428-96" aria-hidden="true" tabindex="-1"></a>        <span class="at">mod.dependence.formula =</span> my.form,</span>
<span id="cb428-97"><a href="matching-methods.html#cb428-97" aria-hidden="true" tabindex="-1"></a>        <span class="at">continuous.vars =</span> <span class="fu">c</span>(<span class="st">&#39;age&#39;</span>, <span class="st">&#39;education&#39;</span>, <span class="st">&#39;re74&#39;</span>, <span class="st">&#39;re75&#39;</span>),</span>
<span id="cb428-98"><a href="matching-methods.html#cb428-98" aria-hidden="true" tabindex="-1"></a>        <span class="at">prop.estimated =</span> .<span class="dv">1</span>,</span>
<span id="cb428-99"><a href="matching-methods.html#cb428-99" aria-hidden="true" tabindex="-1"></a>        <span class="at">means.as.cutpoints =</span> <span class="cn">TRUE</span></span>
<span id="cb428-100"><a href="matching-methods.html#cb428-100" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb428-101"><a href="matching-methods.html#cb428-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb428-102"><a href="matching-methods.html#cb428-102" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-103"><a href="matching-methods.html#cb428-103" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                      <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb428-104"><a href="matching-methods.html#cb428-104" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-105"><a href="matching-methods.html#cb428-105" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====</span>                                                                  <span class="er">|</span>   <span class="dv">5</span>%</span>
<span id="cb428-106"><a href="matching-methods.html#cb428-106" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-107"><a href="matching-methods.html#cb428-107" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=======</span>                                                               <span class="er">|</span>  <span class="dv">10</span>%</span>
<span id="cb428-108"><a href="matching-methods.html#cb428-108" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-109"><a href="matching-methods.html#cb428-109" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==========</span>                                                            <span class="er">|</span>  <span class="dv">15</span>%</span>
<span id="cb428-110"><a href="matching-methods.html#cb428-110" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-111"><a href="matching-methods.html#cb428-111" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==============</span>                                                        <span class="er">|</span>  <span class="dv">20</span>%</span>
<span id="cb428-112"><a href="matching-methods.html#cb428-112" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-113"><a href="matching-methods.html#cb428-113" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==================</span>                                                    <span class="er">|</span>  <span class="dv">25</span>%</span>
<span id="cb428-114"><a href="matching-methods.html#cb428-114" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-115"><a href="matching-methods.html#cb428-115" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=====================</span>                                                 <span class="er">|</span>  <span class="dv">30</span>%</span>
<span id="cb428-116"><a href="matching-methods.html#cb428-116" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-117"><a href="matching-methods.html#cb428-117" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================</span>                                              <span class="er">|</span>  <span class="dv">35</span>%</span>
<span id="cb428-118"><a href="matching-methods.html#cb428-118" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-119"><a href="matching-methods.html#cb428-119" aria-hidden="true" tabindex="-1"></a>  <span class="er">|============================</span>                                          <span class="er">|</span>  <span class="dv">40</span>%</span>
<span id="cb428-120"><a href="matching-methods.html#cb428-120" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-121"><a href="matching-methods.html#cb428-121" aria-hidden="true" tabindex="-1"></a>  <span class="er">|================================</span>                                      <span class="er">|</span>  <span class="dv">45</span>%</span>
<span id="cb428-122"><a href="matching-methods.html#cb428-122" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-123"><a href="matching-methods.html#cb428-123" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===================================</span>                                   <span class="er">|</span>  <span class="dv">50</span>%</span>
<span id="cb428-124"><a href="matching-methods.html#cb428-124" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-125"><a href="matching-methods.html#cb428-125" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======================================</span>                                <span class="er">|</span>  <span class="dv">55</span>%</span>
<span id="cb428-126"><a href="matching-methods.html#cb428-126" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-127"><a href="matching-methods.html#cb428-127" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==========================================</span>                            <span class="er">|</span>  <span class="dv">60</span>%</span>
<span id="cb428-128"><a href="matching-methods.html#cb428-128" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-129"><a href="matching-methods.html#cb428-129" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==============================================</span>                        <span class="er">|</span>  <span class="dv">65</span>%</span>
<span id="cb428-130"><a href="matching-methods.html#cb428-130" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-131"><a href="matching-methods.html#cb428-131" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=================================================</span>                     <span class="er">|</span>  <span class="dv">70</span>%</span>
<span id="cb428-132"><a href="matching-methods.html#cb428-132" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-133"><a href="matching-methods.html#cb428-133" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====================================================</span>                  <span class="er">|</span>  <span class="dv">75</span>%</span>
<span id="cb428-134"><a href="matching-methods.html#cb428-134" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-135"><a href="matching-methods.html#cb428-135" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================</span>              <span class="er">|</span>  <span class="dv">80</span>%</span>
<span id="cb428-136"><a href="matching-methods.html#cb428-136" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-137"><a href="matching-methods.html#cb428-137" aria-hidden="true" tabindex="-1"></a>  <span class="er">|============================================================</span>          <span class="er">|</span>  <span class="dv">85</span>%</span>
<span id="cb428-138"><a href="matching-methods.html#cb428-138" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-139"><a href="matching-methods.html#cb428-139" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===============================================================</span>       <span class="er">|</span>  <span class="dv">90</span>%</span>
<span id="cb428-140"><a href="matching-methods.html#cb428-140" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-141"><a href="matching-methods.html#cb428-141" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==================================================================</span>    <span class="er">|</span>  <span class="dv">95</span>%</span>
<span id="cb428-142"><a href="matching-methods.html#cb428-142" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb428-143"><a href="matching-methods.html#cb428-143" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb428-144"><a href="matching-methods.html#cb428-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-145"><a href="matching-methods.html#cb428-145" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot covariates means </span></span>
<span id="cb428-146"><a href="matching-methods.html#cb428-146" aria-hidden="true" tabindex="-1"></a><span class="co"># plotPrunedMeans()</span></span>
<span id="cb428-147"><a href="matching-methods.html#cb428-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-148"><a href="matching-methods.html#cb428-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-149"><a href="matching-methods.html#cb428-149" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot estimates (deprecated)</span></span>
<span id="cb428-150"><a href="matching-methods.html#cb428-150" aria-hidden="true" tabindex="-1"></a><span class="co"># plotEstimates(</span></span>
<span id="cb428-151"><a href="matching-methods.html#cb428-151" aria-hidden="true" tabindex="-1"></a><span class="co">#     L1.estimates,</span></span>
<span id="cb428-152"><a href="matching-methods.html#cb428-152" aria-hidden="true" tabindex="-1"></a><span class="co">#     ylim = c(-10000, 3000),</span></span>
<span id="cb428-153"><a href="matching-methods.html#cb428-153" aria-hidden="true" tabindex="-1"></a><span class="co">#     cex.lab = 1.4,</span></span>
<span id="cb428-154"><a href="matching-methods.html#cb428-154" aria-hidden="true" tabindex="-1"></a><span class="co">#     cex.axis = 1.4,</span></span>
<span id="cb428-155"><a href="matching-methods.html#cb428-155" aria-hidden="true" tabindex="-1"></a><span class="co">#     panel.first = grid(NULL, NULL, lwd = 2,)</span></span>
<span id="cb428-156"><a href="matching-methods.html#cb428-156" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb428-157"><a href="matching-methods.html#cb428-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-158"><a href="matching-methods.html#cb428-158" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot estimates</span></span>
<span id="cb428-159"><a href="matching-methods.html#cb428-159" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMeans</span>(L1.frontier)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-60-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="matching-methods.html#cb429-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb429-2"><a href="matching-methods.html#cb429-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb429-3"><a href="matching-methods.html#cb429-3" aria-hidden="true" tabindex="-1"></a><span class="co"># parallel plot</span></span>
<span id="cb429-4"><a href="matching-methods.html#cb429-4" aria-hidden="true" tabindex="-1"></a><span class="fu">parallelPlot</span>(</span>
<span id="cb429-5"><a href="matching-methods.html#cb429-5" aria-hidden="true" tabindex="-1"></a>    L1.frontier,</span>
<span id="cb429-6"><a href="matching-methods.html#cb429-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">N =</span> <span class="dv">400</span>,</span>
<span id="cb429-7"><a href="matching-methods.html#cb429-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">variables =</span> <span class="fu">c</span>(<span class="st">&#39;age&#39;</span>, <span class="st">&#39;re74&#39;</span>, <span class="st">&#39;re75&#39;</span>, <span class="st">&#39;black&#39;</span>),</span>
<span id="cb429-8"><a href="matching-methods.html#cb429-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">treated.col =</span> <span class="st">&#39;blue&#39;</span>,</span>
<span id="cb429-9"><a href="matching-methods.html#cb429-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">control.col =</span> <span class="st">&#39;gray&#39;</span></span>
<span id="cb429-10"><a href="matching-methods.html#cb429-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-60-2.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="matching-methods.html#cb430-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb430-2"><a href="matching-methods.html#cb430-2" aria-hidden="true" tabindex="-1"></a><span class="co"># export matched dataset</span></span>
<span id="cb430-3"><a href="matching-methods.html#cb430-3" aria-hidden="true" tabindex="-1"></a>matched.data <span class="ot">&lt;-</span> <span class="fu">generateDataset</span>(L1.frontier, <span class="at">N =</span> <span class="dv">400</span>) <span class="co"># take 400 units</span></span></code></pre></div>
</div>
<div id="propensity-scores" class="section level3" number="21.6.3">
<h3><span class="header-section-number">21.6.3</span> Propensity Scores</h3>
<p>Even though I mention the propensity scores matching method here, it is no longer recommended to use such method in research and publication <span class="citation">(<a href="#ref-King_2019" role="doc-biblioref">G. King and Nielsen 2019</a>)</span> because it increases</p>
<ul>
<li><p>imbalance</p></li>
<li><p>inefficiency</p></li>
<li><p>model dependence: small changes in the model specification lead to big changes in model results</p></li>
<li><p>bias</p></li>
</ul>
<p>PSM tries to accomplish complete randomization while other methods try to achieve fully blocked. Hence, you probably better off use any other methods.</p>
<p>Propensity is “the probability of receiving the treatment given the observed covariates.” <span class="citation">(<a href="#ref-Rosenbaum_1985" role="doc-biblioref">Paul R. Rosenbaum and Rubin 1985</a>)</span></p>
<p>Equivalently, it can to understood as the probability of being treated.</p>
<p><span class="math display">\[
e_i (X_i) = P(T_i = 1 | X_i)
\]</span></p>
<p>Estimation using</p>
<ul>
<li><p>logistic regression</p></li>
<li><p>Non parametric methods:</p>
<ul>
<li><p>boosted CART</p></li>
<li><p>generalized boosted models (gbm)</p></li>
</ul></li>
</ul>
<p>Steps by Gary King’s <a href="https://www.youtube.com/watch?v=rBv39pK1iEs&amp;ab_channel=MethodsColloquium">slides</a></p>
<ul>
<li><p>reduce k elements of X to scalar</p></li>
<li><p><span class="math inline">\(\pi_i \equiv P(T_i = 1|X) = \frac{1}{1+e^{X_i \beta}}\)</span></p></li>
<li><p>Distance (<span class="math inline">\(X_c, X_t\)</span>) = <span class="math inline">\(|\pi_c - \pi_t|\)</span></p></li>
<li><p>match each treated unit to the nearest control unit</p></li>
<li><p>control units: not reused; pruned if unused</p></li>
<li><p>prune matches if distances &gt; caliper</p></li>
</ul>
<p>In the best case scenario, you randomly prune, which increases imbalance</p>
<p>Other methods dominate because they try to match exactly hence</p>
<ul>
<li><p><span class="math inline">\(X_c = X_t \to \pi_c = \pi_t\)</span> (exact match leads to equal propensity scores) but</p></li>
<li><p><span class="math inline">\(\pi_c = \pi_t \nrightarrow X_c = X_t\)</span> (equal propensity scores do not necessarily lead to exact match)</p></li>
</ul>
<p>Do not include/control for irrelevant covariates because it leads your PSM to be more random, hence more imbalance</p>
<p>What you left with after pruning is more important than what you start with then throw out.</p>
<p>Diagnostics:</p>
<ul>
<li><p>balance of the covariates</p></li>
<li><p>no need to concern about collinearity</p></li>
<li><p>can’t use c-stat or stepwise because those model fit stat do not apply</p></li>
</ul>
<p><br></p>
</div>
<div id="mahalanobis-distance" class="section level3" number="21.6.4">
<h3><span class="header-section-number">21.6.4</span> Mahalanobis Distance</h3>
<p>Approximates fully blocked experiment</p>
<p>Distance <span class="math inline">\((X_c,X_t)\)</span> = <span class="math inline">\(\sqrt{(X_c - X_t)&#39;S^{-1}(X_c - X_t)}\)</span></p>
<p>where <span class="math inline">\(S^{-1}\)</span> standardize the distance</p>
<p>In application we use Euclidean distance.</p>
<p>Prune unused control units, and prune matches if distance &gt; caliper</p>
</div>
<div id="coarsened-exact-matching" class="section level3" number="21.6.5">
<h3><span class="header-section-number">21.6.5</span> Coarsened Exact Matching</h3>
<p>Steps from Gray King’s <a href="https://www.youtube.com/watch?v=rBv39pK1iEs&amp;ab_channel=MethodsColloquium">slides</a> International Methods Colloquium talk 2015</p>
<ul>
<li><p>Temporarily coarsen X</p></li>
<li><p>Apply exact matching to the coarsened X, C(X)</p>
<ul>
<li><p>sort observation into strata, each with unique values of C(X)</p></li>
<li><p>prune stratum with 0 treated or 0 control units</p></li>
</ul></li>
<li><p>Pass on original (uncoarsened) units except those pruned</p></li>
</ul>
<p><br></p>
<p>Properties:</p>
<ul>
<li><p>Monotonic imbalance bounding (MIB) matching method</p>
<ul>
<li>maximum imbalance between the treated and control chosen ex ante</li>
</ul></li>
<li><p>meets congruence principle</p></li>
<li><p>robust to measurement error</p></li>
<li><p>can be implemented with multiple imputation</p></li>
<li><p>works well for multi-category treatments</p></li>
</ul>
<p>Assumptions:</p>
<ul>
<li>Ignorability (i.e., no omitted variable bias)</li>
</ul>
<p>More detail in <span class="citation">(<a href="#ref-Iacus_2012" role="doc-biblioref">Iacus, King, and Porro 2012</a>)</span></p>
<p>Example by <a href="https://cran.r-project.org/web/packages/cem/vignettes/cem.pdf">package’s authors</a></p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="matching-methods.html#cb431-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cem)</span>
<span id="cb431-2"><a href="matching-methods.html#cb431-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(LeLonde)</span>
<span id="cb431-3"><a href="matching-methods.html#cb431-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-4"><a href="matching-methods.html#cb431-4" aria-hidden="true" tabindex="-1"></a>Le <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">na.omit</span>(LeLonde)) <span class="co"># remove missing data</span></span>
<span id="cb431-5"><a href="matching-methods.html#cb431-5" aria-hidden="true" tabindex="-1"></a><span class="co"># treated and control groups</span></span>
<span id="cb431-6"><a href="matching-methods.html#cb431-6" aria-hidden="true" tabindex="-1"></a>tr <span class="ot">&lt;-</span> <span class="fu">which</span>(Le<span class="sc">$</span>treated<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb431-7"><a href="matching-methods.html#cb431-7" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">which</span>(Le<span class="sc">$</span>treated<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb431-8"><a href="matching-methods.html#cb431-8" aria-hidden="true" tabindex="-1"></a>ntr <span class="ot">&lt;-</span> <span class="fu">length</span>(tr)</span>
<span id="cb431-9"><a href="matching-methods.html#cb431-9" aria-hidden="true" tabindex="-1"></a>nct <span class="ot">&lt;-</span> <span class="fu">length</span>(ct)</span>
<span id="cb431-10"><a href="matching-methods.html#cb431-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-11"><a href="matching-methods.html#cb431-11" aria-hidden="true" tabindex="-1"></a><span class="co"># unadjusted, biased difference in means</span></span>
<span id="cb431-12"><a href="matching-methods.html#cb431-12" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(Le<span class="sc">$</span>re78[tr]) <span class="sc">-</span> <span class="fu">mean</span>(Le<span class="sc">$</span>re78[ct])</span>
<span id="cb431-13"><a href="matching-methods.html#cb431-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 759.0479</span></span>
<span id="cb431-14"><a href="matching-methods.html#cb431-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-15"><a href="matching-methods.html#cb431-15" aria-hidden="true" tabindex="-1"></a><span class="co"># pre-treatment covariates</span></span>
<span id="cb431-16"><a href="matching-methods.html#cb431-16" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span></span>
<span id="cb431-17"><a href="matching-methods.html#cb431-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(</span>
<span id="cb431-18"><a href="matching-methods.html#cb431-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;age&quot;</span>,</span>
<span id="cb431-19"><a href="matching-methods.html#cb431-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;education&quot;</span>,</span>
<span id="cb431-20"><a href="matching-methods.html#cb431-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;black&quot;</span>,</span>
<span id="cb431-21"><a href="matching-methods.html#cb431-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;married&quot;</span>,</span>
<span id="cb431-22"><a href="matching-methods.html#cb431-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;nodegree&quot;</span>,</span>
<span id="cb431-23"><a href="matching-methods.html#cb431-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;re74&quot;</span>,</span>
<span id="cb431-24"><a href="matching-methods.html#cb431-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;re75&quot;</span>,</span>
<span id="cb431-25"><a href="matching-methods.html#cb431-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;hispanic&quot;</span>,</span>
<span id="cb431-26"><a href="matching-methods.html#cb431-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;u74&quot;</span>,</span>
<span id="cb431-27"><a href="matching-methods.html#cb431-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;u75&quot;</span>,</span>
<span id="cb431-28"><a href="matching-methods.html#cb431-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;q1&quot;</span></span>
<span id="cb431-29"><a href="matching-methods.html#cb431-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb431-30"><a href="matching-methods.html#cb431-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-31"><a href="matching-methods.html#cb431-31" aria-hidden="true" tabindex="-1"></a><span class="co"># overall imbalance statistics</span></span>
<span id="cb431-32"><a href="matching-methods.html#cb431-32" aria-hidden="true" tabindex="-1"></a><span class="fu">imbalance</span>(<span class="at">group=</span>Le<span class="sc">$</span>treated, <span class="at">data=</span>Le[vars]) <span class="co"># L1 = 0.902</span></span>
<span id="cb431-33"><a href="matching-methods.html#cb431-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb431-34"><a href="matching-methods.html#cb431-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Multivariate Imbalance Measure: L1=0.902</span></span>
<span id="cb431-35"><a href="matching-methods.html#cb431-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Percentage of local common support: LCS=5.8%</span></span>
<span id="cb431-36"><a href="matching-methods.html#cb431-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb431-37"><a href="matching-methods.html#cb431-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Univariate Imbalance Measures:</span></span>
<span id="cb431-38"><a href="matching-methods.html#cb431-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb431-39"><a href="matching-methods.html#cb431-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               statistic   type           L1 min 25%      50%       75%</span></span>
<span id="cb431-40"><a href="matching-methods.html#cb431-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age        -0.252373042 (diff) 5.102041e-03   0   0   0.0000   -1.0000</span></span>
<span id="cb431-41"><a href="matching-methods.html#cb431-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; education   0.153634710 (diff) 8.463851e-02   1   0   1.0000    1.0000</span></span>
<span id="cb431-42"><a href="matching-methods.html#cb431-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; black      -0.010322734 (diff) 1.032273e-02   0   0   0.0000    0.0000</span></span>
<span id="cb431-43"><a href="matching-methods.html#cb431-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; married    -0.009551495 (diff) 9.551495e-03   0   0   0.0000    0.0000</span></span>
<span id="cb431-44"><a href="matching-methods.html#cb431-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; nodegree   -0.081217371 (diff) 8.121737e-02   0  -1   0.0000    0.0000</span></span>
<span id="cb431-45"><a href="matching-methods.html#cb431-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; re74      -18.160446880 (diff) 5.551115e-17   0   0 284.0715  806.3452</span></span>
<span id="cb431-46"><a href="matching-methods.html#cb431-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; re75      101.501761679 (diff) 5.551115e-17   0   0 485.6310 1238.4114</span></span>
<span id="cb431-47"><a href="matching-methods.html#cb431-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; hispanic   -0.010144756 (diff) 1.014476e-02   0   0   0.0000    0.0000</span></span>
<span id="cb431-48"><a href="matching-methods.html#cb431-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; u74        -0.045582186 (diff) 4.558219e-02   0   0   0.0000    0.0000</span></span>
<span id="cb431-49"><a href="matching-methods.html#cb431-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; u75        -0.065555292 (diff) 6.555529e-02   0   0   0.0000    0.0000</span></span>
<span id="cb431-50"><a href="matching-methods.html#cb431-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; q1          7.494021189 (Chi2) 1.067078e-01  NA  NA       NA        NA</span></span>
<span id="cb431-51"><a href="matching-methods.html#cb431-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                  max</span></span>
<span id="cb431-52"><a href="matching-methods.html#cb431-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age          -6.0000</span></span>
<span id="cb431-53"><a href="matching-methods.html#cb431-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; education     1.0000</span></span>
<span id="cb431-54"><a href="matching-methods.html#cb431-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; black         0.0000</span></span>
<span id="cb431-55"><a href="matching-methods.html#cb431-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; married       0.0000</span></span>
<span id="cb431-56"><a href="matching-methods.html#cb431-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; nodegree      0.0000</span></span>
<span id="cb431-57"><a href="matching-methods.html#cb431-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; re74      -2139.0195</span></span>
<span id="cb431-58"><a href="matching-methods.html#cb431-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; re75        490.3945</span></span>
<span id="cb431-59"><a href="matching-methods.html#cb431-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; hispanic      0.0000</span></span>
<span id="cb431-60"><a href="matching-methods.html#cb431-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; u74           0.0000</span></span>
<span id="cb431-61"><a href="matching-methods.html#cb431-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; u75           0.0000</span></span>
<span id="cb431-62"><a href="matching-methods.html#cb431-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; q1                NA</span></span>
<span id="cb431-63"><a href="matching-methods.html#cb431-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-64"><a href="matching-methods.html#cb431-64" aria-hidden="true" tabindex="-1"></a><span class="co"># drop other variables that are not pre-treatmentt matching variables</span></span>
<span id="cb431-65"><a href="matching-methods.html#cb431-65" aria-hidden="true" tabindex="-1"></a>todrop <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;treated&quot;</span>, <span class="st">&quot;re78&quot;</span>)</span>
<span id="cb431-66"><a href="matching-methods.html#cb431-66" aria-hidden="true" tabindex="-1"></a><span class="fu">imbalance</span>(<span class="at">group=</span>Le<span class="sc">$</span>treated, <span class="at">data=</span>Le, <span class="at">drop=</span>todrop)</span>
<span id="cb431-67"><a href="matching-methods.html#cb431-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb431-68"><a href="matching-methods.html#cb431-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Multivariate Imbalance Measure: L1=0.902</span></span>
<span id="cb431-69"><a href="matching-methods.html#cb431-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Percentage of local common support: LCS=5.8%</span></span>
<span id="cb431-70"><a href="matching-methods.html#cb431-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb431-71"><a href="matching-methods.html#cb431-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Univariate Imbalance Measures:</span></span>
<span id="cb431-72"><a href="matching-methods.html#cb431-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb431-73"><a href="matching-methods.html#cb431-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               statistic   type           L1 min 25%      50%       75%</span></span>
<span id="cb431-74"><a href="matching-methods.html#cb431-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age        -0.252373042 (diff) 5.102041e-03   0   0   0.0000   -1.0000</span></span>
<span id="cb431-75"><a href="matching-methods.html#cb431-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; education   0.153634710 (diff) 8.463851e-02   1   0   1.0000    1.0000</span></span>
<span id="cb431-76"><a href="matching-methods.html#cb431-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; black      -0.010322734 (diff) 1.032273e-02   0   0   0.0000    0.0000</span></span>
<span id="cb431-77"><a href="matching-methods.html#cb431-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; married    -0.009551495 (diff) 9.551495e-03   0   0   0.0000    0.0000</span></span>
<span id="cb431-78"><a href="matching-methods.html#cb431-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; nodegree   -0.081217371 (diff) 8.121737e-02   0  -1   0.0000    0.0000</span></span>
<span id="cb431-79"><a href="matching-methods.html#cb431-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; re74      -18.160446880 (diff) 5.551115e-17   0   0 284.0715  806.3452</span></span>
<span id="cb431-80"><a href="matching-methods.html#cb431-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; re75      101.501761679 (diff) 5.551115e-17   0   0 485.6310 1238.4114</span></span>
<span id="cb431-81"><a href="matching-methods.html#cb431-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; hispanic   -0.010144756 (diff) 1.014476e-02   0   0   0.0000    0.0000</span></span>
<span id="cb431-82"><a href="matching-methods.html#cb431-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; u74        -0.045582186 (diff) 4.558219e-02   0   0   0.0000    0.0000</span></span>
<span id="cb431-83"><a href="matching-methods.html#cb431-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; u75        -0.065555292 (diff) 6.555529e-02   0   0   0.0000    0.0000</span></span>
<span id="cb431-84"><a href="matching-methods.html#cb431-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; q1          7.494021189 (Chi2) 1.067078e-01  NA  NA       NA        NA</span></span>
<span id="cb431-85"><a href="matching-methods.html#cb431-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                  max</span></span>
<span id="cb431-86"><a href="matching-methods.html#cb431-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age          -6.0000</span></span>
<span id="cb431-87"><a href="matching-methods.html#cb431-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; education     1.0000</span></span>
<span id="cb431-88"><a href="matching-methods.html#cb431-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; black         0.0000</span></span>
<span id="cb431-89"><a href="matching-methods.html#cb431-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; married       0.0000</span></span>
<span id="cb431-90"><a href="matching-methods.html#cb431-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; nodegree      0.0000</span></span>
<span id="cb431-91"><a href="matching-methods.html#cb431-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; re74      -2139.0195</span></span>
<span id="cb431-92"><a href="matching-methods.html#cb431-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; re75        490.3945</span></span>
<span id="cb431-93"><a href="matching-methods.html#cb431-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; hispanic      0.0000</span></span>
<span id="cb431-94"><a href="matching-methods.html#cb431-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; u74           0.0000</span></span>
<span id="cb431-95"><a href="matching-methods.html#cb431-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; u75           0.0000</span></span>
<span id="cb431-96"><a href="matching-methods.html#cb431-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; q1                NA</span></span></code></pre></div>
<p>automated coarsening</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="matching-methods.html#cb432-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">cem</span>(<span class="at">treatment =</span> <span class="st">&quot;treated&quot;</span>, <span class="at">data =</span> Le, <span class="at">drop =</span> <span class="st">&quot;re78&quot;</span>,<span class="at">keep.all=</span><span class="cn">TRUE</span>)</span>
<span id="cb432-2"><a href="matching-methods.html#cb432-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb432-3"><a href="matching-methods.html#cb432-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Using &#39;treated&#39;=&#39;1&#39; as baseline group</span></span>
<span id="cb432-4"><a href="matching-methods.html#cb432-4" aria-hidden="true" tabindex="-1"></a>mat</span>
<span id="cb432-5"><a href="matching-methods.html#cb432-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            G0  G1</span></span>
<span id="cb432-6"><a href="matching-methods.html#cb432-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; All       392 258</span></span>
<span id="cb432-7"><a href="matching-methods.html#cb432-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Matched    95  84</span></span>
<span id="cb432-8"><a href="matching-methods.html#cb432-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Unmatched 297 174</span></span>
<span id="cb432-9"><a href="matching-methods.html#cb432-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb432-10"><a href="matching-methods.html#cb432-10" aria-hidden="true" tabindex="-1"></a><span class="co"># mat$w</span></span></code></pre></div>
<p>coarsening by explicit user choice</p>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="matching-methods.html#cb433-1" aria-hidden="true" tabindex="-1"></a><span class="co"># categorial variables</span></span>
<span id="cb433-2"><a href="matching-methods.html#cb433-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(Le<span class="sc">$</span>q1) <span class="co"># grouping option</span></span>
<span id="cb433-3"><a href="matching-methods.html#cb433-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;agree&quot;             &quot;disagree&quot;          &quot;neutral&quot;          </span></span>
<span id="cb433-4"><a href="matching-methods.html#cb433-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4] &quot;no opinion&quot;        &quot;strongly agree&quot;    &quot;strongly disagree&quot;</span></span>
<span id="cb433-5"><a href="matching-methods.html#cb433-5" aria-hidden="true" tabindex="-1"></a>q1.grp <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;strongly agree&quot;</span>, <span class="st">&quot;agree&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;neutral&quot;</span>, <span class="st">&quot;no opinion&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;strongly disagree&quot;</span>,<span class="st">&quot;disagree&quot;</span>)) <span class="co"># if you want ordered categories</span></span>
<span id="cb433-6"><a href="matching-methods.html#cb433-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb433-7"><a href="matching-methods.html#cb433-7" aria-hidden="true" tabindex="-1"></a><span class="co"># continuous variables </span></span>
<span id="cb433-8"><a href="matching-methods.html#cb433-8" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(Le<span class="sc">$</span>education)</span>
<span id="cb433-9"><a href="matching-methods.html#cb433-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb433-10"><a href="matching-methods.html#cb433-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   3   4   5   6   7   8   9  10  11  12  13  14  15 </span></span>
<span id="cb433-11"><a href="matching-methods.html#cb433-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   1   5   4   6  12  55 106 146 173 113  19   9   1</span></span>
<span id="cb433-12"><a href="matching-methods.html#cb433-12" aria-hidden="true" tabindex="-1"></a>educut <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">6.5</span>, <span class="fl">8.5</span>, <span class="fl">12.5</span>, <span class="dv">17</span>)  <span class="co"># use cutpoints</span></span>
<span id="cb433-13"><a href="matching-methods.html#cb433-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb433-14"><a href="matching-methods.html#cb433-14" aria-hidden="true" tabindex="-1"></a>mat1 <span class="ot">&lt;-</span> <span class="fu">cem</span>(<span class="at">treatment =</span> <span class="st">&quot;treated&quot;</span>, <span class="at">data =</span> Le, <span class="at">drop =</span> <span class="st">&quot;re78&quot;</span>, <span class="at">cutpoints =</span> <span class="fu">list</span>(<span class="at">education=</span>educut), <span class="at">grouping=</span><span class="fu">list</span>(<span class="at">q1=</span>q1.grp))</span>
<span id="cb433-15"><a href="matching-methods.html#cb433-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb433-16"><a href="matching-methods.html#cb433-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Using &#39;treated&#39;=&#39;1&#39; as baseline group</span></span>
<span id="cb433-17"><a href="matching-methods.html#cb433-17" aria-hidden="true" tabindex="-1"></a>mat1</span>
<span id="cb433-18"><a href="matching-methods.html#cb433-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            G0  G1</span></span>
<span id="cb433-19"><a href="matching-methods.html#cb433-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; All       392 258</span></span>
<span id="cb433-20"><a href="matching-methods.html#cb433-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Matched   158 115</span></span>
<span id="cb433-21"><a href="matching-methods.html#cb433-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Unmatched 234 143</span></span></code></pre></div>
<ul>
<li><p>Can also use progressive coarsening method to control the number of matches.</p></li>
<li><p><code>cem</code> can also handle some missingness.</p></li>
</ul>
</div>
<div id="genetic-matching" class="section level3" number="21.6.6">
<h3><span class="header-section-number">21.6.6</span> Genetic Matching</h3>
<ul>
<li>GM uses iterative checking process of propensity scores, which combines propensity scores and Mahalanobis distance.</li>
</ul>
<!-- -->
<ul>
<li>GM is arguably “superior” method than nearest neighbor or full matching in imbalanced data</li>
</ul>
<!-- -->
<ul>
<li><p>Use a genetic search algorithm to find weights for each covariate such that we have optimal balance.</p></li>
<li><p>Implementation</p>
<ul>
<li><p>could use <em>with replacement</em></p></li>
<li><p>balance can be based on</p>
<ul>
<li><p>paired t-tests (dichotomous variables)</p></li>
<li><p>Kolmogorov-Smirnov (multinomial and continuous)</p></li>
</ul></li>
</ul></li>
</ul>
<p>Packages</p>
<p><code>Matching</code></p>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="matching-methods.html#cb434-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Matching)</span>
<span id="cb434-2"><a href="matching-methods.html#cb434-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(lalonde)</span>
<span id="cb434-3"><a href="matching-methods.html#cb434-3" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(lalonde)</span>
<span id="cb434-4"><a href="matching-methods.html#cb434-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-5"><a href="matching-methods.html#cb434-5" aria-hidden="true" tabindex="-1"></a><span class="co">#The covariates we want to match on</span></span>
<span id="cb434-6"><a href="matching-methods.html#cb434-6" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> <span class="fu">cbind</span>(age, educ, black, hisp, married, nodegr, u74, u75, re75, re74)</span>
<span id="cb434-7"><a href="matching-methods.html#cb434-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-8"><a href="matching-methods.html#cb434-8" aria-hidden="true" tabindex="-1"></a><span class="co">#The covariates we want to obtain balance on</span></span>
<span id="cb434-9"><a href="matching-methods.html#cb434-9" aria-hidden="true" tabindex="-1"></a>BalanceMat <span class="ot">&lt;-</span> <span class="fu">cbind</span>(age, educ, black, hisp, married, nodegr, u74, u75, re75, re74,</span>
<span id="cb434-10"><a href="matching-methods.html#cb434-10" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">I</span>(re74<span class="sc">*</span>re75))</span>
<span id="cb434-11"><a href="matching-methods.html#cb434-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-12"><a href="matching-methods.html#cb434-12" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb434-13"><a href="matching-methods.html#cb434-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Let&#39;s call GenMatch() to find the optimal weight to give each</span></span>
<span id="cb434-14"><a href="matching-methods.html#cb434-14" aria-hidden="true" tabindex="-1"></a><span class="co">#covariate in &#39;X&#39; so as we have achieved balance on the covariates in</span></span>
<span id="cb434-15"><a href="matching-methods.html#cb434-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39;BalanceMat&#39;. This is only an example so we want GenMatch to be quick</span></span>
<span id="cb434-16"><a href="matching-methods.html#cb434-16" aria-hidden="true" tabindex="-1"></a><span class="co">#so the population size has been set to be only 16 via the &#39;pop.size&#39;</span></span>
<span id="cb434-17"><a href="matching-methods.html#cb434-17" aria-hidden="true" tabindex="-1"></a><span class="co">#option. This is *WAY* too small for actual problems.</span></span>
<span id="cb434-18"><a href="matching-methods.html#cb434-18" aria-hidden="true" tabindex="-1"></a><span class="co">#For details see http://sekhon.berkeley.edu/papers/MatchingJSS.pdf.</span></span>
<span id="cb434-19"><a href="matching-methods.html#cb434-19" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb434-20"><a href="matching-methods.html#cb434-20" aria-hidden="true" tabindex="-1"></a>genout <span class="ot">&lt;-</span> <span class="fu">GenMatch</span>(<span class="at">Tr=</span>treat, <span class="at">X=</span>X, <span class="at">BalanceMatrix=</span>BalanceMat, <span class="at">estimand=</span><span class="st">&quot;ATE&quot;</span>, <span class="at">M=</span><span class="dv">1</span>,</span>
<span id="cb434-21"><a href="matching-methods.html#cb434-21" aria-hidden="true" tabindex="-1"></a>                   <span class="at">pop.size=</span><span class="dv">16</span>, <span class="at">max.generations=</span><span class="dv">10</span>, <span class="at">wait.generations=</span><span class="dv">1</span>)</span>
<span id="cb434-22"><a href="matching-methods.html#cb434-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-23"><a href="matching-methods.html#cb434-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-24"><a href="matching-methods.html#cb434-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Mon Jun 06 20:54:36 2022</span></span>
<span id="cb434-25"><a href="matching-methods.html#cb434-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Domains:</span></span>
<span id="cb434-26"><a href="matching-methods.html#cb434-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X1   &lt;=    1.000000e+03 </span></span>
<span id="cb434-27"><a href="matching-methods.html#cb434-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X2   &lt;=    1.000000e+03 </span></span>
<span id="cb434-28"><a href="matching-methods.html#cb434-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X3   &lt;=    1.000000e+03 </span></span>
<span id="cb434-29"><a href="matching-methods.html#cb434-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X4   &lt;=    1.000000e+03 </span></span>
<span id="cb434-30"><a href="matching-methods.html#cb434-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X5   &lt;=    1.000000e+03 </span></span>
<span id="cb434-31"><a href="matching-methods.html#cb434-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X6   &lt;=    1.000000e+03 </span></span>
<span id="cb434-32"><a href="matching-methods.html#cb434-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X7   &lt;=    1.000000e+03 </span></span>
<span id="cb434-33"><a href="matching-methods.html#cb434-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X8   &lt;=    1.000000e+03 </span></span>
<span id="cb434-34"><a href="matching-methods.html#cb434-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X9   &lt;=    1.000000e+03 </span></span>
<span id="cb434-35"><a href="matching-methods.html#cb434-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.000000e+00   &lt;=  X10  &lt;=    1.000000e+03 </span></span>
<span id="cb434-36"><a href="matching-methods.html#cb434-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-37"><a href="matching-methods.html#cb434-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Data Type: Floating Point</span></span>
<span id="cb434-38"><a href="matching-methods.html#cb434-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Operators (code number, name, population) </span></span>
<span id="cb434-39"><a href="matching-methods.html#cb434-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  (1) Cloning...........................  1</span></span>
<span id="cb434-40"><a href="matching-methods.html#cb434-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  (2) Uniform Mutation..................  2</span></span>
<span id="cb434-41"><a href="matching-methods.html#cb434-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  (3) Boundary Mutation.................  2</span></span>
<span id="cb434-42"><a href="matching-methods.html#cb434-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  (4) Non-Uniform Mutation..............  2</span></span>
<span id="cb434-43"><a href="matching-methods.html#cb434-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  (5) Polytope Crossover................  2</span></span>
<span id="cb434-44"><a href="matching-methods.html#cb434-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  (6) Simple Crossover..................  2</span></span>
<span id="cb434-45"><a href="matching-methods.html#cb434-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  (7) Whole Non-Uniform Mutation........  2</span></span>
<span id="cb434-46"><a href="matching-methods.html#cb434-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  (8) Heuristic Crossover...............  2</span></span>
<span id="cb434-47"><a href="matching-methods.html#cb434-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  (9) Local-Minimum Crossover...........  0</span></span>
<span id="cb434-48"><a href="matching-methods.html#cb434-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-49"><a href="matching-methods.html#cb434-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; SOFT Maximum Number of Generations: 10</span></span>
<span id="cb434-50"><a href="matching-methods.html#cb434-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Maximum Nonchanging Generations: 1</span></span>
<span id="cb434-51"><a href="matching-methods.html#cb434-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Population size       : 16</span></span>
<span id="cb434-52"><a href="matching-methods.html#cb434-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Convergence Tolerance: 1.000000e-03</span></span>
<span id="cb434-53"><a href="matching-methods.html#cb434-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-54"><a href="matching-methods.html#cb434-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Not Using the BFGS Derivative Based Optimizer on the Best Individual Each Generation.</span></span>
<span id="cb434-55"><a href="matching-methods.html#cb434-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Not Checking Gradients before Stopping.</span></span>
<span id="cb434-56"><a href="matching-methods.html#cb434-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Using Out of Bounds Individuals.</span></span>
<span id="cb434-57"><a href="matching-methods.html#cb434-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-58"><a href="matching-methods.html#cb434-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Maximization Problem.</span></span>
<span id="cb434-59"><a href="matching-methods.html#cb434-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; GENERATION: 0 (initializing the population)</span></span>
<span id="cb434-60"><a href="matching-methods.html#cb434-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Lexical Fit..... 1.747466e-01  1.795176e-01  1.795176e-01  2.755332e-01  3.173114e-01  3.173114e-01  3.857502e-01  3.937274e-01  7.390086e-01  7.390086e-01  8.024999e-01  8.910491e-01  9.688444e-01  9.917159e-01  9.989079e-01  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  </span></span>
<span id="cb434-61"><a href="matching-methods.html#cb434-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #unique......... 16, #Total UniqueCount: 16</span></span>
<span id="cb434-62"><a href="matching-methods.html#cb434-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 1:</span></span>
<span id="cb434-63"><a href="matching-methods.html#cb434-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 3.758091e+02</span></span>
<span id="cb434-64"><a href="matching-methods.html#cb434-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.897395e+02</span></span>
<span id="cb434-65"><a href="matching-methods.html#cb434-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 9.320437e+04</span></span>
<span id="cb434-66"><a href="matching-methods.html#cb434-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 2:</span></span>
<span id="cb434-67"><a href="matching-methods.html#cb434-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 4.944768e+02</span></span>
<span id="cb434-68"><a href="matching-methods.html#cb434-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 5.218593e+02</span></span>
<span id="cb434-69"><a href="matching-methods.html#cb434-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 6.830606e+04</span></span>
<span id="cb434-70"><a href="matching-methods.html#cb434-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 3:</span></span>
<span id="cb434-71"><a href="matching-methods.html#cb434-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 1.880547e+02</span></span>
<span id="cb434-72"><a href="matching-methods.html#cb434-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.838327e+02</span></span>
<span id="cb434-73"><a href="matching-methods.html#cb434-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 1.030481e+05</span></span>
<span id="cb434-74"><a href="matching-methods.html#cb434-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 4:</span></span>
<span id="cb434-75"><a href="matching-methods.html#cb434-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 8.125678e+02</span></span>
<span id="cb434-76"><a href="matching-methods.html#cb434-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.445995e+02</span></span>
<span id="cb434-77"><a href="matching-methods.html#cb434-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 8.135038e+04</span></span>
<span id="cb434-78"><a href="matching-methods.html#cb434-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 5:</span></span>
<span id="cb434-79"><a href="matching-methods.html#cb434-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 9.058067e+02</span></span>
<span id="cb434-80"><a href="matching-methods.html#cb434-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.753729e+02</span></span>
<span id="cb434-81"><a href="matching-methods.html#cb434-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 1.184631e+05</span></span>
<span id="cb434-82"><a href="matching-methods.html#cb434-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 6:</span></span>
<span id="cb434-83"><a href="matching-methods.html#cb434-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 1.733063e+02</span></span>
<span id="cb434-84"><a href="matching-methods.html#cb434-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.782400e+02</span></span>
<span id="cb434-85"><a href="matching-methods.html#cb434-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 8.948808e+04</span></span>
<span id="cb434-86"><a href="matching-methods.html#cb434-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 7:</span></span>
<span id="cb434-87"><a href="matching-methods.html#cb434-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 5.766096e+02</span></span>
<span id="cb434-88"><a href="matching-methods.html#cb434-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.722599e+02</span></span>
<span id="cb434-89"><a href="matching-methods.html#cb434-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 7.199369e+04</span></span>
<span id="cb434-90"><a href="matching-methods.html#cb434-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 8:</span></span>
<span id="cb434-91"><a href="matching-methods.html#cb434-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 3.736603e+02</span></span>
<span id="cb434-92"><a href="matching-methods.html#cb434-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.108310e+02</span></span>
<span id="cb434-93"><a href="matching-methods.html#cb434-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 8.454007e+04</span></span>
<span id="cb434-94"><a href="matching-methods.html#cb434-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 9:</span></span>
<span id="cb434-95"><a href="matching-methods.html#cb434-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 5.987977e+02</span></span>
<span id="cb434-96"><a href="matching-methods.html#cb434-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 3.762504e+02</span></span>
<span id="cb434-97"><a href="matching-methods.html#cb434-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 7.462591e+04</span></span>
<span id="cb434-98"><a href="matching-methods.html#cb434-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 10:</span></span>
<span id="cb434-99"><a href="matching-methods.html#cb434-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 5.352480e+02</span></span>
<span id="cb434-100"><a href="matching-methods.html#cb434-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.491692e+02</span></span>
<span id="cb434-101"><a href="matching-methods.html#cb434-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 8.739694e+04</span></span>
<span id="cb434-102"><a href="matching-methods.html#cb434-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-103"><a href="matching-methods.html#cb434-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; GENERATION: 1</span></span>
<span id="cb434-104"><a href="matching-methods.html#cb434-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Lexical Fit..... 1.747466e-01  1.795176e-01  1.795176e-01  2.755332e-01  3.173114e-01  3.173114e-01  3.857502e-01  3.937274e-01  7.390086e-01  7.390086e-01  8.024999e-01  8.910491e-01  9.688444e-01  9.917159e-01  9.989079e-01  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  </span></span>
<span id="cb434-105"><a href="matching-methods.html#cb434-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #unique......... 12, #Total UniqueCount: 28</span></span>
<span id="cb434-106"><a href="matching-methods.html#cb434-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 1:</span></span>
<span id="cb434-107"><a href="matching-methods.html#cb434-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 3.758091e+02</span></span>
<span id="cb434-108"><a href="matching-methods.html#cb434-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 3.556052e+02</span></span>
<span id="cb434-109"><a href="matching-methods.html#cb434-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 6.953381e+03</span></span>
<span id="cb434-110"><a href="matching-methods.html#cb434-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 2:</span></span>
<span id="cb434-111"><a href="matching-methods.html#cb434-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 4.944768e+02</span></span>
<span id="cb434-112"><a href="matching-methods.html#cb434-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 5.087018e+02</span></span>
<span id="cb434-113"><a href="matching-methods.html#cb434-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 3.156408e+03</span></span>
<span id="cb434-114"><a href="matching-methods.html#cb434-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 3:</span></span>
<span id="cb434-115"><a href="matching-methods.html#cb434-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 1.880547e+02</span></span>
<span id="cb434-116"><a href="matching-methods.html#cb434-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 1.798786e+02</span></span>
<span id="cb434-117"><a href="matching-methods.html#cb434-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 4.539894e+03</span></span>
<span id="cb434-118"><a href="matching-methods.html#cb434-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 4:</span></span>
<span id="cb434-119"><a href="matching-methods.html#cb434-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 8.125678e+02</span></span>
<span id="cb434-120"><a href="matching-methods.html#cb434-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 6.669235e+02</span></span>
<span id="cb434-121"><a href="matching-methods.html#cb434-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 5.540181e+04</span></span>
<span id="cb434-122"><a href="matching-methods.html#cb434-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 5:</span></span>
<span id="cb434-123"><a href="matching-methods.html#cb434-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 9.058067e+02</span></span>
<span id="cb434-124"><a href="matching-methods.html#cb434-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 9.117080e+02</span></span>
<span id="cb434-125"><a href="matching-methods.html#cb434-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 3.397508e+03</span></span>
<span id="cb434-126"><a href="matching-methods.html#cb434-126" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 6:</span></span>
<span id="cb434-127"><a href="matching-methods.html#cb434-127" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 1.733063e+02</span></span>
<span id="cb434-128"><a href="matching-methods.html#cb434-128" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 2.041563e+02</span></span>
<span id="cb434-129"><a href="matching-methods.html#cb434-129" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 3.552940e+04</span></span>
<span id="cb434-130"><a href="matching-methods.html#cb434-130" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 7:</span></span>
<span id="cb434-131"><a href="matching-methods.html#cb434-131" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 5.766096e+02</span></span>
<span id="cb434-132"><a href="matching-methods.html#cb434-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.995566e+02</span></span>
<span id="cb434-133"><a href="matching-methods.html#cb434-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 2.585541e+04</span></span>
<span id="cb434-134"><a href="matching-methods.html#cb434-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 8:</span></span>
<span id="cb434-135"><a href="matching-methods.html#cb434-135" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 3.736603e+02</span></span>
<span id="cb434-136"><a href="matching-methods.html#cb434-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 5.068097e+02</span></span>
<span id="cb434-137"><a href="matching-methods.html#cb434-137" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 4.273372e+04</span></span>
<span id="cb434-138"><a href="matching-methods.html#cb434-138" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 9:</span></span>
<span id="cb434-139"><a href="matching-methods.html#cb434-139" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 5.987977e+02</span></span>
<span id="cb434-140"><a href="matching-methods.html#cb434-140" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.917595e+02</span></span>
<span id="cb434-141"><a href="matching-methods.html#cb434-141" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 3.084008e+04</span></span>
<span id="cb434-142"><a href="matching-methods.html#cb434-142" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 10:</span></span>
<span id="cb434-143"><a href="matching-methods.html#cb434-143" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 5.352480e+02</span></span>
<span id="cb434-144"><a href="matching-methods.html#cb434-144" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 5.445554e+02</span></span>
<span id="cb434-145"><a href="matching-methods.html#cb434-145" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 8.587358e+03</span></span>
<span id="cb434-146"><a href="matching-methods.html#cb434-146" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-147"><a href="matching-methods.html#cb434-147" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; GENERATION: 2</span></span>
<span id="cb434-148"><a href="matching-methods.html#cb434-148" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Lexical Fit..... 1.747466e-01  1.795176e-01  1.795176e-01  2.755332e-01  3.173114e-01  3.173114e-01  3.857502e-01  3.937274e-01  7.390086e-01  7.390086e-01  8.024999e-01  8.910491e-01  9.688444e-01  9.917159e-01  9.989079e-01  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  </span></span>
<span id="cb434-149"><a href="matching-methods.html#cb434-149" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #unique......... 8, #Total UniqueCount: 36</span></span>
<span id="cb434-150"><a href="matching-methods.html#cb434-150" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 1:</span></span>
<span id="cb434-151"><a href="matching-methods.html#cb434-151" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 3.758091e+02</span></span>
<span id="cb434-152"><a href="matching-methods.html#cb434-152" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 3.562379e+02</span></span>
<span id="cb434-153"><a href="matching-methods.html#cb434-153" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 2.385358e+03</span></span>
<span id="cb434-154"><a href="matching-methods.html#cb434-154" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 2:</span></span>
<span id="cb434-155"><a href="matching-methods.html#cb434-155" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 4.944768e+02</span></span>
<span id="cb434-156"><a href="matching-methods.html#cb434-156" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 4.956205e+02</span></span>
<span id="cb434-157"><a href="matching-methods.html#cb434-157" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 1.566415e+02</span></span>
<span id="cb434-158"><a href="matching-methods.html#cb434-158" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 3:</span></span>
<span id="cb434-159"><a href="matching-methods.html#cb434-159" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 1.880547e+02</span></span>
<span id="cb434-160"><a href="matching-methods.html#cb434-160" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 2.166244e+02</span></span>
<span id="cb434-161"><a href="matching-methods.html#cb434-161" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 6.801191e+03</span></span>
<span id="cb434-162"><a href="matching-methods.html#cb434-162" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 4:</span></span>
<span id="cb434-163"><a href="matching-methods.html#cb434-163" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 8.125678e+02</span></span>
<span id="cb434-164"><a href="matching-methods.html#cb434-164" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 8.059555e+02</span></span>
<span id="cb434-165"><a href="matching-methods.html#cb434-165" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 6.565662e+02</span></span>
<span id="cb434-166"><a href="matching-methods.html#cb434-166" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 5:</span></span>
<span id="cb434-167"><a href="matching-methods.html#cb434-167" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 9.058067e+02</span></span>
<span id="cb434-168"><a href="matching-methods.html#cb434-168" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 8.852994e+02</span></span>
<span id="cb434-169"><a href="matching-methods.html#cb434-169" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 3.056774e+03</span></span>
<span id="cb434-170"><a href="matching-methods.html#cb434-170" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 6:</span></span>
<span id="cb434-171"><a href="matching-methods.html#cb434-171" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 1.733063e+02</span></span>
<span id="cb434-172"><a href="matching-methods.html#cb434-172" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 2.210856e+02</span></span>
<span id="cb434-173"><a href="matching-methods.html#cb434-173" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 2.369334e+04</span></span>
<span id="cb434-174"><a href="matching-methods.html#cb434-174" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 7:</span></span>
<span id="cb434-175"><a href="matching-methods.html#cb434-175" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 5.766096e+02</span></span>
<span id="cb434-176"><a href="matching-methods.html#cb434-176" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 5.482967e+02</span></span>
<span id="cb434-177"><a href="matching-methods.html#cb434-177" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 4.613957e+03</span></span>
<span id="cb434-178"><a href="matching-methods.html#cb434-178" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 8:</span></span>
<span id="cb434-179"><a href="matching-methods.html#cb434-179" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 3.736603e+02</span></span>
<span id="cb434-180"><a href="matching-methods.html#cb434-180" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 3.943396e+02</span></span>
<span id="cb434-181"><a href="matching-methods.html#cb434-181" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 1.895797e+03</span></span>
<span id="cb434-182"><a href="matching-methods.html#cb434-182" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 9:</span></span>
<span id="cb434-183"><a href="matching-methods.html#cb434-183" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 5.987977e+02</span></span>
<span id="cb434-184"><a href="matching-methods.html#cb434-184" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 6.005851e+02</span></span>
<span id="cb434-185"><a href="matching-methods.html#cb434-185" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 3.308459e+02</span></span>
<span id="cb434-186"><a href="matching-methods.html#cb434-186" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var 10:</span></span>
<span id="cb434-187"><a href="matching-methods.html#cb434-187" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; best............ 5.352480e+02</span></span>
<span id="cb434-188"><a href="matching-methods.html#cb434-188" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean............ 5.444285e+02</span></span>
<span id="cb434-189"><a href="matching-methods.html#cb434-189" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; variance........ 4.950778e+02</span></span>
<span id="cb434-190"><a href="matching-methods.html#cb434-190" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-191"><a href="matching-methods.html#cb434-191" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &#39;wait.generations&#39; limit reached.</span></span>
<span id="cb434-192"><a href="matching-methods.html#cb434-192" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No significant improvement in 1 generations.</span></span>
<span id="cb434-193"><a href="matching-methods.html#cb434-193" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-194"><a href="matching-methods.html#cb434-194" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Solution Lexical Fitness Value:</span></span>
<span id="cb434-195"><a href="matching-methods.html#cb434-195" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1.747466e-01  1.795176e-01  1.795176e-01  2.755332e-01  3.173114e-01  3.173114e-01  3.857502e-01  3.937274e-01  7.390086e-01  7.390086e-01  8.024999e-01  8.910491e-01  9.688444e-01  9.917159e-01  9.989079e-01  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  1.000000e+00  </span></span>
<span id="cb434-196"><a href="matching-methods.html#cb434-196" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-197"><a href="matching-methods.html#cb434-197" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Parameters at the Solution:</span></span>
<span id="cb434-198"><a href="matching-methods.html#cb434-198" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-199"><a href="matching-methods.html#cb434-199" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[ 1] : 3.758091e+02</span></span>
<span id="cb434-200"><a href="matching-methods.html#cb434-200" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[ 2] : 4.944768e+02</span></span>
<span id="cb434-201"><a href="matching-methods.html#cb434-201" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[ 3] : 1.880547e+02</span></span>
<span id="cb434-202"><a href="matching-methods.html#cb434-202" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[ 4] : 8.125678e+02</span></span>
<span id="cb434-203"><a href="matching-methods.html#cb434-203" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[ 5] : 9.058067e+02</span></span>
<span id="cb434-204"><a href="matching-methods.html#cb434-204" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[ 6] : 1.733063e+02</span></span>
<span id="cb434-205"><a href="matching-methods.html#cb434-205" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[ 7] : 5.766096e+02</span></span>
<span id="cb434-206"><a href="matching-methods.html#cb434-206" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[ 8] : 3.736603e+02</span></span>
<span id="cb434-207"><a href="matching-methods.html#cb434-207" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[ 9] : 5.987977e+02</span></span>
<span id="cb434-208"><a href="matching-methods.html#cb434-208" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  X[10] : 5.352480e+02</span></span>
<span id="cb434-209"><a href="matching-methods.html#cb434-209" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-210"><a href="matching-methods.html#cb434-210" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Solution Found Generation 1</span></span>
<span id="cb434-211"><a href="matching-methods.html#cb434-211" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Number of Generations Run 2</span></span>
<span id="cb434-212"><a href="matching-methods.html#cb434-212" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-213"><a href="matching-methods.html#cb434-213" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Mon Jun 06 20:54:36 2022</span></span>
<span id="cb434-214"><a href="matching-methods.html#cb434-214" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Total run time : 0 hours 0 minutes and 0 seconds</span></span>
<span id="cb434-215"><a href="matching-methods.html#cb434-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-216"><a href="matching-methods.html#cb434-216" aria-hidden="true" tabindex="-1"></a><span class="co">#The outcome variable</span></span>
<span id="cb434-217"><a href="matching-methods.html#cb434-217" aria-hidden="true" tabindex="-1"></a>Y<span class="ot">=</span>re78<span class="sc">/</span><span class="dv">1000</span></span>
<span id="cb434-218"><a href="matching-methods.html#cb434-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-219"><a href="matching-methods.html#cb434-219" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb434-220"><a href="matching-methods.html#cb434-220" aria-hidden="true" tabindex="-1"></a><span class="co"># Now that GenMatch() has found the optimal weights, let&#39;s estimate</span></span>
<span id="cb434-221"><a href="matching-methods.html#cb434-221" aria-hidden="true" tabindex="-1"></a><span class="co"># our causal effect of interest using those weights</span></span>
<span id="cb434-222"><a href="matching-methods.html#cb434-222" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb434-223"><a href="matching-methods.html#cb434-223" aria-hidden="true" tabindex="-1"></a>mout <span class="ot">&lt;-</span> <span class="fu">Match</span>(<span class="at">Y=</span>Y, <span class="at">Tr=</span>treat, <span class="at">X=</span>X, <span class="at">estimand=</span><span class="st">&quot;ATE&quot;</span>, <span class="at">Weight.matrix=</span>genout)</span>
<span id="cb434-224"><a href="matching-methods.html#cb434-224" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mout)</span>
<span id="cb434-225"><a href="matching-methods.html#cb434-225" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-226"><a href="matching-methods.html#cb434-226" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Estimate...  1.9046 </span></span>
<span id="cb434-227"><a href="matching-methods.html#cb434-227" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; AI SE......  0.82198 </span></span>
<span id="cb434-228"><a href="matching-methods.html#cb434-228" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-stat.....  2.3171 </span></span>
<span id="cb434-229"><a href="matching-methods.html#cb434-229" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; p.val......  0.020498 </span></span>
<span id="cb434-230"><a href="matching-methods.html#cb434-230" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-231"><a href="matching-methods.html#cb434-231" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Original number of observations..............  445 </span></span>
<span id="cb434-232"><a href="matching-methods.html#cb434-232" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Original number of treated obs...............  185 </span></span>
<span id="cb434-233"><a href="matching-methods.html#cb434-233" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Matched number of observations...............  445 </span></span>
<span id="cb434-234"><a href="matching-methods.html#cb434-234" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Matched number of observations  (unweighted).  597</span></span>
<span id="cb434-235"><a href="matching-methods.html#cb434-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-236"><a href="matching-methods.html#cb434-236" aria-hidden="true" tabindex="-1"></a><span class="co">#                        </span></span>
<span id="cb434-237"><a href="matching-methods.html#cb434-237" aria-hidden="true" tabindex="-1"></a><span class="co">#Let&#39;s determine if balance has actually been obtained on the variables of interest</span></span>
<span id="cb434-238"><a href="matching-methods.html#cb434-238" aria-hidden="true" tabindex="-1"></a><span class="co">#                        </span></span>
<span id="cb434-239"><a href="matching-methods.html#cb434-239" aria-hidden="true" tabindex="-1"></a>mb <span class="ot">&lt;-</span> <span class="fu">MatchBalance</span>(treat<span class="sc">~</span>age <span class="sc">+</span>educ<span class="sc">+</span>black<span class="sc">+</span> hisp<span class="sc">+</span> married<span class="sc">+</span> nodegr<span class="sc">+</span> u74<span class="sc">+</span> u75<span class="sc">+</span></span>
<span id="cb434-240"><a href="matching-methods.html#cb434-240" aria-hidden="true" tabindex="-1"></a>                   re75<span class="sc">+</span> re74<span class="sc">+</span> <span class="fu">I</span>(re74<span class="sc">*</span>re75),</span>
<span id="cb434-241"><a href="matching-methods.html#cb434-241" aria-hidden="true" tabindex="-1"></a>                   <span class="at">match.out=</span>mout, <span class="at">nboots=</span><span class="dv">500</span>)</span>
<span id="cb434-242"><a href="matching-methods.html#cb434-242" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-243"><a href="matching-methods.html#cb434-243" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V1) age *****</span></span>
<span id="cb434-244"><a href="matching-methods.html#cb434-244" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-245"><a href="matching-methods.html#cb434-245" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........     25.816             25.112 </span></span>
<span id="cb434-246"><a href="matching-methods.html#cb434-246" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........     25.054             24.902 </span></span>
<span id="cb434-247"><a href="matching-methods.html#cb434-247" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........     10.655             3.1286 </span></span>
<span id="cb434-248"><a href="matching-methods.html#cb434-248" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-249"><a href="matching-methods.html#cb434-249" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....    0.94054            0.36181 </span></span>
<span id="cb434-250"><a href="matching-methods.html#cb434-250" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          1                  0 </span></span>
<span id="cb434-251"><a href="matching-methods.html#cb434-251" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....          7                  8 </span></span>
<span id="cb434-252"><a href="matching-methods.html#cb434-252" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-253"><a href="matching-methods.html#cb434-253" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.025364          0.0099025 </span></span>
<span id="cb434-254"><a href="matching-methods.html#cb434-254" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........   0.022193          0.0075377 </span></span>
<span id="cb434-255"><a href="matching-methods.html#cb434-255" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........   0.065177           0.028476 </span></span>
<span id="cb434-256"><a href="matching-methods.html#cb434-256" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-257"><a href="matching-methods.html#cb434-257" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....     1.0278            0.98286 </span></span>
<span id="cb434-258"><a href="matching-methods.html#cb434-258" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........    0.26594            0.27553 </span></span>
<span id="cb434-259"><a href="matching-methods.html#cb434-259" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Bootstrap p-value..      0.504              0.842 </span></span>
<span id="cb434-260"><a href="matching-methods.html#cb434-260" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Naive p-value......     0.7481            0.96884 </span></span>
<span id="cb434-261"><a href="matching-methods.html#cb434-261" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Statistic..........   0.065177           0.028476 </span></span>
<span id="cb434-262"><a href="matching-methods.html#cb434-262" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-263"><a href="matching-methods.html#cb434-263" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-264"><a href="matching-methods.html#cb434-264" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V2) educ *****</span></span>
<span id="cb434-265"><a href="matching-methods.html#cb434-265" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-266"><a href="matching-methods.html#cb434-266" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........     10.346             10.189 </span></span>
<span id="cb434-267"><a href="matching-methods.html#cb434-267" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........     10.088             10.222 </span></span>
<span id="cb434-268"><a href="matching-methods.html#cb434-268" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........     12.806            -1.9653 </span></span>
<span id="cb434-269"><a href="matching-methods.html#cb434-269" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-270"><a href="matching-methods.html#cb434-270" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....    0.40541           0.098827 </span></span>
<span id="cb434-271"><a href="matching-methods.html#cb434-271" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-272"><a href="matching-methods.html#cb434-272" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....          2                  2 </span></span>
<span id="cb434-273"><a href="matching-methods.html#cb434-273" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-274"><a href="matching-methods.html#cb434-274" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.028698          0.0070591 </span></span>
<span id="cb434-275"><a href="matching-methods.html#cb434-275" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........   0.012682          0.0033501 </span></span>
<span id="cb434-276"><a href="matching-methods.html#cb434-276" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........    0.12651           0.033501 </span></span>
<span id="cb434-277"><a href="matching-methods.html#cb434-277" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-278"><a href="matching-methods.html#cb434-278" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....     1.5513             1.0458 </span></span>
<span id="cb434-279"><a href="matching-methods.html#cb434-279" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........    0.15017            0.38575 </span></span>
<span id="cb434-280"><a href="matching-methods.html#cb434-280" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Bootstrap p-value..       0.02              0.454 </span></span>
<span id="cb434-281"><a href="matching-methods.html#cb434-281" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Naive p-value......   0.062873            0.89105 </span></span>
<span id="cb434-282"><a href="matching-methods.html#cb434-282" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Statistic..........    0.12651           0.033501 </span></span>
<span id="cb434-283"><a href="matching-methods.html#cb434-283" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-284"><a href="matching-methods.html#cb434-284" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-285"><a href="matching-methods.html#cb434-285" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V3) black *****</span></span>
<span id="cb434-286"><a href="matching-methods.html#cb434-286" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-287"><a href="matching-methods.html#cb434-287" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........    0.84324             0.8382 </span></span>
<span id="cb434-288"><a href="matching-methods.html#cb434-288" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........    0.82692             0.8382 </span></span>
<span id="cb434-289"><a href="matching-methods.html#cb434-289" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........     4.4767                  0 </span></span>
<span id="cb434-290"><a href="matching-methods.html#cb434-290" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-291"><a href="matching-methods.html#cb434-291" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....   0.016216                  0 </span></span>
<span id="cb434-292"><a href="matching-methods.html#cb434-292" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-293"><a href="matching-methods.html#cb434-293" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....          1                  0 </span></span>
<span id="cb434-294"><a href="matching-methods.html#cb434-294" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-295"><a href="matching-methods.html#cb434-295" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........  0.0081601                  0 </span></span>
<span id="cb434-296"><a href="matching-methods.html#cb434-296" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........  0.0081601                  0 </span></span>
<span id="cb434-297"><a href="matching-methods.html#cb434-297" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........    0.01632                  0 </span></span>
<span id="cb434-298"><a href="matching-methods.html#cb434-298" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-299"><a href="matching-methods.html#cb434-299" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....    0.92503                  1 </span></span>
<span id="cb434-300"><a href="matching-methods.html#cb434-300" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........    0.64736                  1 </span></span>
<span id="cb434-301"><a href="matching-methods.html#cb434-301" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-302"><a href="matching-methods.html#cb434-302" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-303"><a href="matching-methods.html#cb434-303" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V4) hisp *****</span></span>
<span id="cb434-304"><a href="matching-methods.html#cb434-304" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-305"><a href="matching-methods.html#cb434-305" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........   0.059459            0.08764 </span></span>
<span id="cb434-306"><a href="matching-methods.html#cb434-306" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........    0.10769            0.08764 </span></span>
<span id="cb434-307"><a href="matching-methods.html#cb434-307" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........    -20.341                  0 </span></span>
<span id="cb434-308"><a href="matching-methods.html#cb434-308" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-309"><a href="matching-methods.html#cb434-309" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....   0.048649                  0 </span></span>
<span id="cb434-310"><a href="matching-methods.html#cb434-310" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-311"><a href="matching-methods.html#cb434-311" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....          1                  0 </span></span>
<span id="cb434-312"><a href="matching-methods.html#cb434-312" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-313"><a href="matching-methods.html#cb434-313" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.024116                  0 </span></span>
<span id="cb434-314"><a href="matching-methods.html#cb434-314" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........   0.024116                  0 </span></span>
<span id="cb434-315"><a href="matching-methods.html#cb434-315" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........   0.048233                  0 </span></span>
<span id="cb434-316"><a href="matching-methods.html#cb434-316" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-317"><a href="matching-methods.html#cb434-317" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....    0.58288                  1 </span></span>
<span id="cb434-318"><a href="matching-methods.html#cb434-318" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........   0.064043                  1 </span></span>
<span id="cb434-319"><a href="matching-methods.html#cb434-319" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-320"><a href="matching-methods.html#cb434-320" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-321"><a href="matching-methods.html#cb434-321" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V5) married *****</span></span>
<span id="cb434-322"><a href="matching-methods.html#cb434-322" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-323"><a href="matching-methods.html#cb434-323" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........    0.18919            0.16854 </span></span>
<span id="cb434-324"><a href="matching-methods.html#cb434-324" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........    0.15385            0.16854 </span></span>
<span id="cb434-325"><a href="matching-methods.html#cb434-325" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........     8.9995                  0 </span></span>
<span id="cb434-326"><a href="matching-methods.html#cb434-326" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-327"><a href="matching-methods.html#cb434-327" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....   0.037838                  0 </span></span>
<span id="cb434-328"><a href="matching-methods.html#cb434-328" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-329"><a href="matching-methods.html#cb434-329" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....          1                  0 </span></span>
<span id="cb434-330"><a href="matching-methods.html#cb434-330" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-331"><a href="matching-methods.html#cb434-331" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.017672                  0 </span></span>
<span id="cb434-332"><a href="matching-methods.html#cb434-332" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........   0.017672                  0 </span></span>
<span id="cb434-333"><a href="matching-methods.html#cb434-333" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........   0.035343                  0 </span></span>
<span id="cb434-334"><a href="matching-methods.html#cb434-334" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-335"><a href="matching-methods.html#cb434-335" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....     1.1802                  1 </span></span>
<span id="cb434-336"><a href="matching-methods.html#cb434-336" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........    0.33425                  1 </span></span>
<span id="cb434-337"><a href="matching-methods.html#cb434-337" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-338"><a href="matching-methods.html#cb434-338" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-339"><a href="matching-methods.html#cb434-339" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V6) nodegr *****</span></span>
<span id="cb434-340"><a href="matching-methods.html#cb434-340" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-341"><a href="matching-methods.html#cb434-341" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........    0.70811            0.78876 </span></span>
<span id="cb434-342"><a href="matching-methods.html#cb434-342" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........    0.83462            0.78652 </span></span>
<span id="cb434-343"><a href="matching-methods.html#cb434-343" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........    -27.751            0.54991 </span></span>
<span id="cb434-344"><a href="matching-methods.html#cb434-344" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-345"><a href="matching-methods.html#cb434-345" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....    0.12432           0.001675 </span></span>
<span id="cb434-346"><a href="matching-methods.html#cb434-346" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-347"><a href="matching-methods.html#cb434-347" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....          1                  1 </span></span>
<span id="cb434-348"><a href="matching-methods.html#cb434-348" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-349"><a href="matching-methods.html#cb434-349" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.063254         0.00083752 </span></span>
<span id="cb434-350"><a href="matching-methods.html#cb434-350" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........   0.063254         0.00083752 </span></span>
<span id="cb434-351"><a href="matching-methods.html#cb434-351" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........    0.12651           0.001675 </span></span>
<span id="cb434-352"><a href="matching-methods.html#cb434-352" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-353"><a href="matching-methods.html#cb434-353" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....     1.4998             0.9923 </span></span>
<span id="cb434-354"><a href="matching-methods.html#cb434-354" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........  0.0020368            0.73901 </span></span>
<span id="cb434-355"><a href="matching-methods.html#cb434-355" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-356"><a href="matching-methods.html#cb434-356" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-357"><a href="matching-methods.html#cb434-357" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V7) u74 *****</span></span>
<span id="cb434-358"><a href="matching-methods.html#cb434-358" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-359"><a href="matching-methods.html#cb434-359" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........    0.70811            0.73258 </span></span>
<span id="cb434-360"><a href="matching-methods.html#cb434-360" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........       0.75            0.73034 </span></span>
<span id="cb434-361"><a href="matching-methods.html#cb434-361" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........    -9.1895            0.50714 </span></span>
<span id="cb434-362"><a href="matching-methods.html#cb434-362" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-363"><a href="matching-methods.html#cb434-363" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....   0.037838           0.001675 </span></span>
<span id="cb434-364"><a href="matching-methods.html#cb434-364" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-365"><a href="matching-methods.html#cb434-365" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....          1                  1 </span></span>
<span id="cb434-366"><a href="matching-methods.html#cb434-366" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-367"><a href="matching-methods.html#cb434-367" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.020946         0.00083752 </span></span>
<span id="cb434-368"><a href="matching-methods.html#cb434-368" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........   0.020946         0.00083752 </span></span>
<span id="cb434-369"><a href="matching-methods.html#cb434-369" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........   0.041892           0.001675 </span></span>
<span id="cb434-370"><a href="matching-methods.html#cb434-370" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-371"><a href="matching-methods.html#cb434-371" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....     1.1041            0.99472 </span></span>
<span id="cb434-372"><a href="matching-methods.html#cb434-372" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........    0.33033            0.31731 </span></span>
<span id="cb434-373"><a href="matching-methods.html#cb434-373" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-374"><a href="matching-methods.html#cb434-374" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-375"><a href="matching-methods.html#cb434-375" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V8) u75 *****</span></span>
<span id="cb434-376"><a href="matching-methods.html#cb434-376" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-377"><a href="matching-methods.html#cb434-377" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........        0.6            0.64494 </span></span>
<span id="cb434-378"><a href="matching-methods.html#cb434-378" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........    0.68462            0.65169 </span></span>
<span id="cb434-379"><a href="matching-methods.html#cb434-379" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........    -17.225            -1.4072 </span></span>
<span id="cb434-380"><a href="matching-methods.html#cb434-380" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-381"><a href="matching-methods.html#cb434-381" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....   0.081081          0.0050251 </span></span>
<span id="cb434-382"><a href="matching-methods.html#cb434-382" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-383"><a href="matching-methods.html#cb434-383" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....          1                  1 </span></span>
<span id="cb434-384"><a href="matching-methods.html#cb434-384" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-385"><a href="matching-methods.html#cb434-385" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.042308          0.0025126 </span></span>
<span id="cb434-386"><a href="matching-methods.html#cb434-386" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........   0.042308          0.0025126 </span></span>
<span id="cb434-387"><a href="matching-methods.html#cb434-387" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........   0.084615          0.0050251 </span></span>
<span id="cb434-388"><a href="matching-methods.html#cb434-388" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-389"><a href="matching-methods.html#cb434-389" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....     1.1133             1.0088 </span></span>
<span id="cb434-390"><a href="matching-methods.html#cb434-390" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........   0.068031            0.17952 </span></span>
<span id="cb434-391"><a href="matching-methods.html#cb434-391" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-392"><a href="matching-methods.html#cb434-392" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-393"><a href="matching-methods.html#cb434-393" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V9) re75 *****</span></span>
<span id="cb434-394"><a href="matching-methods.html#cb434-394" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-395"><a href="matching-methods.html#cb434-395" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........     1532.1             1300.3 </span></span>
<span id="cb434-396"><a href="matching-methods.html#cb434-396" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........     1266.9             1317.3 </span></span>
<span id="cb434-397"><a href="matching-methods.html#cb434-397" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........     8.2363            -0.5676 </span></span>
<span id="cb434-398"><a href="matching-methods.html#cb434-398" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-399"><a href="matching-methods.html#cb434-399" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....     367.61             104.16 </span></span>
<span id="cb434-400"><a href="matching-methods.html#cb434-400" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-401"><a href="matching-methods.html#cb434-401" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....     2110.2             2510.6 </span></span>
<span id="cb434-402"><a href="matching-methods.html#cb434-402" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-403"><a href="matching-methods.html#cb434-403" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.050834          0.0080924 </span></span>
<span id="cb434-404"><a href="matching-methods.html#cb434-404" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........   0.061954          0.0067002 </span></span>
<span id="cb434-405"><a href="matching-methods.html#cb434-405" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........    0.10748           0.021776 </span></span>
<span id="cb434-406"><a href="matching-methods.html#cb434-406" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-407"><a href="matching-methods.html#cb434-407" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....     1.0763            0.97978 </span></span>
<span id="cb434-408"><a href="matching-methods.html#cb434-408" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........    0.38527             0.8025 </span></span>
<span id="cb434-409"><a href="matching-methods.html#cb434-409" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Bootstrap p-value..      0.044              0.824 </span></span>
<span id="cb434-410"><a href="matching-methods.html#cb434-410" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Naive p-value......    0.16449            0.99891 </span></span>
<span id="cb434-411"><a href="matching-methods.html#cb434-411" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Statistic..........    0.10748           0.021776 </span></span>
<span id="cb434-412"><a href="matching-methods.html#cb434-412" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-413"><a href="matching-methods.html#cb434-413" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-414"><a href="matching-methods.html#cb434-414" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V10) re74 *****</span></span>
<span id="cb434-415"><a href="matching-methods.html#cb434-415" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-416"><a href="matching-methods.html#cb434-416" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........     2095.6             2019.8 </span></span>
<span id="cb434-417"><a href="matching-methods.html#cb434-417" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........       2107             2106.4 </span></span>
<span id="cb434-418"><a href="matching-methods.html#cb434-418" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........   -0.23437             -1.768 </span></span>
<span id="cb434-419"><a href="matching-methods.html#cb434-419" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-420"><a href="matching-methods.html#cb434-420" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....     487.98             243.25 </span></span>
<span id="cb434-421"><a href="matching-methods.html#cb434-421" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-422"><a href="matching-methods.html#cb434-422" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....       8413             7870.3 </span></span>
<span id="cb434-423"><a href="matching-methods.html#cb434-423" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-424"><a href="matching-methods.html#cb434-424" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.019223          0.0083159 </span></span>
<span id="cb434-425"><a href="matching-methods.html#cb434-425" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........     0.0158          0.0067002 </span></span>
<span id="cb434-426"><a href="matching-methods.html#cb434-426" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........   0.047089           0.025126 </span></span>
<span id="cb434-427"><a href="matching-methods.html#cb434-427" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-428"><a href="matching-methods.html#cb434-428" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....     0.7381            0.85755 </span></span>
<span id="cb434-429"><a href="matching-methods.html#cb434-429" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........    0.98186            0.39373 </span></span>
<span id="cb434-430"><a href="matching-methods.html#cb434-430" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Bootstrap p-value..      0.556              0.596 </span></span>
<span id="cb434-431"><a href="matching-methods.html#cb434-431" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Naive p-value......    0.97023            0.99172 </span></span>
<span id="cb434-432"><a href="matching-methods.html#cb434-432" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Statistic..........   0.047089           0.025126 </span></span>
<span id="cb434-433"><a href="matching-methods.html#cb434-433" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-434"><a href="matching-methods.html#cb434-434" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-435"><a href="matching-methods.html#cb434-435" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***** (V11) I(re74 * re75) *****</span></span>
<span id="cb434-436"><a href="matching-methods.html#cb434-436" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Before Matching        After Matching</span></span>
<span id="cb434-437"><a href="matching-methods.html#cb434-437" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean treatment........   13118591           12261673 </span></span>
<span id="cb434-438"><a href="matching-methods.html#cb434-438" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean control..........   14530303           14240665 </span></span>
<span id="cb434-439"><a href="matching-methods.html#cb434-439" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; std mean diff.........    -2.7799            -4.2761 </span></span>
<span id="cb434-440"><a href="matching-methods.html#cb434-440" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-441"><a href="matching-methods.html#cb434-441" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean raw eQQ diff.....    3278733            2602379 </span></span>
<span id="cb434-442"><a href="matching-methods.html#cb434-442" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  raw eQQ diff.....          0                  0 </span></span>
<span id="cb434-443"><a href="matching-methods.html#cb434-443" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  raw eQQ diff.....  188160151          223801517 </span></span>
<span id="cb434-444"><a href="matching-methods.html#cb434-444" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-445"><a href="matching-methods.html#cb434-445" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mean eCDF diff........   0.022723          0.0043797 </span></span>
<span id="cb434-446"><a href="matching-methods.html#cb434-446" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; med  eCDF diff........   0.014449          0.0033501 </span></span>
<span id="cb434-447"><a href="matching-methods.html#cb434-447" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; max  eCDF diff........   0.061019           0.011725 </span></span>
<span id="cb434-448"><a href="matching-methods.html#cb434-448" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-449"><a href="matching-methods.html#cb434-449" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; var ratio (Tr/Co).....    0.69439            0.58474 </span></span>
<span id="cb434-450"><a href="matching-methods.html#cb434-450" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; T-test p-value........    0.79058            0.17475 </span></span>
<span id="cb434-451"><a href="matching-methods.html#cb434-451" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Bootstrap p-value..      0.266              0.994 </span></span>
<span id="cb434-452"><a href="matching-methods.html#cb434-452" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Naive p-value......    0.81575                  1 </span></span>
<span id="cb434-453"><a href="matching-methods.html#cb434-453" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; KS Statistic..........   0.061019           0.011725 </span></span>
<span id="cb434-454"><a href="matching-methods.html#cb434-454" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-455"><a href="matching-methods.html#cb434-455" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-456"><a href="matching-methods.html#cb434-456" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Before Matching Minimum p.value: 0.0020368 </span></span>
<span id="cb434-457"><a href="matching-methods.html#cb434-457" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Variable Name(s): nodegr  Number(s): 6 </span></span>
<span id="cb434-458"><a href="matching-methods.html#cb434-458" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb434-459"><a href="matching-methods.html#cb434-459" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; After Matching Minimum p.value: 0.17475 </span></span>
<span id="cb434-460"><a href="matching-methods.html#cb434-460" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Variable Name(s): I(re74 * re75)  Number(s): 11</span></span></code></pre></div>
</div>
<div id="matching-for-time-series-cross-section-data" class="section level3" number="21.6.7">
<h3><span class="header-section-number">21.6.7</span> Matching for time series-cross-section data</h3>
<p>Examples: <span class="citation">(<a href="#ref-SCHEVE_2012" role="doc-biblioref">SCHEVE and STASAVAGE 2012</a>)</span> and <span class="citation">(<a href="#ref-Acemoglu_2014" role="doc-biblioref">Acemoglu et al. 2014</a>)</span></p>
<p>Materials from Imai et al.’s <a href="https://imai.fas.harvard.edu/talk/files/polmeth18.pdf">slides</a></p>
<p>Identification strategy:</p>
<ul>
<li><p>Within-unit over-time variation</p></li>
<li><p>within-time across-units variation</p></li>
</ul>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Acemoglu_2014" class="csl-entry">
Acemoglu, Daron, Suresh Naidu, Pascual Restrepo, and James A. Robinson. 2014. <span>“Democracy Does Cause Growth.”</span> <em><span>SSRN</span> Electronic Journal</em>. <a href="https://doi.org/10.2139/ssrn.2411791">https://doi.org/10.2139/ssrn.2411791</a>.
</div>
<div id="ref-Austin_2011" class="csl-entry">
Austin, Peter C. 2011. <span>“An Introduction to Propensity Score Methods for Reducing the Effects of Confounding in Observational Studies.”</span> <em>Multivariate Behavioral Research</em> 46 (3): 399–424. <a href="https://doi.org/10.1080/00273171.2011.568786">https://doi.org/10.1080/00273171.2011.568786</a>.
</div>
<div id="ref-Diamond_2013" class="csl-entry">
Diamond, Alexis, and Jasjeet S. Sekhon. 2013. <span>“Genetic Matching for Estimating Causal Effects: A General Multivariate Matching Method for Achieving Balance in Observational Studies.”</span> <em>Review of Economics and Statistics</em> 95 (3): 932–45. <a href="https://doi.org/10.1162/rest_a_00318">https://doi.org/10.1162/rest_a_00318</a>.
</div>
<div id="ref-Hansen_2008" class="csl-entry">
Hansen, B. B. 2008. <span>“The Prognostic Analogue of the Propensity Score.”</span> <em>Biometrika</em> 95 (2): 481–88. <a href="https://doi.org/10.1093/biomet/asn004">https://doi.org/10.1093/biomet/asn004</a>.
</div>
<div id="ref-Heller_2009" class="csl-entry">
Heller, Ruth, Paul R. Rosenbaum, and Dylan S. Small. 2009. <span>“Split Samples and Design Sensitivity in Observational Studies.”</span> <em>Journal of the American Statistical Association</em> 104 (487): 1090–1101. <a href="https://doi.org/10.1198/jasa.2009.tm08338">https://doi.org/10.1198/jasa.2009.tm08338</a>.
</div>
<div id="ref-Iacus_2012" class="csl-entry">
Iacus, Stefano M., Gary King, and Giuseppe Porro. 2012. <span>“Causal Inference Without Balance Checking: Coarsened Exact Matching.”</span> <em>Political Analysis</em> 20 (1): 1–24. <a href="https://doi.org/10.1093/pan/mpr013">https://doi.org/10.1093/pan/mpr013</a>.
</div>
<div id="ref-King_2016" class="csl-entry">
King, Gary, Christopher Lucas, and Richard A. Nielsen. 2016. <span>“The Balance-Sample Size Frontier in Matching Methods for Causal Inference.”</span> <em>American Journal of Political Science</em> 61 (2): 473–89. <a href="https://doi.org/10.1111/ajps.12272">https://doi.org/10.1111/ajps.12272</a>.
</div>
<div id="ref-King_2019" class="csl-entry">
King, Gary, and Richard Nielsen. 2019. <span>“Why Propensity Scores Should Not Be Used for Matching.”</span> <em>Political Analysis</em> 27 (4): 435–54. <a href="https://doi.org/10.1017/pan.2019.11">https://doi.org/10.1017/pan.2019.11</a>.
</div>
<div id="ref-Li_2001" class="csl-entry">
Li, Yunfei Paul, Kathleen J Propert, and Paul R Rosenbaum. 2001. <span>“Balanced Risk Set Matching.”</span> <em>Journal of the American Statistical Association</em> 96 (455): 870–82. <a href="https://doi.org/10.1198/016214501753208573">https://doi.org/10.1198/016214501753208573</a>.
</div>
<div id="ref-Qu_2009" class="csl-entry">
Qu, Yongming, and Ilya Lipkovich. 2009. <span>“Propensity Score Estimation with Missing Values Using a Multiple Imputation Missingness Pattern (<span>MIMP</span>) Approach.”</span> <em>Statistics in Medicine</em> 28 (9): 1402–14. <a href="https://doi.org/10.1002/sim.3549">https://doi.org/10.1002/sim.3549</a>.
</div>
<div id="ref-Robins_2000" class="csl-entry">
Robins, James M., Miguel Ángel Hernán, and Babette Brumback. 2000. <span>“Marginal Structural Models and Causal Inference in Epidemiology.”</span> <em>Epidemiology</em> 11 (5): 550–60. <a href="https://doi.org/10.1097/00001648-200009000-00011">https://doi.org/10.1097/00001648-200009000-00011</a>.
</div>
<div id="ref-Rosenbaum_1985" class="csl-entry">
Rosenbaum, Paul R., and Donald B. Rubin. 1985. <span>“Constructing a Control Group Using Multivariate Matched Sampling Methods That Incorporate the Propensity Score.”</span> <em>The American Statistician</em> 39 (1): 33. <a href="https://doi.org/10.2307/2683903">https://doi.org/10.2307/2683903</a>.
</div>
<div id="ref-Rubin_2001" class="csl-entry">
———. 2001. <span>“Using Propensity Scores to Help Design Observational Studies: Application to the Tobacco Litigation.”</span> <em>Health Services and Outcomes Research Methodology</em> 2: 169–88.
</div>
<div id="ref-Rubin_2000" class="csl-entry">
Rubin, Donald B., and Neal Thomas. 2000. <span>“Combining Propensity Score Matching with Additional Adjustments for Prognostic Covariates.”</span> <em>Journal of the American Statistical Association</em> 95 (450): 573–85. <a href="https://doi.org/10.1080/01621459.2000.10474233">https://doi.org/10.1080/01621459.2000.10474233</a>.
</div>
<div id="ref-SCHEVE_2012" class="csl-entry">
SCHEVE, KENNETH, and DAVID STASAVAGE. 2012. <span>“Democracy, War, and Wealth: Lessons from Two Centuries of Inheritance Taxation.”</span> <em>American Political Science Review</em> 106 (1): 81–102. <a href="https://doi.org/10.1017/s0003055411000517">https://doi.org/10.1017/s0003055411000517</a>.
</div>
<div id="ref-Stuart_2010" class="csl-entry">
Stuart, Elizabeth A. 2010. <span>“Matching Methods for Causal Inference: A Review and a Look Forward.”</span> <em>Statistical Science</em> 25 (1). <a href="https://doi.org/10.1214/09-sts313">https://doi.org/10.1214/09-sts313</a>.
</div>
<div id="ref-VanderWeele_2019" class="csl-entry">
VanderWeele, Tyler J. 2019. <span>“Principles of Confounder Selection.”</span> <em>European Journal of Epidemiology</em> 34 (3): 211–19. <a href="https://doi.org/10.1007/s10654-019-00494-6">https://doi.org/10.1007/s10654-019-00494-6</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="selection-on-observables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interrupted-time-series.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mikenguyen13/data_analysis/edit/main/21-quasi-experimental.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/mikenguyen13/data_analysis/blob/main/21-quasi-experimental.Rmd",
"text": null
},
"download": ["data_analysis.pdf", "data_analysis.epub", "data_analysis.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true,
"sharing": {
"facebook": true,
"github": true,
"twitter": true,
"linkedin": true
},
"info": true,
"edit": "https://github.com/mikenguyen13/data_analysis/edit/main/%s"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
