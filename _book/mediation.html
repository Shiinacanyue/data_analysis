<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 32 Mediation | A Guide on Data Analysis</title>
<meta name="author" content="Mike Nguyen">
<meta name="description" content="32.1 Traditional (Baron and Kenny 1986) is outdated because of step 1, but we could still see the original idea. 3 regressions Step 1: \(X \to Y\) Step 2: \(X \to M\) Step 3: \(X + M \to Y\) where...">
<meta name="generator" content="bookdown 0.35 with bs4_book()">
<meta property="og:title" content="Chapter 32 Mediation | A Guide on Data Analysis">
<meta property="og:type" content="book">
<meta property="og:url" content="https://bookdown.org/mike/data_analysis/mediation.html">
<meta property="og:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg">
<meta property="og:description" content="32.1 Traditional (Baron and Kenny 1986) is outdated because of step 1, but we could still see the original idea. 3 regressions Step 1: \(X \to Y\) Step 2: \(X \to M\) Step 3: \(X + M \to Y\) where...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 32 Mediation | A Guide on Data Analysis">
<meta name="twitter:description" content="32.1 Traditional (Baron and Kenny 1986) is outdated because of step 1, but we could still see the original idea. 3 regressions Step 1: \(X \to Y\) Step 2: \(X \to M\) Step 3: \(X + M \to Y\) where...">
<meta name="twitter:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.1/transition.js"></script><script src="libs/bs3compat-0.5.1/tabs.js"></script><script src="libs/bs3compat-0.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){window.dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-DMNX2X65HQ');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">A Guide on Data Analysis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="prerequisites.html"><span class="header-section-number">2</span> Prerequisites</a></li>
<li class="book-part">I. BASIC</li>
<li><a class="" href="descriptive-stat.html"><span class="header-section-number">3</span> Descriptive Statistics</a></li>
<li><a class="" href="basic-statistical-inference.html"><span class="header-section-number">4</span> Basic Statistical Inference</a></li>
<li class="book-part">II. REGRESSION</li>
<li><a class="" href="linear-regression.html"><span class="header-section-number">5</span> Linear Regression</a></li>
<li><a class="" href="non-linear-regression.html"><span class="header-section-number">6</span> Non-linear Regression</a></li>
<li><a class="" href="generalized-linear-models.html"><span class="header-section-number">7</span> Generalized Linear Models</a></li>
<li><a class="" href="linear-mixed-models.html"><span class="header-section-number">8</span> Linear Mixed Models</a></li>
<li><a class="" href="nonlinear-and-generalized-linear-mixed-models.html"><span class="header-section-number">9</span> Nonlinear and Generalized Linear Mixed Models</a></li>
<li class="book-part">III. RAMIFICATIONS</li>
<li><a class="" href="model-specification.html"><span class="header-section-number">10</span> Model Specification</a></li>
<li><a class="" href="imputation-missing-data.html"><span class="header-section-number">11</span> Imputation (Missing Data)</a></li>
<li><a class="" href="data.html"><span class="header-section-number">12</span> Data</a></li>
<li><a class="" href="variable-transformation.html"><span class="header-section-number">13</span> Variable Transformation</a></li>
<li><a class="" href="hypothesis-testing.html"><span class="header-section-number">14</span> Hypothesis Testing</a></li>
<li><a class="" href="marginal-effects.html"><span class="header-section-number">15</span> Marginal Effects</a></li>
<li><a class="" href="prediction-and-estimation.html"><span class="header-section-number">16</span> Prediction and Estimation</a></li>
<li><a class="" href="moderation.html"><span class="header-section-number">17</span> Moderation</a></li>
<li class="book-part">IV. CAUSAL INFERENCE</li>
<li><a class="" href="causal-inference.html"><span class="header-section-number">18</span> Causal Inference</a></li>
<li class="book-part">A. EXPERIMENTAL DESIGN</li>
<li><a class="" href="experimental-design.html"><span class="header-section-number">19</span> Experimental Design</a></li>
<li><a class="" href="sampling.html"><span class="header-section-number">20</span> Sampling</a></li>
<li><a class="" href="analysis-of-variance-anova.html"><span class="header-section-number">21</span> Analysis of Variance (ANOVA)</a></li>
<li><a class="" href="multivariate-methods.html"><span class="header-section-number">22</span> Multivariate Methods</a></li>
<li class="book-part">B. QUASI-EXPERIMENTAL DESIGN</li>
<li><a class="" href="quasi-experimental.html"><span class="header-section-number">23</span> Quasi-experimental</a></li>
<li><a class="" href="regression-discontinuity.html"><span class="header-section-number">24</span> Regression Discontinuity</a></li>
<li><a class="" href="difference-in-differences.html"><span class="header-section-number">25</span> Difference-in-differences</a></li>
<li><a class="" href="synthetic-control.html"><span class="header-section-number">26</span> Synthetic Control</a></li>
<li><a class="" href="event-studies.html"><span class="header-section-number">27</span> Event Studies</a></li>
<li><a class="" href="matching-methods.html"><span class="header-section-number">28</span> Matching Methods</a></li>
<li><a class="" href="interrupted-time-series.html"><span class="header-section-number">29</span> Interrupted Time Series</a></li>
<li class="book-part">C. OTHER CONCERNS</li>
<li><a class="" href="endogeneity.html"><span class="header-section-number">30</span> Endogeneity</a></li>
<li><a class="" href="controls.html"><span class="header-section-number">31</span> Controls</a></li>
<li class="book-part">V. MISCELLANEOUS</li>
<li><a class="active" href="mediation.html"><span class="header-section-number">32</span> Mediation</a></li>
<li><a class="" href="directed-acyclic-graph.html"><span class="header-section-number">33</span> Directed Acyclic Graph</a></li>
<li><a class="" href="report.html"><span class="header-section-number">34</span> Report</a></li>
<li><a class="" href="exploratory-data-analysis.html"><span class="header-section-number">35</span> Exploratory Data Analysis</a></li>
<li><a class="" href="sensitivity-analysis-robustness-check.html"><span class="header-section-number">36</span> Sensitivity Analysis/ Robustness Check</a></li>
<li class="book-part">APPENDIX</li>
<li><a class="" href="appendix.html"><span class="header-section-number">A</span> Appendix</a></li>
<li><a class="" href="bookdown-cheat-sheet.html"><span class="header-section-number">B</span> Bookdown cheat sheet</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/mikenguyen13/data_analysis">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="mediation" class="section level1" number="32">
<h1>
<span class="header-section-number">32</span> Mediation<a class="anchor" aria-label="anchor" href="#mediation"><i class="fas fa-link"></i></a>
</h1>
<div id="traditional" class="section level2" number="32.1">
<h2>
<span class="header-section-number">32.1</span> Traditional<a class="anchor" aria-label="anchor" href="#traditional"><i class="fas fa-link"></i></a>
</h2>
<p><span class="citation">(<a href="references.html#ref-baron1986moderator">Baron and Kenny 1986</a>)</span> is outdated because of step 1, but we could still see the original idea.</p>
<p>3 regressions</p>
<ul>
<li><p>Step 1: <span class="math inline">\(X \to Y\)</span></p></li>
<li><p>Step 2: <span class="math inline">\(X \to M\)</span></p></li>
<li><p>Step 3: <span class="math inline">\(X + M \to Y\)</span></p></li>
</ul>
<p>where</p>
<ul>
<li><p><span class="math inline">\(X\)</span> = independent variable</p></li>
<li><p><span class="math inline">\(Y\)</span> = dependent variable</p></li>
<li><p><span class="math inline">\(M\)</span> = mediating variable</p></li>
</ul>
<ol style="list-style-type: decimal">
<li>Originally, the first path from <span class="math inline">\(X \to Y\)</span> suggested by <span class="citation">(<a href="references.html#ref-baron1986moderator">Baron and Kenny 1986</a>)</span> needs to be significant. But there are cases that you could have indirect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> without significant direct effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> (e.g., when the effect is absorbed into M, or there are two counteracting effects <span class="math inline">\(M_1, M_2\)</span> that cancel out each other effect).</li>
</ol>
<p>Mathematically,</p>
<p><span class="math display">\[
Y = b_0 + b_1 X + \epsilon
\]</span></p>
<p><span class="math inline">\(b_1\)</span> does <strong>not</strong> need to be <strong>significant</strong>.</p>
<ol start="2" style="list-style-type: decimal">
<li>We examine the effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(M\)</span>. This step requires that there is a significant effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(M\)</span> to continue with the analysis</li>
</ol>
<p>Mathematically,</p>
<p><span class="math display">\[
M = b_0 + b_2 X + \epsilon
\]</span></p>
<p>where <span class="math inline">\(b_2\)</span> needs to be <strong>significant</strong>.</p>
<ol start="3" style="list-style-type: decimal">
<li>In this step, we want to the effect of <span class="math inline">\(M\)</span> on <span class="math inline">\(Y\)</span> “absorbs” most of the direct effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> (or at least makes the effect smaller).</li>
</ol>
<p>Mathematically,</p>
<p><span class="math display">\[
Y = b_0 + b_4 X + b_3 M + \epsilon
\]</span></p>
<p><span class="math inline">\(b_4\)</span> needs to be either smaller or insignificant.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="54%">
<col width="45%">
</colgroup>
<thead><tr class="header">
<th>The effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span>
</th>
<th>then, <span class="math inline">\(M\)</span> … mediates between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>completely disappear (<span class="math inline">\(b_4\)</span> insignificant)</td>
<td>Fully (i.e., full mediation)</td>
</tr>
<tr class="even">
<td>partially disappear (<span class="math inline">\(b_4\)</span> smaller than in step 1)</td>
<td>Partially (i.e., partial mediation)</td>
</tr>
</tbody>
</table></div>
<ol start="4" style="list-style-type: decimal">
<li>Examine the mediation effect (i.e., whether it is significant)</li>
</ol>
<ul>
<li><p>Fist approach: Sobel’s test <span class="citation">(<a href="references.html#ref-sobel1982asymptotic">Sobel 1982</a>)</span></p></li>
<li><p>Second approach: bootstrapping <span class="citation">(<a href="references.html#ref-preacher2004spss">Preacher and Hayes 2004</a>)</span> (preferable)</p></li>
</ul>
<p>More details can be found <a href="https://cran.ism.ac.jp/web/packages/mediation/vignettes/mediation-old.pdf">here</a></p>
<div id="example-1-mediation-traditional" class="section level3" number="32.1.1">
<h3>
<span class="header-section-number">32.1.1</span> Example 1<a class="anchor" aria-label="anchor" href="#example-1-mediation-traditional"><i class="fas fa-link"></i></a>
</h3>
<p>from <a href="https://data.library.virginia.edu/introduction-to-mediation-analysis/">Virginia’s library</a></p>
<div class="sourceCode" id="cb578"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myData</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">'http://static.lib.virginia.edu/statlab/materials/data/mediationData.csv'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 1 (no longer necessary)</span></span>
<span><span class="va">model.0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">X</span>, <span class="va">myData</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 2</span></span>
<span><span class="va">model.M</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">M</span> <span class="op">~</span> <span class="va">X</span>, <span class="va">myData</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 3</span></span>
<span><span class="va">model.Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">X</span> <span class="op">+</span> <span class="va">M</span>, <span class="va">myData</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 4 (boostrapping)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://imai.princeton.edu/projects/mechanisms.html">mediation</a></span><span class="op">)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mediation/man/mediate.html">mediate</a></span><span class="op">(</span></span>
<span>    <span class="va">model.M</span>,</span>
<span>    <span class="va">model.Y</span>,</span>
<span>    treat <span class="op">=</span> <span class="st">'X'</span>,</span>
<span>    mediator <span class="op">=</span> <span class="st">'M'</span>,</span>
<span>    boot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    sims <span class="op">=</span> <span class="fl">500</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Causal Mediation Analysis </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Nonparametric Bootstrap Confidence Intervals with the Percentile Method</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                Estimate 95% CI Lower 95% CI Upper p-value    </span></span>
<span><span class="co">#&gt; ACME             0.3565       0.2020         0.52  &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ADE              0.0396      -0.1839         0.29     0.7    </span></span>
<span><span class="co">#&gt; Total Effect     0.3961       0.1709         0.66  &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; Prop. Mediated   0.9000       0.5063         1.95  &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sample Size Used: 100 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simulations: 500</span></span></code></pre></div>
<ul>
<li><p>Total Effect = 0.3961 = <span class="math inline">\(b_1\)</span> (step 1) = total effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> without <span class="math inline">\(M\)</span></p></li>
<li><p>Direct Effect = ADE = 0.0396 = <span class="math inline">\(b_4\)</span> (step 3) = direct effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> accounting for the indirect effect of <span class="math inline">\(M\)</span></p></li>
<li><p>ACME = Average Causal Mediation Effects = <span class="math inline">\(b_1 - b_4\)</span> = 0.3961 - 0.0396 = 0.3565 = <span class="math inline">\(b_2 \times b_3\)</span> = 0.56102 * 0.6355 = 0.3565</p></li>
</ul>
<p>Using <code>mediation</code> package suggested by <span class="citation">(<a href="references.html#ref-imai2010general">Imai, Keele, and Tingley 2010</a>)</span> <span class="citation">(<a href="references.html#ref-imai2010identification">Imai, Keele, and Yamamoto 2010</a>)</span>. More on details of the package can be found <a href="https://cran.r-project.org/web/packages/mediation/vignettes/mediation.pdf">here</a></p>
<p>2 types of Inference in this package:</p>
<ol style="list-style-type: decimal">
<li>
<p>Model-based inference:</p>
<ul>
<li>
<p>Assumptions:</p>
<ul>
<li><p>Treatment is randomized (could use matching methods to achieve this).</p></li>
<li><p>Sequential Ignorability: conditional on covariates, there is other confounders that affect the relationship between (1) treatment-mediator, (2) treatment-outcome, (3) mediator-outcome. Typically hard to argue in observational data. This assumption is for the identification of ACME (i.e., average causal mediation effects).</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Design-based inference</p></li>
</ol>
<p>Notations: we stay consistent with package instruction</p>
<ul>
<li><p><span class="math inline">\(M_i(t)\)</span> = mediator</p></li>
<li><p><span class="math inline">\(T_i\)</span> = treatment status <span class="math inline">\((0,1)\)</span></p></li>
<li><p><span class="math inline">\(Y_i(t,m)\)</span> = outcome where <span class="math inline">\(t\)</span> = treatment, and <span class="math inline">\(m\)</span> = mediating variables.</p></li>
<li><p><span class="math inline">\(X_i\)</span> = vector of observed pre-treatment confounders</p></li>
<li>
<p>Treatment effect (per unit <span class="math inline">\(i\)</span>) = <span class="math inline">\(\tau_i = Y_i(1,M_i(1)) - Y_i (0,M_i(0))\)</span> which has 2 effects</p>
<ul>
<li><p>Causal mediation effects: <span class="math inline">\(\delta_i (t) \equiv Y_i (t,M_i(1)) - Y_i(t,M_i(0))\)</span></p></li>
<li><p>Direct effects: <span class="math inline">\(\zeta (t) \equiv Y_i (1, M_i(1)) - Y_i(0, M_i(0))\)</span></p></li>
<li><p>summing up to the treatment effect: <span class="math inline">\(\tau_i = \delta_i (t) + \zeta_i (1-t)\)</span></p></li>
</ul>
</li>
</ul>
<p>More on sequential ignorability</p>
<p><span class="math display">\[
\{ Y_i (t', m) , M_i (t) \} \perp T_i |X_i = x
\]</span></p>
<p><span class="math display">\[
Y_i(t',m) \perp M_i(t) | T_i = t, X_i = x
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(0 &lt; P(T_i = t | X_i = x)\)</span></p></li>
<li><p><span class="math inline">\(0 &lt; P(M_i = m | T_i = t , X_i =x)\)</span></p></li>
</ul>
<p>First condition is the standard strong ignorability condition where treatment assignment is random conditional on pre-treatment confounders.</p>
<p>Second condition is stronger where the mediators is also random given the observed treatment and pre-treatment confounders. This condition is satisfied only when there is no unobserved pre-treatment confounders, and post-treatment confounders, and multiple mediators that are correlated.</p>
<p>My understanding is that until the moment I write this note, there is <strong>no way to test the sequential ignorability assumption</strong>. Hence, researchers can only do sensitivity analysis to argue for their result.</p>
</div>
</div>
<div id="model-based-causal-mediation-analysis" class="section level2" number="32.2">
<h2>
<span class="header-section-number">32.2</span> Model-based causal mediation analysis<a class="anchor" aria-label="anchor" href="#model-based-causal-mediation-analysis"><i class="fas fa-link"></i></a>
</h2>
<p>I only put my understanding of model-based causal mediation analysis because I do not encounter design-based. Maybe in the future when I have to use it, I will start reading on it.</p>
<p>Fit 2 models</p>
<ul>
<li><p>mediator model: conditional distribution of the mediators <span class="math inline">\(M_i | T_i, X_i\)</span></p></li>
<li><p>Outcome model: conditional distribution of <span class="math inline">\(Y_i | T_i, M_i, X_i\)</span></p></li>
</ul>
<p><code>mediation</code> can accommodate almost all types of model for both mediator model and outcome model except Censored mediator model.</p>
<p>The update here is that estimation of ACME does not rely on product or difference of coefficients (see <a href="mediation.html#example-1-mediation-traditional">32.1.1</a> ,</p>
<p>which requires very strict assumption: (1) linear regression models of mediator and outcome, (2) <span class="math inline">\(T_i\)</span> and <span class="math inline">\(M_i\)</span> effects are additive and no interaction</p>
<div class="sourceCode" id="cb579"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://imai.princeton.edu/projects/mechanisms.html">mediation</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">2014</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"framing"</span>, package <span class="op">=</span> <span class="st">"mediation"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">med.fit</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">emo</span> <span class="op">~</span> <span class="va">treat</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">income</span>, data <span class="op">=</span> <span class="va">framing</span><span class="op">)</span></span>
<span><span class="va">out.fit</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span></span>
<span>        <span class="va">cong_mesg</span> <span class="op">~</span> <span class="va">emo</span> <span class="op">+</span> <span class="va">treat</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">income</span>,</span>
<span>        data <span class="op">=</span> <span class="va">framing</span>,</span>
<span>        family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span><span class="st">"probit"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co"># Quasi-Bayesian Monte Carlo </span></span>
<span><span class="va">med.out</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/mediation/man/mediate.html">mediate</a></span><span class="op">(</span></span>
<span>        <span class="va">med.fit</span>,</span>
<span>        <span class="va">out.fit</span>,</span>
<span>        treat <span class="op">=</span> <span class="st">"treat"</span>,</span>
<span>        mediator <span class="op">=</span> <span class="st">"emo"</span>,</span>
<span>        robustSE <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        sims <span class="op">=</span> <span class="fl">1000</span> <span class="co"># should be 10000 in practice</span></span>
<span>    <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">med.out</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Causal Mediation Analysis </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Quasi-Bayesian Confidence Intervals</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                          Estimate 95% CI Lower 95% CI Upper p-value    </span></span>
<span><span class="co">#&gt; ACME (control)             0.0826       0.0356         0.14  &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ACME (treated)             0.0831       0.0348         0.14  &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ADE (control)              0.0137      -0.0967         0.13    0.82    </span></span>
<span><span class="co">#&gt; ADE (treated)              0.0142      -0.1101         0.14    0.82    </span></span>
<span><span class="co">#&gt; Total Effect               0.0968      -0.0290         0.23    0.14    </span></span>
<span><span class="co">#&gt; Prop. Mediated (control)   0.7706      -6.3968         4.70    0.14    </span></span>
<span><span class="co">#&gt; Prop. Mediated (treated)   0.7938      -5.7506         4.52    0.14    </span></span>
<span><span class="co">#&gt; ACME (average)             0.0829       0.0351         0.14  &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ADE (average)              0.0140      -0.1047         0.13    0.82    </span></span>
<span><span class="co">#&gt; Prop. Mediated (average)   0.7822      -6.0737         4.61    0.14    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sample Size Used: 265 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simulations: 1000</span></span></code></pre></div>
<p>Nonparametric bootstrap version</p>
<div class="sourceCode" id="cb580"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">med.out</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/mediation/man/mediate.html">mediate</a></span><span class="op">(</span></span>
<span>        <span class="va">med.fit</span>,</span>
<span>        <span class="va">out.fit</span>,</span>
<span>        boot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        treat <span class="op">=</span> <span class="st">"treat"</span>,</span>
<span>        mediator <span class="op">=</span> <span class="st">"emo"</span>,</span>
<span>        sims <span class="op">=</span> <span class="fl">1000</span>, <span class="co"># should be 10000 in practice</span></span>
<span>        boot.ci.type <span class="op">=</span> <span class="st">"bca"</span> <span class="co"># bias-corrected and accelerated intervals</span></span>
<span>    <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">med.out</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Causal Mediation Analysis </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Nonparametric Bootstrap Confidence Intervals with the BCa Method</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                          Estimate 95% CI Lower 95% CI Upper p-value   </span></span>
<span><span class="co">#&gt; ACME (control)             0.0833       0.0386         0.15   0.002 **</span></span>
<span><span class="co">#&gt; ACME (treated)             0.0844       0.0374         0.15   0.002 **</span></span>
<span><span class="co">#&gt; ADE (control)              0.0114      -0.0875         0.13   0.792   </span></span>
<span><span class="co">#&gt; ADE (treated)              0.0125      -0.1033         0.14   0.792   </span></span>
<span><span class="co">#&gt; Total Effect               0.0958      -0.0291         0.23   0.124   </span></span>
<span><span class="co">#&gt; Prop. Mediated (control)   0.8696     -97.4552         1.00   0.126   </span></span>
<span><span class="co">#&gt; Prop. Mediated (treated)   0.8806     -82.9081         1.02   0.126   </span></span>
<span><span class="co">#&gt; ACME (average)             0.0839       0.0381         0.15   0.002 **</span></span>
<span><span class="co">#&gt; ADE (average)              0.0120      -0.0961         0.14   0.792   </span></span>
<span><span class="co">#&gt; Prop. Mediated (average)   0.8751     -90.6217         1.01   0.126   </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sample Size Used: 265 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simulations: 1000</span></span></code></pre></div>
<p>If theoretically understanding suggests that there is treatment and mediator interaction</p>
<div class="sourceCode" id="cb581"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">med.fit</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">emo</span> <span class="op">~</span> <span class="va">treat</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">income</span>, data <span class="op">=</span> <span class="va">framing</span><span class="op">)</span></span>
<span><span class="va">out.fit</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span></span>
<span>        <span class="va">cong_mesg</span> <span class="op">~</span> <span class="va">emo</span> <span class="op">*</span> <span class="va">treat</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">income</span>,</span>
<span>        data <span class="op">=</span> <span class="va">framing</span>,</span>
<span>        family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span><span class="st">"probit"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="va">med.out</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/mediation/man/mediate.html">mediate</a></span><span class="op">(</span></span>
<span>        <span class="va">med.fit</span>,</span>
<span>        <span class="va">out.fit</span>,</span>
<span>        treat <span class="op">=</span> <span class="st">"treat"</span>,</span>
<span>        mediator <span class="op">=</span> <span class="st">"emo"</span>,</span>
<span>        robustSE <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        sims <span class="op">=</span> <span class="fl">100</span></span>
<span>    <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">med.out</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Causal Mediation Analysis </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Quasi-Bayesian Confidence Intervals</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                           Estimate 95% CI Lower 95% CI Upper p-value    </span></span>
<span><span class="co">#&gt; ACME (control)            0.079925     0.035230         0.14  &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ACME (treated)            0.097504     0.045279         0.17  &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ADE (control)            -0.000865    -0.107228         0.11    0.98    </span></span>
<span><span class="co">#&gt; ADE (treated)             0.016714    -0.121163         0.14    0.76    </span></span>
<span><span class="co">#&gt; Total Effect              0.096640    -0.046523         0.23    0.26    </span></span>
<span><span class="co">#&gt; Prop. Mediated (control)  0.672278    -5.266859         3.40    0.26    </span></span>
<span><span class="co">#&gt; Prop. Mediated (treated)  0.860650    -6.754965         3.60    0.26    </span></span>
<span><span class="co">#&gt; ACME (average)            0.088715     0.040207         0.15  &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ADE (average)             0.007925    -0.111833         0.14    0.88    </span></span>
<span><span class="co">#&gt; Prop. Mediated (average)  0.766464    -5.848496         3.43    0.26    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sample Size Used: 265 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simulations: 100</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/mediation/man/test.TMint.html">test.TMint</a></span><span class="op">(</span><span class="va">med.out</span>, conf.level <span class="op">=</span> <span class="fl">.95</span><span class="op">)</span> <span class="co"># test treatment-mediator interaction effect </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Test of ACME(1) - ACME(0) = 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  estimates from med.out</span></span>
<span><span class="co">#&gt; ACME(1) - ACME(0) = 0.017579, p-value = 0.44</span></span>
<span><span class="co">#&gt; alternative hypothesis: true ACME(1) - ACME(0) is not equal to 0</span></span>
<span><span class="co">#&gt; 95 percent confidence interval:</span></span>
<span><span class="co">#&gt;  -0.02676143  0.06257828</span></span></code></pre></div>
<div class="sourceCode" id="cb582"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">med.out</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="32-mediation_files/figure-html/unnamed-chunk-5-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><code>mediation</code> can be used in conjunction with any of your imputation packages.</p>
<p>And it can also handle <strong>mediated moderation</strong> or <strong>non-binary treatment variables</strong>, or <strong>multi-level data</strong></p>
<p>Sensitivity Analysis for sequential ignorability</p>
<ul>
<li><p>test for unobserved pre-treatment covariates</p></li>
<li><p><span class="math inline">\(\rho\)</span> = correlation between the residuals of the mediator and outcome regressions.</p></li>
<li><p>If <span class="math inline">\(\rho\)</span> is significant, we have evidence for violation of sequential ignorability (i.e., there is unobserved pre-treatment confounders).</p></li>
</ul>
<div class="sourceCode" id="cb583"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">med.fit</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">emo</span> <span class="op">~</span> <span class="va">treat</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">income</span>, data <span class="op">=</span> <span class="va">framing</span><span class="op">)</span></span>
<span><span class="va">out.fit</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span></span>
<span>        <span class="va">cong_mesg</span> <span class="op">~</span> <span class="va">emo</span> <span class="op">+</span> <span class="va">treat</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">income</span>,</span>
<span>        data <span class="op">=</span> <span class="va">framing</span>,</span>
<span>        family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span><span class="st">"probit"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="va">med.out</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/mediation/man/mediate.html">mediate</a></span><span class="op">(</span></span>
<span>        <span class="va">med.fit</span>,</span>
<span>        <span class="va">out.fit</span>,</span>
<span>        treat <span class="op">=</span> <span class="st">"treat"</span>,</span>
<span>        mediator <span class="op">=</span> <span class="st">"emo"</span>,</span>
<span>        robustSE <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        sims <span class="op">=</span> <span class="fl">100</span></span>
<span>    <span class="op">)</span></span>
<span><span class="va">sens.out</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/mediation/man/medsens.html">medsens</a></span><span class="op">(</span><span class="va">med.out</span>,</span>
<span>            rho.by <span class="op">=</span> <span class="fl">0.1</span>, <span class="co"># \rho varies from -0.9 to 0.9 by 0.1</span></span>
<span>            effect.type <span class="op">=</span> <span class="st">"indirect"</span>, <span class="co"># sensitivity on ACME</span></span>
<span>            <span class="co"># effect.type = "direct", # sensitivity on ADE</span></span>
<span>            <span class="co"># effect.type = "both", # sensitivity on ACME and ADE</span></span>
<span>            sims <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">sens.out</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Mediation Sensitivity Analysis: Average Mediation Effect</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sensitivity Region: ACME for Control Group</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      Rho ACME(control) 95% CI Lower 95% CI Upper R^2_M*R^2_Y* R^2_M~R^2_Y~</span></span>
<span><span class="co">#&gt; [1,] 0.3        0.0061      -0.0070       0.0163         0.09       0.0493</span></span>
<span><span class="co">#&gt; [2,] 0.4       -0.0081      -0.0254       0.0043         0.16       0.0877</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Rho at which ACME for Control Group = 0: 0.3</span></span>
<span><span class="co">#&gt; R^2_M*R^2_Y* at which ACME for Control Group = 0: 0.09</span></span>
<span><span class="co">#&gt; R^2_M~R^2_Y~ at which ACME for Control Group = 0: 0.0493 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sensitivity Region: ACME for Treatment Group</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      Rho ACME(treated) 95% CI Lower 95% CI Upper R^2_M*R^2_Y* R^2_M~R^2_Y~</span></span>
<span><span class="co">#&gt; [1,] 0.3        0.0069      -0.0085       0.0197         0.09       0.0493</span></span>
<span><span class="co">#&gt; [2,] 0.4       -0.0099      -0.0304       0.0054         0.16       0.0877</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Rho at which ACME for Treatment Group = 0: 0.3</span></span>
<span><span class="co">#&gt; R^2_M*R^2_Y* at which ACME for Treatment Group = 0: 0.09</span></span>
<span><span class="co">#&gt; R^2_M~R^2_Y~ at which ACME for Treatment Group = 0: 0.0493</span></span></code></pre></div>
<div class="sourceCode" id="cb584"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">sens.out</span>, sens.par <span class="op">=</span> <span class="st">"rho"</span>, main <span class="op">=</span> <span class="st">"Anxiety"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.2</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="32-mediation_files/figure-html/unnamed-chunk-7-1.png" width="90%" style="display: block; margin: auto;"><img src="32-mediation_files/figure-html/unnamed-chunk-7-2.png" width="90%" style="display: block; margin: auto;"></p>
<p>ACME confidence intervals contains 0 when <span class="math inline">\(\rho \in (0.3,0.4)\)</span></p>
<p>Alternatively, using <span class="math inline">\(R^2\)</span> interpretation, we need to specify the direction of confounder that affects the mediator and outcome variables in <code>plot</code> using <code>sign.prod = "positive"</code> (i.e., same direction) or <code>sign.prod = "negative"</code> (i.e., opposite direction).</p>
<div class="sourceCode" id="cb585"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">sens.out</span>, sens.par <span class="op">=</span> <span class="st">"R2"</span>, r.type <span class="op">=</span> <span class="st">"total"</span>, sign.prod <span class="op">=</span> <span class="st">"positive"</span><span class="op">)</span></span></code></pre></div>
<p><img src="32-mediation_files/figure-html/unnamed-chunk-8-1.png" width="90%" style="display: block; margin: auto;"><img src="32-mediation_files/figure-html/unnamed-chunk-8-2.png" width="90%" style="display: block; margin: auto;"></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="controls.html"><span class="header-section-number">31</span> Controls</a></div>
<div class="next"><a href="directed-acyclic-graph.html"><span class="header-section-number">33</span> Directed Acyclic Graph</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#mediation"><span class="header-section-number">32</span> Mediation</a></li>
<li>
<a class="nav-link" href="#traditional"><span class="header-section-number">32.1</span> Traditional</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#example-1-mediation-traditional"><span class="header-section-number">32.1.1</span> Example 1</a></li></ul>
</li>
<li><a class="nav-link" href="#model-based-causal-mediation-analysis"><span class="header-section-number">32.2</span> Model-based causal mediation analysis</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/mikenguyen13/data_analysis/blob/main/32-mediation.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/mikenguyen13/data_analysis/edit/main/32-mediation.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>A Guide on Data Analysis</strong>" was written by Mike Nguyen. It was last built on 2023-08-21.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
