<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>21.3 Synthetic Control | A Guide on Data Analysis</title>
  <meta name="description" content="This is a guide on how to conduct data analysis in the field of data science, statistics, or machine learning." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="21.3 Synthetic Control | A Guide on Data Analysis" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/mike/data_analysis/" />
  <meta property="og:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg" />
  <meta property="og:description" content="This is a guide on how to conduct data analysis in the field of data science, statistics, or machine learning." />
  <meta name="github-repo" content="mikenguyen13/data_analysis" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="21.3 Synthetic Control | A Guide on Data Analysis" />
  
  <meta name="twitter:description" content="This is a guide on how to conduct data analysis in the field of data science, statistics, or machine learning." />
  <meta name="twitter:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg" />

<meta name="author" content="Mike Nguyen" />


<meta name="date" content="2022-04-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="logo.png" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="difference-in-differences.html"/>
<link rel="next" href="selection-on-observables.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-9.3.1/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-9.3.1/highcharts.js"></script>
<script src="libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="libs/highcharts-9.3.1/modules/map.js"></script>
<script src="libs/highcharts-9.3.1/modules/data.js"></script>
<script src="libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="libs/highchart-binding-0.9.4/highchart.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){window.dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DMNX2X65HQ');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Guide on Data Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>2</b> Prerequisites</a>
<ul>
<li class="chapter" data-level="2.1" data-path="matrix-theory.html"><a href="matrix-theory.html"><i class="fa fa-check"></i><b>2.1</b> Matrix Theory</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="matrix-theory.html"><a href="matrix-theory.html#rank"><i class="fa fa-check"></i><b>2.1.1</b> Rank</a></li>
<li class="chapter" data-level="2.1.2" data-path="matrix-theory.html"><a href="matrix-theory.html#inverse"><i class="fa fa-check"></i><b>2.1.2</b> Inverse</a></li>
<li class="chapter" data-level="2.1.3" data-path="matrix-theory.html"><a href="matrix-theory.html#definiteness"><i class="fa fa-check"></i><b>2.1.3</b> Definiteness</a></li>
<li class="chapter" data-level="2.1.4" data-path="matrix-theory.html"><a href="matrix-theory.html#matrix-calculus"><i class="fa fa-check"></i><b>2.1.4</b> Matrix Calculus</a></li>
<li class="chapter" data-level="2.1.5" data-path="matrix-theory.html"><a href="matrix-theory.html#optimization"><i class="fa fa-check"></i><b>2.1.5</b> Optimization</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="probability-theory.html"><a href="probability-theory.html"><i class="fa fa-check"></i><b>2.2</b> Probability Theory</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="probability-theory.html"><a href="probability-theory.html#axiom-and-theorems-of-probability"><i class="fa fa-check"></i><b>2.2.1</b> Axiom and Theorems of Probability</a></li>
<li class="chapter" data-level="2.2.2" data-path="probability-theory.html"><a href="probability-theory.html#central-limit-theorem"><i class="fa fa-check"></i><b>2.2.2</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="2.2.3" data-path="probability-theory.html"><a href="probability-theory.html#random-variable"><i class="fa fa-check"></i><b>2.2.3</b> Random variable</a></li>
<li class="chapter" data-level="2.2.4" data-path="probability-theory.html"><a href="probability-theory.html#moment-generating-function"><i class="fa fa-check"></i><b>2.2.4</b> Moment generating function</a></li>
<li class="chapter" data-level="2.2.5" data-path="probability-theory.html"><a href="probability-theory.html#moment"><i class="fa fa-check"></i><b>2.2.5</b> Moment</a></li>
<li class="chapter" data-level="2.2.6" data-path="probability-theory.html"><a href="probability-theory.html#distributions"><i class="fa fa-check"></i><b>2.2.6</b> Distributions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="general-math.html"><a href="general-math.html"><i class="fa fa-check"></i><b>2.3</b> General Math</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="general-math.html"><a href="general-math.html#law-of-large-numbers"><i class="fa fa-check"></i><b>2.3.1</b> Law of large numbers</a></li>
<li class="chapter" data-level="2.3.2" data-path="general-math.html"><a href="general-math.html#law-of-iterated-expectation"><i class="fa fa-check"></i><b>2.3.2</b> Law of Iterated Expectation</a></li>
<li class="chapter" data-level="2.3.3" data-path="general-math.html"><a href="general-math.html#convergence"><i class="fa fa-check"></i><b>2.3.3</b> Convergence</a></li>
<li class="chapter" data-level="2.3.4" data-path="general-math.html"><a href="general-math.html#sufficient-statistics"><i class="fa fa-check"></i><b>2.3.4</b> Sufficient Statistics</a></li>
<li class="chapter" data-level="2.3.5" data-path="general-math.html"><a href="general-math.html#parameter-transformations"><i class="fa fa-check"></i><b>2.3.5</b> Parameter transformations</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-importexport.html"><a href="data-importexport.html"><i class="fa fa-check"></i><b>2.4</b> Data Import/Export</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="data-importexport.html"><a href="data-importexport.html#medium-size"><i class="fa fa-check"></i><b>2.4.1</b> Medium size</a></li>
<li class="chapter" data-level="2.4.2" data-path="data-importexport.html"><a href="data-importexport.html#large-size"><i class="fa fa-check"></i><b>2.4.2</b> Large size</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>2.5</b> Data Manipulation</a></li>
</ul></li>
<li class="part"><span><b>I BASIC</b></span></li>
<li class="chapter" data-level="3" data-path="descriptive-stat.html"><a href="descriptive-stat.html"><i class="fa fa-check"></i><b>3</b> Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="numerical-measures.html"><a href="numerical-measures.html"><i class="fa fa-check"></i><b>3.1</b> Numerical Measures</a></li>
<li class="chapter" data-level="3.2" data-path="graphical-measures.html"><a href="graphical-measures.html"><i class="fa fa-check"></i><b>3.2</b> Graphical Measures</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="graphical-measures.html"><a href="graphical-measures.html#shape"><i class="fa fa-check"></i><b>3.2.1</b> Shape</a></li>
<li class="chapter" data-level="3.2.2" data-path="graphical-measures.html"><a href="graphical-measures.html#scatterplot"><i class="fa fa-check"></i><b>3.2.2</b> Scatterplot</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="normality-assessment.html"><a href="normality-assessment.html"><i class="fa fa-check"></i><b>3.3</b> Normality Assessment</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="normality-assessment.html"><a href="normality-assessment.html#graphical-assessment"><i class="fa fa-check"></i><b>3.3.1</b> Graphical Assessment</a></li>
<li class="chapter" data-level="3.3.2" data-path="normality-assessment.html"><a href="normality-assessment.html#summary-statistics"><i class="fa fa-check"></i><b>3.3.2</b> Summary Statistics</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="bivariate-statistics.html"><a href="bivariate-statistics.html"><i class="fa fa-check"></i><b>3.4</b> Bivariate Statistics</a></li>
<li class="chapter" data-level="3.5" data-path="two-continuous.html"><a href="two-continuous.html"><i class="fa fa-check"></i><b>3.5</b> Two Continuous</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="two-continuous.html"><a href="two-continuous.html#pearson-correlation"><i class="fa fa-check"></i><b>3.5.1</b> Pearson Correlation</a></li>
<li class="chapter" data-level="3.5.2" data-path="two-continuous.html"><a href="two-continuous.html#spearman-correlation"><i class="fa fa-check"></i><b>3.5.2</b> Spearman Correlation</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="categorical-and-continuous.html"><a href="categorical-and-continuous.html"><i class="fa fa-check"></i><b>3.6</b> Categorical and Continuous</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="categorical-and-continuous.html"><a href="categorical-and-continuous.html#point-biserial-correlation"><i class="fa fa-check"></i><b>3.6.1</b> Point-Biserial Correlation</a></li>
<li class="chapter" data-level="3.6.2" data-path="categorical-and-continuous.html"><a href="categorical-and-continuous.html#logistic-regression"><i class="fa fa-check"></i><b>3.6.2</b> Logistic Regression</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="two-discrete.html"><a href="two-discrete.html"><i class="fa fa-check"></i><b>3.7</b> Two Discrete</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="two-discrete.html"><a href="two-discrete.html#distance-metrics"><i class="fa fa-check"></i><b>3.7.1</b> Distance Metrics</a></li>
<li class="chapter" data-level="3.7.2" data-path="two-discrete.html"><a href="two-discrete.html#statistical-metrics"><i class="fa fa-check"></i><b>3.7.2</b> Statistical Metrics</a></li>
<li class="chapter" data-level="3.7.3" data-path="two-discrete.html"><a href="two-discrete.html#ordinal-association-rank-correlation"><i class="fa fa-check"></i><b>3.7.3</b> Ordinal Association (Rank correlation)</a></li>
<li class="chapter" data-level="3.7.4" data-path="two-discrete.html"><a href="two-discrete.html#summary-1"><i class="fa fa-check"></i><b>3.7.4</b> Summary</a></li>
<li class="chapter" data-level="3.7.5" data-path="two-discrete.html"><a href="two-discrete.html#visualization"><i class="fa fa-check"></i><b>3.7.5</b> Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basic-statistical-inference.html"><a href="basic-statistical-inference.html"><i class="fa fa-check"></i><b>4</b> Basic Statistical Inference</a>
<ul>
<li class="chapter" data-level="4.1" data-path="one-sample-inference.html"><a href="one-sample-inference.html"><i class="fa fa-check"></i><b>4.1</b> One Sample Inference</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="one-sample-inference.html"><a href="one-sample-inference.html#the-mean"><i class="fa fa-check"></i><b>4.1.1</b> The Mean</a></li>
<li class="chapter" data-level="4.1.2" data-path="one-sample-inference.html"><a href="one-sample-inference.html#single-variance"><i class="fa fa-check"></i><b>4.1.2</b> Single Variance</a></li>
<li class="chapter" data-level="4.1.3" data-path="one-sample-inference.html"><a href="one-sample-inference.html#single-proportion-p"><i class="fa fa-check"></i><b>4.1.3</b> Single Proportion (p)</a></li>
<li class="chapter" data-level="4.1.4" data-path="one-sample-inference.html"><a href="one-sample-inference.html#power"><i class="fa fa-check"></i><b>4.1.4</b> Power</a></li>
<li class="chapter" data-level="4.1.5" data-path="one-sample-inference.html"><a href="one-sample-inference.html#sample-size"><i class="fa fa-check"></i><b>4.1.5</b> Sample Size</a></li>
<li class="chapter" data-level="4.1.6" data-path="one-sample-inference.html"><a href="one-sample-inference.html#note"><i class="fa fa-check"></i><b>4.1.6</b> Note</a></li>
<li class="chapter" data-level="4.1.7" data-path="one-sample-inference.html"><a href="one-sample-inference.html#one-sample-non-parametric-methods"><i class="fa fa-check"></i><b>4.1.7</b> One-sample Non-parametric Methods</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="two-sample-inference.html"><a href="two-sample-inference.html"><i class="fa fa-check"></i><b>4.2</b> Two Sample Inference</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="two-sample-inference.html"><a href="two-sample-inference.html#means"><i class="fa fa-check"></i><b>4.2.1</b> Means</a></li>
<li class="chapter" data-level="4.2.2" data-path="two-sample-inference.html"><a href="two-sample-inference.html#variances"><i class="fa fa-check"></i><b>4.2.2</b> Variances</a></li>
<li class="chapter" data-level="4.2.3" data-path="two-sample-inference.html"><a href="two-sample-inference.html#power-1"><i class="fa fa-check"></i><b>4.2.3</b> Power</a></li>
<li class="chapter" data-level="4.2.4" data-path="two-sample-inference.html"><a href="two-sample-inference.html#sample-size-1"><i class="fa fa-check"></i><b>4.2.4</b> Sample Size</a></li>
<li class="chapter" data-level="4.2.5" data-path="two-sample-inference.html"><a href="two-sample-inference.html#matched-pair-designs"><i class="fa fa-check"></i><b>4.2.5</b> Matched Pair Designs</a></li>
<li class="chapter" data-level="4.2.6" data-path="two-sample-inference.html"><a href="two-sample-inference.html#nonparametric-tests-for-two-samples"><i class="fa fa-check"></i><b>4.2.6</b> Nonparametric Tests for Two Samples</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="categorical-data-analysis.html"><a href="categorical-data-analysis.html"><i class="fa fa-check"></i><b>4.3</b> Categorical Data Analysis</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="categorical-data-analysis.html"><a href="categorical-data-analysis.html#inferences-for-small-samples"><i class="fa fa-check"></i><b>4.3.1</b> Inferences for Small Samples</a></li>
<li class="chapter" data-level="4.3.2" data-path="categorical-data-analysis.html"><a href="categorical-data-analysis.html#test-of-association"><i class="fa fa-check"></i><b>4.3.2</b> Test of Association</a></li>
<li class="chapter" data-level="4.3.3" data-path="categorical-data-analysis.html"><a href="categorical-data-analysis.html#ordinal-association"><i class="fa fa-check"></i><b>4.3.3</b> Ordinal Association</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II REGRESSION</b></span></li>
<li class="chapter" data-level="5" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>5</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html"><i class="fa fa-check"></i><b>5.1</b> Ordinary Least Squares</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#simple-regression-basic-model"><i class="fa fa-check"></i><b>5.1.1</b> Simple Regression (Basic Model)</a></li>
<li class="chapter" data-level="5.1.2" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#multiple-linear-regression"><i class="fa fa-check"></i><b>5.1.2</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="5.1.3" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#ols-assumptions"><i class="fa fa-check"></i><b>5.1.3</b> OLS Assumptions</a></li>
<li class="chapter" data-level="5.1.4" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#theorems"><i class="fa fa-check"></i><b>5.1.4</b> Theorems</a></li>
<li class="chapter" data-level="5.1.5" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#variable-selection"><i class="fa fa-check"></i><b>5.1.5</b> Variable Selection</a></li>
<li class="chapter" data-level="5.1.6" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#diagnostics-1"><i class="fa fa-check"></i><b>5.1.6</b> Diagnostics</a></li>
<li class="chapter" data-level="5.1.7" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#model-validation"><i class="fa fa-check"></i><b>5.1.7</b> Model Validation</a></li>
<li class="chapter" data-level="5.1.8" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#finite-sample-properties"><i class="fa fa-check"></i><b>5.1.8</b> Finite Sample Properties</a></li>
<li class="chapter" data-level="5.1.9" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#large-sample-properties"><i class="fa fa-check"></i><b>5.1.9</b> Large Sample Properties</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="feasible-generalized-least-squares.html"><a href="feasible-generalized-least-squares.html"><i class="fa fa-check"></i><b>5.2</b> Feasible Generalized Least Squares</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="feasible-generalized-least-squares.html"><a href="feasible-generalized-least-squares.html#heteroskedasticity"><i class="fa fa-check"></i><b>5.2.1</b> Heteroskedasticity</a></li>
<li class="chapter" data-level="5.2.2" data-path="feasible-generalized-least-squares.html"><a href="feasible-generalized-least-squares.html#serial-correlation"><i class="fa fa-check"></i><b>5.2.2</b> Serial Correlation</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="weighted-least-squares.html"><a href="weighted-least-squares.html"><i class="fa fa-check"></i><b>5.3</b> Weighted Least Squares</a></li>
<li class="chapter" data-level="5.4" data-path="generalized-least-squares.html"><a href="generalized-least-squares.html"><i class="fa fa-check"></i><b>5.4</b> Generalized Least Squares</a></li>
<li class="chapter" data-level="5.5" data-path="feasiable-prais-winsten.html"><a href="feasiable-prais-winsten.html"><i class="fa fa-check"></i><b>5.5</b> Feasiable Prais Winsten</a></li>
<li class="chapter" data-level="5.6" data-path="feasible-group-level-random-effects.html"><a href="feasible-group-level-random-effects.html"><i class="fa fa-check"></i><b>5.6</b> Feasible group level Random Effects</a></li>
<li class="chapter" data-level="5.7" data-path="ridge-regression.html"><a href="ridge-regression.html"><i class="fa fa-check"></i><b>5.7</b> Ridge Regression</a></li>
<li class="chapter" data-level="5.8" data-path="principal-component-regression.html"><a href="principal-component-regression.html"><i class="fa fa-check"></i><b>5.8</b> Principal Component Regression</a></li>
<li class="chapter" data-level="5.9" data-path="robust-regression.html"><a href="robust-regression.html"><i class="fa fa-check"></i><b>5.9</b> Robust Regression</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="robust-regression.html"><a href="robust-regression.html#least-absolute-residuals-lar-regression"><i class="fa fa-check"></i><b>5.9.1</b> Least Absolute Residuals (LAR) Regression</a></li>
<li class="chapter" data-level="5.9.2" data-path="robust-regression.html"><a href="robust-regression.html#least-median-of-squares-lms-regression"><i class="fa fa-check"></i><b>5.9.2</b> Least Median of Squares (LMS) Regression</a></li>
<li class="chapter" data-level="5.9.3" data-path="robust-regression.html"><a href="robust-regression.html#iteratively-reweighted-least-squares-irls-robust-regression"><i class="fa fa-check"></i><b>5.9.3</b> Iteratively Reweighted Least Squares (IRLS) Robust Regression</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html"><i class="fa fa-check"></i><b>5.10</b> Maximum Likelihood</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#motivation-for-mle"><i class="fa fa-check"></i><b>5.10.1</b> Motivation for MLE</a></li>
<li class="chapter" data-level="5.10.2" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#assumption"><i class="fa fa-check"></i><b>5.10.2</b> Assumption</a></li>
<li class="chapter" data-level="5.10.3" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#properties"><i class="fa fa-check"></i><b>5.10.3</b> Properties</a></li>
<li class="chapter" data-level="5.10.4" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#compare-to-ols"><i class="fa fa-check"></i><b>5.10.4</b> Compare to OLS</a></li>
<li class="chapter" data-level="5.10.5" data-path="maximum-likelihood-regression.html"><a href="maximum-likelihood-regression.html#application"><i class="fa fa-check"></i><b>5.10.5</b> Application</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="non-linear-regression.html"><a href="non-linear-regression.html"><i class="fa fa-check"></i><b>6</b> Non-linear Regression</a>
<ul>
<li class="chapter" data-level="6.1" data-path="inference-1.html"><a href="inference-1.html"><i class="fa fa-check"></i><b>6.1</b> Inference</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="inference-1.html"><a href="inference-1.html#linear-function-of-the-parameters"><i class="fa fa-check"></i><b>6.1.1</b> Linear Function of the Parameters</a></li>
<li class="chapter" data-level="6.1.2" data-path="inference-1.html"><a href="inference-1.html#nonlinear"><i class="fa fa-check"></i><b>6.1.2</b> Nonlinear</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html"><i class="fa fa-check"></i><b>6.2</b> Non-linear Least Squares</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html#alternative-of-gauss-newton-algorithm"><i class="fa fa-check"></i><b>6.2.1</b> Alternative of Gauss-Newton Algorithm</a></li>
<li class="chapter" data-level="6.2.2" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html#practical-considerations"><i class="fa fa-check"></i><b>6.2.2</b> Practical Considerations</a></li>
<li class="chapter" data-level="6.2.3" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html#modelestiamtion-adequcy"><i class="fa fa-check"></i><b>6.2.3</b> Model/Estiamtion Adequcy</a></li>
<li class="chapter" data-level="6.2.4" data-path="non-linear-least-squares.html"><a href="non-linear-least-squares.html#application-1"><i class="fa fa-check"></i><b>6.2.4</b> Application</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html"><i class="fa fa-check"></i><b>7</b> Generalized Linear Models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="logistic-regression-1.html"><a href="logistic-regression-1.html"><i class="fa fa-check"></i><b>7.1</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="logistic-regression-1.html"><a href="logistic-regression-1.html#application-2"><i class="fa fa-check"></i><b>7.1.1</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="probit-regression.html"><a href="probit-regression.html"><i class="fa fa-check"></i><b>7.2</b> Probit Regression</a></li>
<li class="chapter" data-level="7.3" data-path="binomial-regression.html"><a href="binomial-regression.html"><i class="fa fa-check"></i><b>7.3</b> Binomial Regression</a></li>
<li class="chapter" data-level="7.4" data-path="poisson-regression.html"><a href="poisson-regression.html"><i class="fa fa-check"></i><b>7.4</b> Poisson Regression</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="poisson-regression.html"><a href="poisson-regression.html#application-3"><i class="fa fa-check"></i><b>7.4.1</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="negative-binomial-regression.html"><a href="negative-binomial-regression.html"><i class="fa fa-check"></i><b>7.5</b> Negative Binomial Regression</a></li>
<li class="chapter" data-level="7.6" data-path="multinomial.html"><a href="multinomial.html"><i class="fa fa-check"></i><b>7.6</b> Multinomial</a></li>
<li class="chapter" data-level="7.7" data-path="generalization.html"><a href="generalization.html"><i class="fa fa-check"></i><b>7.7</b> Generalization</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="generalization.html"><a href="generalization.html#estimation-1"><i class="fa fa-check"></i><b>7.7.1</b> Estimation</a></li>
<li class="chapter" data-level="7.7.2" data-path="generalization.html"><a href="generalization.html#inference-2"><i class="fa fa-check"></i><b>7.7.2</b> Inference</a></li>
<li class="chapter" data-level="7.7.3" data-path="generalization.html"><a href="generalization.html#deviance"><i class="fa fa-check"></i><b>7.7.3</b> Deviance</a></li>
<li class="chapter" data-level="7.7.4" data-path="generalization.html"><a href="generalization.html#diagnostic-plots"><i class="fa fa-check"></i><b>7.7.4</b> Diagnostic Plots</a></li>
<li class="chapter" data-level="7.7.5" data-path="generalization.html"><a href="generalization.html#goodness-of-fit"><i class="fa fa-check"></i><b>7.7.5</b> Goodness of Fit</a></li>
<li class="chapter" data-level="7.7.6" data-path="generalization.html"><a href="generalization.html#over-dispersion"><i class="fa fa-check"></i><b>7.7.6</b> Over-Dispersion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="linear-mixed-models.html"><a href="linear-mixed-models.html"><i class="fa fa-check"></i><b>8</b> Linear Mixed Models</a>
<ul>
<li class="chapter" data-level="8.1" data-path="dependent-data.html"><a href="dependent-data.html"><i class="fa fa-check"></i><b>8.1</b> Dependent Data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="dependent-data.html"><a href="dependent-data.html#random-intercepts-model"><i class="fa fa-check"></i><b>8.1.1</b> Random-Intercepts Model</a></li>
<li class="chapter" data-level="8.1.2" data-path="dependent-data.html"><a href="dependent-data.html#covariance-models"><i class="fa fa-check"></i><b>8.1.2</b> Covariance Models</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="estimation-2.html"><a href="estimation-2.html"><i class="fa fa-check"></i><b>8.2</b> Estimation</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="estimation-2.html"><a href="estimation-2.html#estimating-mathbfv"><i class="fa fa-check"></i><b>8.2.1</b> Estimating <span class="math inline">\(\mathbf{V}\)</span></a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="inference-3.html"><a href="inference-3.html"><i class="fa fa-check"></i><b>8.3</b> Inference</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="inference-3.html"><a href="inference-3.html#parameters-beta"><i class="fa fa-check"></i><b>8.3.1</b> Parameters <span class="math inline">\(\beta\)</span></a></li>
<li class="chapter" data-level="8.3.2" data-path="inference-3.html"><a href="inference-3.html#variance-components"><i class="fa fa-check"></i><b>8.3.2</b> Variance Components</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="information-criteria.html"><a href="information-criteria.html"><i class="fa fa-check"></i><b>8.4</b> Information Criteria</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="information-criteria.html"><a href="information-criteria.html#akaikes-information-criteria-aic"><i class="fa fa-check"></i><b>8.4.1</b> Akaike’s Information Criteria (AIC)</a></li>
<li class="chapter" data-level="8.4.2" data-path="information-criteria.html"><a href="information-criteria.html#corrected-aic-aicc"><i class="fa fa-check"></i><b>8.4.2</b> Corrected AIC (AICC)</a></li>
<li class="chapter" data-level="8.4.3" data-path="information-criteria.html"><a href="information-criteria.html#bayesian-information-criteria-bic"><i class="fa fa-check"></i><b>8.4.3</b> Bayesian Information Criteria (BIC)</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="split-plot-designs.html"><a href="split-plot-designs.html"><i class="fa fa-check"></i><b>8.5</b> Split-Plot Designs</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="split-plot-designs.html"><a href="split-plot-designs.html#application-4"><i class="fa fa-check"></i><b>8.5.1</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="repeated-measures-in-mixed-models.html"><a href="repeated-measures-in-mixed-models.html"><i class="fa fa-check"></i><b>8.6</b> Repeated Measures in Mixed Models</a></li>
<li class="chapter" data-level="8.7" data-path="unbalanced-or-unequally-spaced-data.html"><a href="unbalanced-or-unequally-spaced-data.html"><i class="fa fa-check"></i><b>8.7</b> Unbalanced or Unequally Spaced Data</a></li>
<li class="chapter" data-level="8.8" data-path="application-5.html"><a href="application-5.html"><i class="fa fa-check"></i><b>8.8</b> Application</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="application-5.html"><a href="application-5.html#example-1-pulps"><i class="fa fa-check"></i><b>8.8.1</b> Example 1 (Pulps)</a></li>
<li class="chapter" data-level="8.8.2" data-path="application-5.html"><a href="application-5.html#example-2-rats"><i class="fa fa-check"></i><b>8.8.2</b> Example 2 (Rats)</a></li>
<li class="chapter" data-level="8.8.3" data-path="application-5.html"><a href="application-5.html#example-3-agridat"><i class="fa fa-check"></i><b>8.8.3</b> Example 3 (Agridat)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="nonlinear-and-generalized-linear-mixed-models.html"><a href="nonlinear-and-generalized-linear-mixed-models.html"><i class="fa fa-check"></i><b>9</b> Nonlinear and Generalized Linear Mixed Models</a>
<ul>
<li class="chapter" data-level="9.1" data-path="estimation-3.html"><a href="estimation-3.html"><i class="fa fa-check"></i><b>9.1</b> Estimation</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="estimation-3.html"><a href="estimation-3.html#estimation-by-numerical-integration"><i class="fa fa-check"></i><b>9.1.1</b> Estimation by Numerical Integration</a></li>
<li class="chapter" data-level="9.1.2" data-path="estimation-3.html"><a href="estimation-3.html#estimation-by-linearization"><i class="fa fa-check"></i><b>9.1.2</b> Estimation by Linearization</a></li>
<li class="chapter" data-level="9.1.3" data-path="estimation-3.html"><a href="estimation-3.html#estimation-by-bayesian-hierarchical-models"><i class="fa fa-check"></i><b>9.1.3</b> Estimation by Bayesian Hierarchical Models</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="application-6.html"><a href="application-6.html"><i class="fa fa-check"></i><b>9.2</b> Application</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="application-6.html"><a href="application-6.html#binomial-cbpp-data"><i class="fa fa-check"></i><b>9.2.1</b> Binomial (CBPP Data)</a></li>
<li class="chapter" data-level="9.2.2" data-path="application-6.html"><a href="application-6.html#count-owl-data"><i class="fa fa-check"></i><b>9.2.2</b> Count (Owl Data)</a></li>
<li class="chapter" data-level="9.2.3" data-path="application-6.html"><a href="application-6.html#binomial-1"><i class="fa fa-check"></i><b>9.2.3</b> Binomial</a></li>
<li class="chapter" data-level="9.2.4" data-path="application-6.html"><a href="application-6.html#example-from-schabenberger_2001-section-8.4.1"><i class="fa fa-check"></i><b>9.2.4</b> Example from <span class="citation">(<span>Schabenberger and Pierce 2001</span>)</span> section 8.4.1</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="summary-2.html"><a href="summary-2.html"><i class="fa fa-check"></i><b>9.3</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>III RAMIFICATIONS</b></span></li>
<li class="chapter" data-level="10" data-path="model-specification.html"><a href="model-specification.html"><i class="fa fa-check"></i><b>10</b> Model Specification</a>
<ul>
<li class="chapter" data-level="10.1" data-path="nested-model.html"><a href="nested-model.html"><i class="fa fa-check"></i><b>10.1</b> Nested Model</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="nested-model.html"><a href="nested-model.html#chow-test"><i class="fa fa-check"></i><b>10.1.1</b> Chow test</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="non-nested-model.html"><a href="non-nested-model.html"><i class="fa fa-check"></i><b>10.2</b> Non-Nested Model</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="non-nested-model.html"><a href="non-nested-model.html#davidson-mackinnon-test"><i class="fa fa-check"></i><b>10.2.1</b> Davidson-Mackinnon test</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="heteroskedasticity-1.html"><a href="heteroskedasticity-1.html"><i class="fa fa-check"></i><b>10.3</b> Heteroskedasticity</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="heteroskedasticity-1.html"><a href="heteroskedasticity-1.html#breusch-pagan-test"><i class="fa fa-check"></i><b>10.3.1</b> Breusch-Pagan test</a></li>
<li class="chapter" data-level="10.3.2" data-path="heteroskedasticity-1.html"><a href="heteroskedasticity-1.html#white-test"><i class="fa fa-check"></i><b>10.3.2</b> White test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="imputation-missing-data.html"><a href="imputation-missing-data.html"><i class="fa fa-check"></i><b>11</b> Imputation (Missing Data)</a>
<ul>
<li class="chapter" data-level="11.1" data-path="assumptions-1.html"><a href="assumptions-1.html"><i class="fa fa-check"></i><b>11.1</b> Assumptions</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="assumptions-1.html"><a href="assumptions-1.html#missing-completely-at-random-mcar"><i class="fa fa-check"></i><b>11.1.1</b> Missing Completely at Random (MCAR)</a></li>
<li class="chapter" data-level="11.1.2" data-path="assumptions-1.html"><a href="assumptions-1.html#missing-at-random-mar"><i class="fa fa-check"></i><b>11.1.2</b> Missing at Random (MAR)</a></li>
<li class="chapter" data-level="11.1.3" data-path="assumptions-1.html"><a href="assumptions-1.html#ignorable"><i class="fa fa-check"></i><b>11.1.3</b> Ignorable</a></li>
<li class="chapter" data-level="11.1.4" data-path="assumptions-1.html"><a href="assumptions-1.html#nonignorable"><i class="fa fa-check"></i><b>11.1.4</b> Nonignorable</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html"><i class="fa fa-check"></i><b>11.2</b> Solutions to Missing data</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#listwise-deletion"><i class="fa fa-check"></i><b>11.2.1</b> Listwise Deletion</a></li>
<li class="chapter" data-level="11.2.2" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#pairwise-deletion"><i class="fa fa-check"></i><b>11.2.2</b> Pairwise Deletion</a></li>
<li class="chapter" data-level="11.2.3" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#dummy-variable-adjustment"><i class="fa fa-check"></i><b>11.2.3</b> Dummy Variable Adjustment</a></li>
<li class="chapter" data-level="11.2.4" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#imputation"><i class="fa fa-check"></i><b>11.2.4</b> Imputation</a></li>
<li class="chapter" data-level="11.2.5" data-path="solutions-to-missing-data.html"><a href="solutions-to-missing-data.html#other-methods"><i class="fa fa-check"></i><b>11.2.5</b> Other methods</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="criteria-for-choosing-an-effective-approach.html"><a href="criteria-for-choosing-an-effective-approach.html"><i class="fa fa-check"></i><b>11.3</b> Criteria for Choosing an Effective Approach</a></li>
<li class="chapter" data-level="11.4" data-path="another-perspective.html"><a href="another-perspective.html"><i class="fa fa-check"></i><b>11.4</b> Another Perspective</a></li>
<li class="chapter" data-level="11.5" data-path="diagnosing-the-mechanism.html"><a href="diagnosing-the-mechanism.html"><i class="fa fa-check"></i><b>11.5</b> Diagnosing the Mechanism</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="diagnosing-the-mechanism.html"><a href="diagnosing-the-mechanism.html#mar-vs.-mnar"><i class="fa fa-check"></i><b>11.5.1</b> MAR vs. MNAR</a></li>
<li class="chapter" data-level="11.5.2" data-path="diagnosing-the-mechanism.html"><a href="diagnosing-the-mechanism.html#mcar-vs.-mar"><i class="fa fa-check"></i><b>11.5.2</b> MCAR vs. MAR</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="application-7.html"><a href="application-7.html"><i class="fa fa-check"></i><b>11.6</b> Application</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="application-7.html"><a href="application-7.html#imputation-with-mean-median-mode"><i class="fa fa-check"></i><b>11.6.1</b> Imputation with mean / median / mode</a></li>
<li class="chapter" data-level="11.6.2" data-path="application-7.html"><a href="application-7.html#knn"><i class="fa fa-check"></i><b>11.6.2</b> KNN</a></li>
<li class="chapter" data-level="11.6.3" data-path="application-7.html"><a href="application-7.html#rpart"><i class="fa fa-check"></i><b>11.6.3</b> rpart</a></li>
<li class="chapter" data-level="11.6.4" data-path="application-7.html"><a href="application-7.html#mice-multivariate-imputation-via-chained-equations"><i class="fa fa-check"></i><b>11.6.4</b> MICE (Multivariate Imputation via Chained Equations)</a></li>
<li class="chapter" data-level="11.6.5" data-path="application-7.html"><a href="application-7.html#amelia"><i class="fa fa-check"></i><b>11.6.5</b> Amelia</a></li>
<li class="chapter" data-level="11.6.6" data-path="application-7.html"><a href="application-7.html#missforest"><i class="fa fa-check"></i><b>11.6.6</b> missForest</a></li>
<li class="chapter" data-level="11.6.7" data-path="application-7.html"><a href="application-7.html#hmisc"><i class="fa fa-check"></i><b>11.6.7</b> Hmisc</a></li>
<li class="chapter" data-level="11.6.8" data-path="application-7.html"><a href="application-7.html#mi"><i class="fa fa-check"></i><b>11.6.8</b> mi</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>12</b> Data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="cross-sectional.html"><a href="cross-sectional.html"><i class="fa fa-check"></i><b>12.1</b> Cross-Sectional</a></li>
<li class="chapter" data-level="12.2" data-path="time-series-1.html"><a href="time-series-1.html"><i class="fa fa-check"></i><b>12.2</b> Time Series</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="time-series-1.html"><a href="time-series-1.html#deterministic-time-trend"><i class="fa fa-check"></i><b>12.2.1</b> Deterministic Time trend</a></li>
<li class="chapter" data-level="12.2.2" data-path="time-series-1.html"><a href="time-series-1.html#feedback-effect"><i class="fa fa-check"></i><b>12.2.2</b> Feedback Effect</a></li>
<li class="chapter" data-level="12.2.3" data-path="time-series-1.html"><a href="time-series-1.html#dynamic-specification"><i class="fa fa-check"></i><b>12.2.3</b> Dynamic Specification</a></li>
<li class="chapter" data-level="12.2.4" data-path="time-series-1.html"><a href="time-series-1.html#dynamically-complete"><i class="fa fa-check"></i><b>12.2.4</b> Dynamically Complete</a></li>
<li class="chapter" data-level="12.2.5" data-path="time-series-1.html"><a href="time-series-1.html#highly-persistent-data"><i class="fa fa-check"></i><b>12.2.5</b> Highly Persistent Data</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="repeated-cross-sections.html"><a href="repeated-cross-sections.html"><i class="fa fa-check"></i><b>12.3</b> Repeated Cross Sections</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="repeated-cross-sections.html"><a href="repeated-cross-sections.html#pooled-cross-section"><i class="fa fa-check"></i><b>12.3.1</b> Pooled Cross Section</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="panel-data.html"><a href="panel-data.html"><i class="fa fa-check"></i><b>12.4</b> Panel Data</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="panel-data.html"><a href="panel-data.html#pooled-ols-estimator"><i class="fa fa-check"></i><b>12.4.1</b> Pooled OLS Estimator</a></li>
<li class="chapter" data-level="12.4.2" data-path="panel-data.html"><a href="panel-data.html#individual-specific-effects-model"><i class="fa fa-check"></i><b>12.4.2</b> Individual-specific effects model</a></li>
<li class="chapter" data-level="12.4.3" data-path="panel-data.html"><a href="panel-data.html#tests-for-assumptions"><i class="fa fa-check"></i><b>12.4.3</b> Tests for Assumptions</a></li>
<li class="chapter" data-level="12.4.4" data-path="panel-data.html"><a href="panel-data.html#model-selection"><i class="fa fa-check"></i><b>12.4.4</b> Model Selection</a></li>
<li class="chapter" data-level="12.4.5" data-path="panel-data.html"><a href="panel-data.html#summary-3"><i class="fa fa-check"></i><b>12.4.5</b> Summary</a></li>
<li class="chapter" data-level="12.4.6" data-path="panel-data.html"><a href="panel-data.html#application-8"><i class="fa fa-check"></i><b>12.4.6</b> Application</a></li>
<li class="chapter" data-level="12.4.7" data-path="panel-data.html"><a href="panel-data.html#other-estimators"><i class="fa fa-check"></i><b>12.4.7</b> Other Estimators</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>13</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="13.1" data-path="types-of-hypothesis-testing.html"><a href="types-of-hypothesis-testing.html"><i class="fa fa-check"></i><b>13.1</b> Types of hypothesis testing</a></li>
<li class="chapter" data-level="13.2" data-path="wald-test.html"><a href="wald-test.html"><i class="fa fa-check"></i><b>13.2</b> Wald test</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="wald-test.html"><a href="wald-test.html#multiple-hypothesis"><i class="fa fa-check"></i><b>13.2.1</b> Multiple Hypothesis</a></li>
<li class="chapter" data-level="13.2.2" data-path="wald-test.html"><a href="wald-test.html#linear-combination"><i class="fa fa-check"></i><b>13.2.2</b> Linear Combination</a></li>
<li class="chapter" data-level="13.2.3" data-path="wald-test.html"><a href="wald-test.html#estimate-difference-in-coefficients"><i class="fa fa-check"></i><b>13.2.3</b> Estimate Difference in Coefficients</a></li>
<li class="chapter" data-level="13.2.4" data-path="wald-test.html"><a href="wald-test.html#application-9"><i class="fa fa-check"></i><b>13.2.4</b> Application</a></li>
<li class="chapter" data-level="13.2.5" data-path="wald-test.html"><a href="wald-test.html#nonlinear-1"><i class="fa fa-check"></i><b>13.2.5</b> Nonlinear</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="the-likelihood-ratio-test.html"><a href="the-likelihood-ratio-test.html"><i class="fa fa-check"></i><b>13.3</b> The likelihood ratio test</a></li>
<li class="chapter" data-level="13.4" data-path="lagrange-multiplier-score.html"><a href="lagrange-multiplier-score.html"><i class="fa fa-check"></i><b>13.4</b> Lagrange Multiplier (Score)</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="prediction-and-estimation.html"><a href="prediction-and-estimation.html"><i class="fa fa-check"></i><b>14</b> Prediction and Estimation</a></li>
<li class="chapter" data-level="15" data-path="moderation.html"><a href="moderation.html"><i class="fa fa-check"></i><b>15</b> Moderation</a>
<ul>
<li class="chapter" data-level="15.1" data-path="emmeans-package.html"><a href="emmeans-package.html"><i class="fa fa-check"></i><b>15.1</b> emmeans package</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="emmeans-package.html"><a href="emmeans-package.html#continuous-by-continuous"><i class="fa fa-check"></i><b>15.1.1</b> Continuous by continuous</a></li>
<li class="chapter" data-level="15.1.2" data-path="emmeans-package.html"><a href="emmeans-package.html#continuous-by-categorical"><i class="fa fa-check"></i><b>15.1.2</b> Continuous by categorical</a></li>
<li class="chapter" data-level="15.1.3" data-path="emmeans-package.html"><a href="emmeans-package.html#categorical-by-categorical"><i class="fa fa-check"></i><b>15.1.3</b> Categorical by categorical</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="probmod-package.html"><a href="probmod-package.html"><i class="fa fa-check"></i><b>15.2</b> probmod package</a></li>
<li class="chapter" data-level="15.3" data-path="interactions-package.html"><a href="interactions-package.html"><i class="fa fa-check"></i><b>15.3</b> interactions package</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="interactions-package.html"><a href="interactions-package.html#continuous-interaction"><i class="fa fa-check"></i><b>15.3.1</b> Continuous interaction</a></li>
<li class="chapter" data-level="15.3.2" data-path="interactions-package.html"><a href="interactions-package.html#categorical-interaction"><i class="fa fa-check"></i><b>15.3.2</b> Categorical interaction</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="interactionr-package.html"><a href="interactionr-package.html"><i class="fa fa-check"></i><b>15.4</b> interactionR package</a></li>
<li class="chapter" data-level="15.5" data-path="sjplot-package.html"><a href="sjplot-package.html"><i class="fa fa-check"></i><b>15.5</b> sjPlot package</a></li>
</ul></li>
<li class="part"><span><b>IV EXPERIMENTAL DESIGN</b></span></li>
<li class="chapter" data-level="16" data-path="sampling.html"><a href="sampling.html"><i class="fa fa-check"></i><b>16</b> Sampling</a>
<ul>
<li class="chapter" data-level="16.1" data-path="simple-sampling.html"><a href="simple-sampling.html"><i class="fa fa-check"></i><b>16.1</b> Simple Sampling</a></li>
<li class="chapter" data-level="16.2" data-path="stratified-sampling.html"><a href="stratified-sampling.html"><i class="fa fa-check"></i><b>16.2</b> Stratified Sampling</a></li>
<li class="chapter" data-level="16.3" data-path="unequal-probability-sampling.html"><a href="unequal-probability-sampling.html"><i class="fa fa-check"></i><b>16.3</b> Unequal Probability Sampling</a></li>
<li class="chapter" data-level="16.4" data-path="balanced-sampling.html"><a href="balanced-sampling.html"><i class="fa fa-check"></i><b>16.4</b> Balanced Sampling</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="balanced-sampling.html"><a href="balanced-sampling.html#cube"><i class="fa fa-check"></i><b>16.4.1</b> Cube</a></li>
<li class="chapter" data-level="16.4.2" data-path="balanced-sampling.html"><a href="balanced-sampling.html#stratification"><i class="fa fa-check"></i><b>16.4.2</b> Stratification</a></li>
<li class="chapter" data-level="16.4.3" data-path="balanced-sampling.html"><a href="balanced-sampling.html#cluster-1"><i class="fa fa-check"></i><b>16.4.3</b> Cluster</a></li>
<li class="chapter" data-level="16.4.4" data-path="balanced-sampling.html"><a href="balanced-sampling.html#two-stage"><i class="fa fa-check"></i><b>16.4.4</b> Two-stage</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="analysis-of-variance-anova.html"><a href="analysis-of-variance-anova.html"><i class="fa fa-check"></i><b>17</b> Analysis of Variance (ANOVA)</a>
<ul>
<li class="chapter" data-level="17.1" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html"><i class="fa fa-check"></i><b>17.1</b> Completely Randomized Design (CRD)</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#single-factor-fixed-effects-model"><i class="fa fa-check"></i><b>17.1.1</b> Single Factor Fixed Effects Model</a></li>
<li class="chapter" data-level="17.1.2" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#single-factor-random-effects-model"><i class="fa fa-check"></i><b>17.1.2</b> Single Factor Random Effects Model</a></li>
<li class="chapter" data-level="17.1.3" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#two-factor-fixed-effect-anova"><i class="fa fa-check"></i><b>17.1.3</b> Two Factor Fixed Effect ANOVA</a></li>
<li class="chapter" data-level="17.1.4" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#two-way-random-effects-anova"><i class="fa fa-check"></i><b>17.1.4</b> Two-Way Random Effects ANOVA</a></li>
<li class="chapter" data-level="17.1.5" data-path="completely-randomized-design-crd.html"><a href="completely-randomized-design-crd.html#two-way-mixed-effects-anova"><i class="fa fa-check"></i><b>17.1.5</b> Two-Way Mixed Effects ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="nonparametric-anova.html"><a href="nonparametric-anova.html"><i class="fa fa-check"></i><b>17.2</b> Nonparametric ANOVA</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="nonparametric-anova.html"><a href="nonparametric-anova.html#kruskal-wallis"><i class="fa fa-check"></i><b>17.2.1</b> Kruskal-Wallis</a></li>
<li class="chapter" data-level="17.2.2" data-path="nonparametric-anova.html"><a href="nonparametric-anova.html#friedman-test"><i class="fa fa-check"></i><b>17.2.2</b> Friedman Test</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="sample-size-planning-for-anova.html"><a href="sample-size-planning-for-anova.html"><i class="fa fa-check"></i><b>17.3</b> Sample Size Planning for ANOVA</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="sample-size-planning-for-anova.html"><a href="sample-size-planning-for-anova.html#balanced-designs"><i class="fa fa-check"></i><b>17.3.1</b> Balanced Designs</a></li>
<li class="chapter" data-level="17.3.2" data-path="sample-size-planning-for-anova.html"><a href="sample-size-planning-for-anova.html#randomized-block-experiments"><i class="fa fa-check"></i><b>17.3.2</b> Randomized Block Experiments</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="randomized-block-designs.html"><a href="randomized-block-designs.html"><i class="fa fa-check"></i><b>17.4</b> Randomized Block Designs</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="randomized-block-designs.html"><a href="randomized-block-designs.html#tukey-test-of-additivity"><i class="fa fa-check"></i><b>17.4.1</b> Tukey Test of Additivity</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="nested-designs.html"><a href="nested-designs.html"><i class="fa fa-check"></i><b>17.5</b> Nested Designs</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="nested-designs.html"><a href="nested-designs.html#two-factor-nested-designs"><i class="fa fa-check"></i><b>17.5.1</b> Two-Factor Nested Designs</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="single-factor-covariance-model.html"><a href="single-factor-covariance-model.html"><i class="fa fa-check"></i><b>17.6</b> Single Factor Covariance Model</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="multivariate-methods.html"><a href="multivariate-methods.html"><i class="fa fa-check"></i><b>18</b> Multivariate Methods</a>
<ul>
<li class="chapter" data-level="18.0.1" data-path="multivariate-methods.html"><a href="multivariate-methods.html#properties-of-mvn"><i class="fa fa-check"></i><b>18.0.1</b> Properties of MVN</a></li>
<li class="chapter" data-level="18.0.2" data-path="multivariate-methods.html"><a href="multivariate-methods.html#mean-vector-inference"><i class="fa fa-check"></i><b>18.0.2</b> Mean Vector Inference</a></li>
<li class="chapter" data-level="18.0.3" data-path="multivariate-methods.html"><a href="multivariate-methods.html#general-hypothesis-testing"><i class="fa fa-check"></i><b>18.0.3</b> General Hypothesis Testing</a></li>
<li class="chapter" data-level="18.1" data-path="manova.html"><a href="manova.html"><i class="fa fa-check"></i><b>18.1</b> MANOVA</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="manova.html"><a href="manova.html#testing-general-hypotheses"><i class="fa fa-check"></i><b>18.1.1</b> Testing General Hypotheses</a></li>
<li class="chapter" data-level="18.1.2" data-path="manova.html"><a href="manova.html#profile-analysis"><i class="fa fa-check"></i><b>18.1.2</b> Profile Analysis</a></li>
<li class="chapter" data-level="18.1.3" data-path="manova.html"><a href="manova.html#summary-5"><i class="fa fa-check"></i><b>18.1.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="principal-components.html"><a href="principal-components.html"><i class="fa fa-check"></i><b>18.2</b> Principal Components</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="principal-components.html"><a href="principal-components.html#population-principal-components"><i class="fa fa-check"></i><b>18.2.1</b> Population Principal Components</a></li>
<li class="chapter" data-level="18.2.2" data-path="principal-components.html"><a href="principal-components.html#sample-principal-components"><i class="fa fa-check"></i><b>18.2.2</b> Sample Principal Components</a></li>
<li class="chapter" data-level="18.2.3" data-path="principal-components.html"><a href="principal-components.html#application-10"><i class="fa fa-check"></i><b>18.2.3</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="factor-analysis.html"><a href="factor-analysis.html"><i class="fa fa-check"></i><b>18.3</b> Factor Analysis</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="factor-analysis.html"><a href="factor-analysis.html#methods-of-estimation"><i class="fa fa-check"></i><b>18.3.1</b> Methods of Estimation</a></li>
<li class="chapter" data-level="18.3.2" data-path="factor-analysis.html"><a href="factor-analysis.html#factor-rotation"><i class="fa fa-check"></i><b>18.3.2</b> Factor Rotation</a></li>
<li class="chapter" data-level="18.3.3" data-path="factor-analysis.html"><a href="factor-analysis.html#estimation-of-factor-scores"><i class="fa fa-check"></i><b>18.3.3</b> Estimation of Factor Scores</a></li>
<li class="chapter" data-level="18.3.4" data-path="factor-analysis.html"><a href="factor-analysis.html#model-diagnostic"><i class="fa fa-check"></i><b>18.3.4</b> Model Diagnostic</a></li>
<li class="chapter" data-level="18.3.5" data-path="factor-analysis.html"><a href="factor-analysis.html#application-11"><i class="fa fa-check"></i><b>18.3.5</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html"><i class="fa fa-check"></i><b>18.4</b> Discriminant Analysis</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html#known-populations"><i class="fa fa-check"></i><b>18.4.1</b> Known Populations</a></li>
<li class="chapter" data-level="18.4.2" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html#probabilities-of-misclassification"><i class="fa fa-check"></i><b>18.4.2</b> Probabilities of Misclassification</a></li>
<li class="chapter" data-level="18.4.3" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html#unknown-populations-nonparametric-discrimination"><i class="fa fa-check"></i><b>18.4.3</b> Unknown Populations/ Nonparametric Discrimination</a></li>
<li class="chapter" data-level="18.4.4" data-path="discriminant-analysis.html"><a href="discriminant-analysis.html#application-12"><i class="fa fa-check"></i><b>18.4.4</b> Application</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V CAUSAL INFERENCE</b></span></li>
<li class="chapter" data-level="19" data-path="causal-inference.html"><a href="causal-inference.html"><i class="fa fa-check"></i><b>19</b> Causal Inference</a></li>
<li class="chapter" data-level="20" data-path="experimental-design.html"><a href="experimental-design.html"><i class="fa fa-check"></i><b>20</b> Experimental Design</a>
<ul>
<li class="chapter" data-level="20.1" data-path="semi-random-experiment.html"><a href="semi-random-experiment.html"><i class="fa fa-check"></i><b>20.1</b> Semi-random Experiment</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="quasi-experimental.html"><a href="quasi-experimental.html"><i class="fa fa-check"></i><b>21</b> Quasi-experimental</a>
<ul>
<li class="chapter" data-level="21.1" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html"><i class="fa fa-check"></i><b>21.1</b> Regression Discontinuity</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#specification-checks"><i class="fa fa-check"></i><b>21.1.1</b> Specification Checks</a></li>
<li class="chapter" data-level="21.1.2" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#steps-for-sharp-rd"><i class="fa fa-check"></i><b>21.1.2</b> Steps for Sharp RD</a></li>
<li class="chapter" data-level="21.1.3" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#steps-for-fuzzy-rd"><i class="fa fa-check"></i><b>21.1.3</b> Steps for Fuzzy RD</a></li>
<li class="chapter" data-level="21.1.4" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#steps-for-rdit-regression-discontinuity-in-time"><i class="fa fa-check"></i><b>21.1.4</b> Steps for RDiT (Regression Discontinuity in Time)</a></li>
<li class="chapter" data-level="21.1.5" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#evaluation-of-an-rd"><i class="fa fa-check"></i><b>21.1.5</b> Evaluation of an RD</a></li>
<li class="chapter" data-level="21.1.6" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#examples"><i class="fa fa-check"></i><b>21.1.6</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="difference-in-differences.html"><a href="difference-in-differences.html"><i class="fa fa-check"></i><b>21.2</b> Difference-In-Differences</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="difference-in-differences.html"><a href="difference-in-differences.html#simple-dif-n-dif"><i class="fa fa-check"></i><b>21.2.1</b> Simple Dif-n-dif</a></li>
<li class="chapter" data-level="21.2.2" data-path="difference-in-differences.html"><a href="difference-in-differences.html#staggered-dif-n-dif"><i class="fa fa-check"></i><b>21.2.2</b> Staggered Dif-n-dif</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="synthetic-control.html"><a href="synthetic-control.html"><i class="fa fa-check"></i><b>21.3</b> Synthetic Control</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="synthetic-control.html"><a href="synthetic-control.html#example-1-2"><i class="fa fa-check"></i><b>21.3.1</b> Example 1</a></li>
<li class="chapter" data-level="21.3.2" data-path="synthetic-control.html"><a href="synthetic-control.html#example-2-1"><i class="fa fa-check"></i><b>21.3.2</b> Example 2</a></li>
<li class="chapter" data-level="21.3.3" data-path="synthetic-control.html"><a href="synthetic-control.html#example-3-1"><i class="fa fa-check"></i><b>21.3.3</b> Example 3</a></li>
<li class="chapter" data-level="21.3.4" data-path="synthetic-control.html"><a href="synthetic-control.html#example-4-1"><i class="fa fa-check"></i><b>21.3.4</b> Example 4</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="selection-on-observables.html"><a href="selection-on-observables.html"><i class="fa fa-check"></i><b>21.4</b> Selection on observables</a></li>
<li class="chapter" data-level="21.5" data-path="matching-methods.html"><a href="matching-methods.html"><i class="fa fa-check"></i><b>21.5</b> Matching Methods</a>
<ul>
<li class="chapter" data-level="21.5.1" data-path="matching-methods.html"><a href="matching-methods.html#matchit"><i class="fa fa-check"></i><b>21.5.1</b> MatchIt</a></li>
<li class="chapter" data-level="21.5.2" data-path="matching-methods.html"><a href="matching-methods.html#matchingfrontier"><i class="fa fa-check"></i><b>21.5.2</b> MatchingFrontier</a></li>
<li class="chapter" data-level="21.5.3" data-path="matching-methods.html"><a href="matching-methods.html#propensity-scores"><i class="fa fa-check"></i><b>21.5.3</b> Propensity Scores</a></li>
<li class="chapter" data-level="21.5.4" data-path="matching-methods.html"><a href="matching-methods.html#mahalanobis-distance"><i class="fa fa-check"></i><b>21.5.4</b> Mahalanobis Distance</a></li>
<li class="chapter" data-level="21.5.5" data-path="matching-methods.html"><a href="matching-methods.html#coarsened-exact-matching"><i class="fa fa-check"></i><b>21.5.5</b> Coarsened Exact Matching</a></li>
<li class="chapter" data-level="21.5.6" data-path="matching-methods.html"><a href="matching-methods.html#genetic-matching"><i class="fa fa-check"></i><b>21.5.6</b> Genetic Matching</a></li>
<li class="chapter" data-level="21.5.7" data-path="matching-methods.html"><a href="matching-methods.html#matching-for-time-series-cross-section-data"><i class="fa fa-check"></i><b>21.5.7</b> Matching for time series-cross-section data</a></li>
</ul></li>
<li class="chapter" data-level="21.6" data-path="interrupted-time-series.html"><a href="interrupted-time-series.html"><i class="fa fa-check"></i><b>21.6</b> Interrupted Time Series</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="endogeneity.html"><a href="endogeneity.html"><i class="fa fa-check"></i><b>22</b> Endogeneity</a>
<ul>
<li class="chapter" data-level="22.1" data-path="measurement-error.html"><a href="measurement-error.html"><i class="fa fa-check"></i><b>22.1</b> Measurement Error</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="measurement-error.html"><a href="measurement-error.html#classical-measurement-errors"><i class="fa fa-check"></i><b>22.1.1</b> Classical Measurement Errors</a></li>
<li class="chapter" data-level="22.1.2" data-path="measurement-error.html"><a href="measurement-error.html#non-classical-measurement-errors"><i class="fa fa-check"></i><b>22.1.2</b> Non-classical Measurement Errors</a></li>
<li class="chapter" data-level="22.1.3" data-path="measurement-error.html"><a href="measurement-error.html#solution-to-measurement-errors"><i class="fa fa-check"></i><b>22.1.3</b> Solution to Measurement Errors</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="simultaneity.html"><a href="simultaneity.html"><i class="fa fa-check"></i><b>22.2</b> Simultaneity</a></li>
<li class="chapter" data-level="22.3" data-path="endogenous-treatment.html"><a href="endogenous-treatment.html"><i class="fa fa-check"></i><b>22.3</b> Endogenous Treatment</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="endogenous-treatment.html"><a href="endogenous-treatment.html#instrumental-variable"><i class="fa fa-check"></i><b>22.3.1</b> Instrumental Variable</a></li>
<li class="chapter" data-level="22.3.2" data-path="endogenous-treatment.html"><a href="endogenous-treatment.html#internal-instrumental-variable"><i class="fa fa-check"></i><b>22.3.2</b> Internal instrumental variable</a></li>
<li class="chapter" data-level="22.3.3" data-path="endogenous-treatment.html"><a href="endogenous-treatment.html#proxy-variables"><i class="fa fa-check"></i><b>22.3.3</b> Proxy Variables</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="endogenous-sample-selection.html"><a href="endogenous-sample-selection.html"><i class="fa fa-check"></i><b>22.4</b> Endogenous Sample Selection</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="endogenous-sample-selection.html"><a href="endogenous-sample-selection.html#tobit-2"><i class="fa fa-check"></i><b>22.4.1</b> Tobit-2</a></li>
<li class="chapter" data-level="22.4.2" data-path="endogenous-sample-selection.html"><a href="endogenous-sample-selection.html#tobit-5"><i class="fa fa-check"></i><b>22.4.2</b> Tobit-5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="mediation.html"><a href="mediation.html"><i class="fa fa-check"></i><b>23</b> Mediation</a>
<ul>
<li class="chapter" data-level="23.1" data-path="traditional.html"><a href="traditional.html"><i class="fa fa-check"></i><b>23.1</b> Traditional</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="traditional.html"><a href="traditional.html#example-1-mediation-traditional"><i class="fa fa-check"></i><b>23.1.1</b> Example 1</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="model-based-causal-mediation-analysis.html"><a href="model-based-causal-mediation-analysis.html"><i class="fa fa-check"></i><b>23.2</b> Model-based causal mediation analysis</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="directed-acyclic-graph.html"><a href="directed-acyclic-graph.html"><i class="fa fa-check"></i><b>24</b> Directed Acyclic Graph</a></li>
<li class="part"><span><b>VI MISCELLANEOUS</b></span></li>
<li class="chapter" data-level="25" data-path="report.html"><a href="report.html"><i class="fa fa-check"></i><b>25</b> Report</a>
<ul>
<li class="chapter" data-level="25.1" data-path="one-summary-table.html"><a href="one-summary-table.html"><i class="fa fa-check"></i><b>25.1</b> One summary table</a></li>
<li class="chapter" data-level="25.2" data-path="model-comparison.html"><a href="model-comparison.html"><i class="fa fa-check"></i><b>25.2</b> Model Comparison</a></li>
<li class="chapter" data-level="25.3" data-path="changes-in-an-estimate.html"><a href="changes-in-an-estimate.html"><i class="fa fa-check"></i><b>25.3</b> Changes in an estimate</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>26</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="27" data-path="sensitivity-analysis-robustness-check.html"><a href="sensitivity-analysis-robustness-check.html"><i class="fa fa-check"></i><b>27</b> Sensitivity Analysis/ Robustness Check</a>
<ul>
<li class="chapter" data-level="27.1" data-path="specification-curve.html"><a href="specification-curve.html"><i class="fa fa-check"></i><b>27.1</b> Specification curve</a>
<ul>
<li class="chapter" data-level="27.1.1" data-path="specification-curve.html"><a href="specification-curve.html#starbility"><i class="fa fa-check"></i><b>27.1.1</b> starbility</a></li>
<li class="chapter" data-level="27.1.2" data-path="specification-curve.html"><a href="specification-curve.html#rdfanalysis"><i class="fa fa-check"></i><b>27.1.2</b> rdfanalysis</a></li>
</ul></li>
<li class="chapter" data-level="27.2" data-path="coefficient-stability.html"><a href="coefficient-stability.html"><i class="fa fa-check"></i><b>27.2</b> Coefficient stability</a></li>
</ul></li>
<li class="appendix"><span><b>APPENDIX</b></span></li>
<li class="chapter" data-level="A" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>A</b> Appendix</a>
<ul>
<li class="chapter" data-level="A.1" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>A.1</b> Git</a></li>
<li class="chapter" data-level="A.2" data-path="short-cut.html"><a href="short-cut.html"><i class="fa fa-check"></i><b>A.2</b> Short-cut</a></li>
<li class="chapter" data-level="A.3" data-path="function-short-cut.html"><a href="function-short-cut.html"><i class="fa fa-check"></i><b>A.3</b> Function short-cut</a></li>
<li class="chapter" data-level="A.4" data-path="citation.html"><a href="citation.html"><i class="fa fa-check"></i><b>A.4</b> Citation</a></li>
<li class="chapter" data-level="A.5" data-path="install-all-necessary-packageslibaries-on-your-local-machine.html"><a href="install-all-necessary-packageslibaries-on-your-local-machine.html"><i class="fa fa-check"></i><b>A.5</b> Install all necessary packages/libaries on your local machine</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="bookdown-cheat-sheet.html"><a href="bookdown-cheat-sheet.html"><i class="fa fa-check"></i><b>B</b> Bookdown cheat sheet</a>
<ul>
<li class="chapter" data-level="B.1" data-path="operation.html"><a href="operation.html"><i class="fa fa-check"></i><b>B.1</b> Operation</a></li>
<li class="chapter" data-level="B.2" data-path="math-expresssion-syntax.html"><a href="math-expresssion-syntax.html"><i class="fa fa-check"></i><b>B.2</b> Math Expresssion/ Syntax</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="math-expresssion-syntax.html"><a href="math-expresssion-syntax.html#statistics-notation"><i class="fa fa-check"></i><b>B.2.1</b> Statistics Notation</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="table.html"><a href="table.html"><i class="fa fa-check"></i><b>B.3</b> Table</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Guide on Data Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="synthetic-control" class="section level2" number="21.3">
<h2><span class="header-section-number">21.3</span> Synthetic Control</h2>
<p>Examples in marketing:</p>
<ul>
<li><span class="citation">(<a href="#ref-tirunillai2017" role="doc-biblioref">Tirunillai and Tellis 2017</a>)</span>: offline TV ad on Online Chatter</li>
</ul>
<p>Synthetic control method (SCM) is a generalization of the <a href="difference-in-differences.html#difference-in-differences">Difference-In-Differences</a> model</p>
<p>SCMs can also be used under the Bayesian framework where we do not have to impose any restrictive priori <span class="citation">(<a href="#ref-kim2020" role="doc-biblioref">S. Kim, Lee, and Gupta 2020</a>)</span></p>
<p>Advantages over <a href="difference-in-differences.html#difference-in-differences">Difference-In-Differences</a></p>
<ol style="list-style-type: decimal">
<li>Maximization of the observable similarity between control and treatment (maybe also unobservables)</li>
<li>Can also be used in cases where no untreated case with similar on matching dimensions with treated cases</li>
<li>Objective selection of controls.</li>
</ol>
<p>A data driven procedure to construct more comparable control groups (i.e., black box).</p>
<p>To do causal inference with control and treatment group using <a href="matching-methods.html#matching-methods">Matching Methods</a>, you typically have to have similar covariates in the control and the treated groups. However, if you don’t methods like <a href="matching-methods.html#propensity-scores">Propensity Scores</a> and DID can perform rather poorly (i.e., large bias).</p>
<p>SCM is recommended when</p>
<ol style="list-style-type: decimal">
<li>Social events to evaluate large-scale program or policy</li>
<li>Only one treated case with several control candidates.</li>
</ol>
<p>Advantages:</p>
<ol style="list-style-type: decimal">
<li>From the selection criteria, researchers can understand the relative importance of each candidate</li>
<li>Post-intervention outcomes are not used in synthetic. Hence, you can’t retro-fit.</li>
<li>Observable similarity between control and treatment cases is maximized</li>
</ol>
<p><br></p>
<p>Assumptions</p>
<ul>
<li><p>Donor subject is a good match for the synthetic control (i.e., gap between the dependent of the donor subject and that of the synthetic control should be 0 before treatment)</p></li>
<li><p>Only the treated subject undergoes the treatment and not any of the subjects in the donor pool.</p></li>
<li><p>No other changes to the subjects during the whole window.</p></li>
</ul>
<p><code>Synth</code> provides an algorithm that finds weighted combination of the comparison units where the weights are chosen such that it best resembles the values of predictors of the outcome variable for the affected units before the intervention.</p>
<div id="example-1-2" class="section level3" number="21.3.1">
<h3><span class="header-section-number">21.3.1</span> Example 1</h3>
<p>by <a href="https://rpubs.com/danilofreire/synth">Danilo Freire</a></p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="synthetic-control.html#cb374-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;Synth&quot;)</span></span>
<span id="cb374-2"><a href="synthetic-control.html#cb374-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;gsynth&quot;)</span></span>
<span id="cb374-3"><a href="synthetic-control.html#cb374-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;Synth&quot;</span>)</span>
<span id="cb374-4"><a href="synthetic-control.html#cb374-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;gsynth&quot;</span>)</span></code></pre></div>
<p>simulate data for 10 states and 30 years. State A receives the treatment <code>T = 20</code> after year 15.</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="synthetic-control.html#cb375-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb375-2"><a href="synthetic-control.html#cb375-2" aria-hidden="true" tabindex="-1"></a>year         <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>, <span class="dv">10</span>)</span>
<span id="cb375-3"><a href="synthetic-control.html#cb375-3" aria-hidden="true" tabindex="-1"></a>state        <span class="ot">&lt;-</span> <span class="fu">rep</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="at">each =</span> <span class="dv">30</span>)</span>
<span id="cb375-4"><a href="synthetic-control.html#cb375-4" aria-hidden="true" tabindex="-1"></a>X1           <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">rnorm</span>(<span class="dv">300</span>, <span class="at">mean =</span> <span class="dv">2</span>, <span class="at">sd =</span> <span class="dv">1</span>), <span class="dv">2</span>)</span>
<span id="cb375-5"><a href="synthetic-control.html#cb375-5" aria-hidden="true" tabindex="-1"></a>X2           <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">rbinom</span>(<span class="dv">300</span>, <span class="dv">1</span>, <span class="fl">0.5</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">300</span>), <span class="dv">2</span>)</span>
<span id="cb375-6"><a href="synthetic-control.html#cb375-6" aria-hidden="true" tabindex="-1"></a>Y            <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> X1 <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">300</span>), <span class="dv">2</span>)</span>
<span id="cb375-7"><a href="synthetic-control.html#cb375-7" aria-hidden="true" tabindex="-1"></a>df           <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(Y, X1, X2, state, year))</span>
<span id="cb375-8"><a href="synthetic-control.html#cb375-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Y         <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(df<span class="sc">$</span>Y))</span>
<span id="cb375-9"><a href="synthetic-control.html#cb375-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>X1        <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(df<span class="sc">$</span>X1))</span>
<span id="cb375-10"><a href="synthetic-control.html#cb375-10" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>X2        <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(df<span class="sc">$</span>X2))</span>
<span id="cb375-11"><a href="synthetic-control.html#cb375-11" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>year      <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(df<span class="sc">$</span>year))</span>
<span id="cb375-12"><a href="synthetic-control.html#cb375-12" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>state.num <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">each =</span> <span class="dv">30</span>)</span>
<span id="cb375-13"><a href="synthetic-control.html#cb375-13" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>state     <span class="ot">&lt;-</span> <span class="fu">as.character</span>(df<span class="sc">$</span>state)</span>
<span id="cb375-14"><a href="synthetic-control.html#cb375-14" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span><span class="st">`</span><span class="at">T</span><span class="st">`</span>       <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>state <span class="sc">==</span> <span class="st">&quot;A&quot;</span> <span class="sc">&amp;</span> df<span class="sc">$</span>year <span class="sc">&gt;=</span> <span class="dv">15</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb375-15"><a href="synthetic-control.html#cb375-15" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Y         <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>state <span class="sc">==</span> <span class="st">&quot;A&quot;</span> <span class="sc">&amp;</span> df<span class="sc">$</span>year <span class="sc">&gt;=</span> <span class="dv">15</span>, df<span class="sc">$</span>Y <span class="sc">+</span> <span class="dv">20</span>, df<span class="sc">$</span>Y)</span></code></pre></div>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="synthetic-control.html#cb376-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span>
<span id="cb376-2"><a href="synthetic-control.html#cb376-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    300 obs. of  7 variables:</span></span>
<span id="cb376-3"><a href="synthetic-control.html#cb376-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ Y        : num  2.29 4.51 2.07 8.87 4.37 1.32 8 7.49 6.98 3.72 ...</span></span>
<span id="cb376-4"><a href="synthetic-control.html#cb376-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ X1       : num  1.37 2.18 1.16 3.6 2.33 1.18 2.49 2.74 2.58 1.69 ...</span></span>
<span id="cb376-5"><a href="synthetic-control.html#cb376-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ X2       : num  1.96 0.4 -0.75 -0.56 -0.45 1.06 0.51 -2.1 0 0.54 ...</span></span>
<span id="cb376-6"><a href="synthetic-control.html#cb376-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ state    : chr  &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; ...</span></span>
<span id="cb376-7"><a href="synthetic-control.html#cb376-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ year     : num  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span id="cb376-8"><a href="synthetic-control.html#cb376-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ state.num: int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb376-9"><a href="synthetic-control.html#cb376-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ T        : num  0 0 0 0 0 0 0 0 0 0 ...</span></span></code></pre></div>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="synthetic-control.html#cb377-1" aria-hidden="true" tabindex="-1"></a>dataprep.out <span class="ot">&lt;-</span></span>
<span id="cb377-2"><a href="synthetic-control.html#cb377-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dataprep</span>(</span>
<span id="cb377-3"><a href="synthetic-control.html#cb377-3" aria-hidden="true" tabindex="-1"></a>        df,</span>
<span id="cb377-4"><a href="synthetic-control.html#cb377-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">predictors =</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;X2&quot;</span>),</span>
<span id="cb377-5"><a href="synthetic-control.html#cb377-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">dependent     =</span> <span class="st">&quot;Y&quot;</span>,</span>
<span id="cb377-6"><a href="synthetic-control.html#cb377-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">unit.variable =</span> <span class="st">&quot;state.num&quot;</span>,</span>
<span id="cb377-7"><a href="synthetic-control.html#cb377-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">time.variable =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb377-8"><a href="synthetic-control.html#cb377-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">unit.names.variable =</span> <span class="st">&quot;state&quot;</span>,</span>
<span id="cb377-9"><a href="synthetic-control.html#cb377-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">treatment.identifier  =</span> <span class="dv">1</span>,</span>
<span id="cb377-10"><a href="synthetic-control.html#cb377-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">controls.identifier   =</span> <span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">10</span>),</span>
<span id="cb377-11"><a href="synthetic-control.html#cb377-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">time.predictors.prior =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">14</span>),</span>
<span id="cb377-12"><a href="synthetic-control.html#cb377-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">time.optimize.ssr     =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">14</span>),</span>
<span id="cb377-13"><a href="synthetic-control.html#cb377-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">time.plot             =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>)</span>
<span id="cb377-14"><a href="synthetic-control.html#cb377-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb377-15"><a href="synthetic-control.html#cb377-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb377-16"><a href="synthetic-control.html#cb377-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb377-17"><a href="synthetic-control.html#cb377-17" aria-hidden="true" tabindex="-1"></a>synth.out <span class="ot">&lt;-</span> <span class="fu">synth</span>(dataprep.out)</span>
<span id="cb377-18"><a href="synthetic-control.html#cb377-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb377-19"><a href="synthetic-control.html#cb377-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; X1, X0, Z1, Z0 all come directly from dataprep object.</span></span>
<span id="cb377-20"><a href="synthetic-control.html#cb377-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb377-21"><a href="synthetic-control.html#cb377-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb377-22"><a href="synthetic-control.html#cb377-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb377-23"><a href="synthetic-control.html#cb377-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  searching for synthetic control unit  </span></span>
<span id="cb377-24"><a href="synthetic-control.html#cb377-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  </span></span>
<span id="cb377-25"><a href="synthetic-control.html#cb377-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb377-26"><a href="synthetic-control.html#cb377-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb377-27"><a href="synthetic-control.html#cb377-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb377-28"><a href="synthetic-control.html#cb377-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb377-29"><a href="synthetic-control.html#cb377-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb377-30"><a href="synthetic-control.html#cb377-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; MSPE (LOSS V): 9.831789 </span></span>
<span id="cb377-31"><a href="synthetic-control.html#cb377-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb377-32"><a href="synthetic-control.html#cb377-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; solution.v:</span></span>
<span id="cb377-33"><a href="synthetic-control.html#cb377-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.3888387 0.6111613 </span></span>
<span id="cb377-34"><a href="synthetic-control.html#cb377-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb377-35"><a href="synthetic-control.html#cb377-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; solution.w:</span></span>
<span id="cb377-36"><a href="synthetic-control.html#cb377-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.1115941 0.1832781 0.1027237 0.312091 0.06096758 0.03509706 0.05893735 0.05746256 0.07784853</span></span></code></pre></div>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="synthetic-control.html#cb378-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(synth.tables   <span class="ot">&lt;-</span> <span class="fu">synth.tab</span>(</span>
<span id="cb378-2"><a href="synthetic-control.html#cb378-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">dataprep.res =</span> dataprep.out,</span>
<span id="cb378-3"><a href="synthetic-control.html#cb378-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">synth.res    =</span> synth.out)</span>
<span id="cb378-4"><a href="synthetic-control.html#cb378-4" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb378-5"><a href="synthetic-control.html#cb378-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $tab.pred</span></span>
<span id="cb378-6"><a href="synthetic-control.html#cb378-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Treated Synthetic Sample Mean</span></span>
<span id="cb378-7"><a href="synthetic-control.html#cb378-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; X1   2.028     2.028       2.017</span></span>
<span id="cb378-8"><a href="synthetic-control.html#cb378-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; X2   0.513     0.513       0.394</span></span>
<span id="cb378-9"><a href="synthetic-control.html#cb378-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb378-10"><a href="synthetic-control.html#cb378-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $tab.v</span></span>
<span id="cb378-11"><a href="synthetic-control.html#cb378-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    v.weights</span></span>
<span id="cb378-12"><a href="synthetic-control.html#cb378-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; X1 0.389    </span></span>
<span id="cb378-13"><a href="synthetic-control.html#cb378-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; X2 0.611    </span></span>
<span id="cb378-14"><a href="synthetic-control.html#cb378-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb378-15"><a href="synthetic-control.html#cb378-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $tab.w</span></span>
<span id="cb378-16"><a href="synthetic-control.html#cb378-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    w.weights unit.names unit.numbers</span></span>
<span id="cb378-17"><a href="synthetic-control.html#cb378-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2      0.112          B            2</span></span>
<span id="cb378-18"><a href="synthetic-control.html#cb378-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3      0.183          C            3</span></span>
<span id="cb378-19"><a href="synthetic-control.html#cb378-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4      0.103          D            4</span></span>
<span id="cb378-20"><a href="synthetic-control.html#cb378-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5      0.312          E            5</span></span>
<span id="cb378-21"><a href="synthetic-control.html#cb378-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6      0.061          F            6</span></span>
<span id="cb378-22"><a href="synthetic-control.html#cb378-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7      0.035          G            7</span></span>
<span id="cb378-23"><a href="synthetic-control.html#cb378-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8      0.059          H            8</span></span>
<span id="cb378-24"><a href="synthetic-control.html#cb378-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9      0.057          I            9</span></span>
<span id="cb378-25"><a href="synthetic-control.html#cb378-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10     0.078          J           10</span></span>
<span id="cb378-26"><a href="synthetic-control.html#cb378-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb378-27"><a href="synthetic-control.html#cb378-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $tab.loss</span></span>
<span id="cb378-28"><a href="synthetic-control.html#cb378-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            Loss W   Loss V</span></span>
<span id="cb378-29"><a href="synthetic-control.html#cb378-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 9.761708e-12 9.831789</span></span></code></pre></div>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="synthetic-control.html#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="fu">path.plot</span>(<span class="at">synth.res    =</span> synth.out,</span>
<span id="cb379-2"><a href="synthetic-control.html#cb379-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">dataprep.res =</span> dataprep.out,</span>
<span id="cb379-3"><a href="synthetic-control.html#cb379-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">Ylab         =</span> <span class="fu">c</span>(<span class="st">&quot;Y&quot;</span>),</span>
<span id="cb379-4"><a href="synthetic-control.html#cb379-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">Xlab         =</span> <span class="fu">c</span>(<span class="st">&quot;Year&quot;</span>),</span>
<span id="cb379-5"><a href="synthetic-control.html#cb379-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">Legend       =</span> <span class="fu">c</span>(<span class="st">&quot;State A&quot;</span>,<span class="st">&quot;Synthetic State A&quot;</span>),</span>
<span id="cb379-6"><a href="synthetic-control.html#cb379-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">Legend.position =</span> <span class="fu">c</span>(<span class="st">&quot;topleft&quot;</span>)</span>
<span id="cb379-7"><a href="synthetic-control.html#cb379-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb379-8"><a href="synthetic-control.html#cb379-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-9"><a href="synthetic-control.html#cb379-9" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v   =</span> <span class="dv">15</span>,</span>
<span id="cb379-10"><a href="synthetic-control.html#cb379-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-17-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Gaps plot:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="synthetic-control.html#cb380-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gaps.plot</span>(<span class="at">synth.res    =</span> synth.out,</span>
<span id="cb380-2"><a href="synthetic-control.html#cb380-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">dataprep.res =</span> dataprep.out,</span>
<span id="cb380-3"><a href="synthetic-control.html#cb380-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">Ylab         =</span> <span class="fu">c</span>(<span class="st">&quot;Gap&quot;</span>),</span>
<span id="cb380-4"><a href="synthetic-control.html#cb380-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">Xlab         =</span> <span class="fu">c</span>(<span class="st">&quot;Year&quot;</span>),</span>
<span id="cb380-5"><a href="synthetic-control.html#cb380-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">Ylim         =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">30</span>, <span class="dv">30</span>),</span>
<span id="cb380-6"><a href="synthetic-control.html#cb380-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">Main         =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb380-7"><a href="synthetic-control.html#cb380-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb380-8"><a href="synthetic-control.html#cb380-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb380-9"><a href="synthetic-control.html#cb380-9" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v   =</span> <span class="dv">15</span>,</span>
<span id="cb380-10"><a href="synthetic-control.html#cb380-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-18-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Alternatively, <code>gsynth</code> provides options to estimate iterative fixed effects, and handle multiple treated units at tat time.</p>
<p>Here, we use two=way fixed effects and bootstrapped standard errors</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="synthetic-control.html#cb381-1" aria-hidden="true" tabindex="-1"></a>gsynth.out <span class="ot">&lt;-</span> <span class="fu">gsynth</span>(</span>
<span id="cb381-2"><a href="synthetic-control.html#cb381-2" aria-hidden="true" tabindex="-1"></a>  Y <span class="sc">~</span> <span class="st">`</span><span class="at">T</span><span class="st">`</span> <span class="sc">+</span> X1 <span class="sc">+</span> X2,</span>
<span id="cb381-3"><a href="synthetic-control.html#cb381-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> df,</span>
<span id="cb381-4"><a href="synthetic-control.html#cb381-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">index =</span> <span class="fu">c</span>(<span class="st">&quot;state&quot;</span>, <span class="st">&quot;year&quot;</span>),</span>
<span id="cb381-5"><a href="synthetic-control.html#cb381-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">force =</span> <span class="st">&quot;two-way&quot;</span>,</span>
<span id="cb381-6"><a href="synthetic-control.html#cb381-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">CV =</span> <span class="cn">TRUE</span>,</span>
<span id="cb381-7"><a href="synthetic-control.html#cb381-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">r =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>),</span>
<span id="cb381-8"><a href="synthetic-control.html#cb381-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb381-9"><a href="synthetic-control.html#cb381-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">inference =</span> <span class="st">&quot;parametric&quot;</span>,</span>
<span id="cb381-10"><a href="synthetic-control.html#cb381-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">nboots =</span> <span class="dv">1000</span>,</span>
<span id="cb381-11"><a href="synthetic-control.html#cb381-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">parallel =</span> F <span class="co"># TRUE</span></span>
<span id="cb381-12"><a href="synthetic-control.html#cb381-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb381-13"><a href="synthetic-control.html#cb381-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Cross-validating ... </span></span>
<span id="cb381-14"><a href="synthetic-control.html#cb381-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  r = 0; sigma2 = 1.13533; IC = 0.95632; PC = 0.96713; MSPE = 1.65502</span></span>
<span id="cb381-15"><a href="synthetic-control.html#cb381-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  r = 1; sigma2 = 0.96885; IC = 1.54420; PC = 4.30644; MSPE = 1.33375</span></span>
<span id="cb381-16"><a href="synthetic-control.html#cb381-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  r = 2; sigma2 = 0.81855; IC = 2.08062; PC = 6.58556; MSPE = 1.27341*</span></span>
<span id="cb381-17"><a href="synthetic-control.html#cb381-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  r = 3; sigma2 = 0.71670; IC = 2.61125; PC = 8.35187; MSPE = 1.79319</span></span>
<span id="cb381-18"><a href="synthetic-control.html#cb381-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  r = 4; sigma2 = 0.62823; IC = 3.10156; PC = 9.59221; MSPE = 2.02301</span></span>
<span id="cb381-19"><a href="synthetic-control.html#cb381-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  r = 5; sigma2 = 0.55497; IC = 3.55814; PC = 10.48406; MSPE = 2.79596</span></span>
<span id="cb381-20"><a href="synthetic-control.html#cb381-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb381-21"><a href="synthetic-control.html#cb381-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  r* = 2</span></span>
<span id="cb381-22"><a href="synthetic-control.html#cb381-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb381-23"><a href="synthetic-control.html#cb381-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb381-24"><a href="synthetic-control.html#cb381-24" aria-hidden="true" tabindex="-1"></a>Simulating errors .............</span>
<span id="cb381-25"><a href="synthetic-control.html#cb381-25" aria-hidden="true" tabindex="-1"></a>Bootstrapping ...</span>
<span id="cb381-26"><a href="synthetic-control.html#cb381-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ..........</span></span></code></pre></div>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="synthetic-control.html#cb382-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gsynth.out)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-20-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="synthetic-control.html#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gsynth.out, <span class="at">type =</span> <span class="st">&quot;counterfactual&quot;</span>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-21-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="synthetic-control.html#cb384-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gsynth.out, <span class="at">type =</span> <span class="st">&quot;counterfactual&quot;</span>, <span class="at">raw =</span> <span class="st">&quot;all&quot;</span>) <span class="co"># shows estimations for the control cases</span></span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-22-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="example-2-1" class="section level3" number="21.3.2">
<h3><span class="header-section-number">21.3.2</span> Example 2</h3>
<p>by <a href="https://towardsdatascience.com/causal-inference-using-synthetic-control-the-ultimate-guide-a622ad5cf827">Leihua Ye</a></p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="synthetic-control.html#cb385-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb385-2"><a href="synthetic-control.html#cb385-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Synth)</span>
<span id="cb385-3"><a href="synthetic-control.html#cb385-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;basque&quot;</span>)</span>
<span id="cb385-4"><a href="synthetic-control.html#cb385-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(basque) <span class="co">#774*17</span></span>
<span id="cb385-5"><a href="synthetic-control.html#cb385-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 774  17</span></span>
<span id="cb385-6"><a href="synthetic-control.html#cb385-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(basque)</span>
<span id="cb385-7"><a href="synthetic-control.html#cb385-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   regionno     regionname year   gdpcap sec.agriculture sec.energy sec.industry</span></span>
<span id="cb385-8"><a href="synthetic-control.html#cb385-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1        1 Spain (Espana) 1955 2.354542              NA         NA           NA</span></span>
<span id="cb385-9"><a href="synthetic-control.html#cb385-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2        1 Spain (Espana) 1956 2.480149              NA         NA           NA</span></span>
<span id="cb385-10"><a href="synthetic-control.html#cb385-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3        1 Spain (Espana) 1957 2.603613              NA         NA           NA</span></span>
<span id="cb385-11"><a href="synthetic-control.html#cb385-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4        1 Spain (Espana) 1958 2.637104              NA         NA           NA</span></span>
<span id="cb385-12"><a href="synthetic-control.html#cb385-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5        1 Spain (Espana) 1959 2.669880              NA         NA           NA</span></span>
<span id="cb385-13"><a href="synthetic-control.html#cb385-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6        1 Spain (Espana) 1960 2.869966              NA         NA           NA</span></span>
<span id="cb385-14"><a href="synthetic-control.html#cb385-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sec.construction sec.services.venta sec.services.nonventa school.illit</span></span>
<span id="cb385-15"><a href="synthetic-control.html#cb385-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1               NA                 NA                    NA           NA</span></span>
<span id="cb385-16"><a href="synthetic-control.html#cb385-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2               NA                 NA                    NA           NA</span></span>
<span id="cb385-17"><a href="synthetic-control.html#cb385-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3               NA                 NA                    NA           NA</span></span>
<span id="cb385-18"><a href="synthetic-control.html#cb385-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4               NA                 NA                    NA           NA</span></span>
<span id="cb385-19"><a href="synthetic-control.html#cb385-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5               NA                 NA                    NA           NA</span></span>
<span id="cb385-20"><a href="synthetic-control.html#cb385-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6               NA                 NA                    NA           NA</span></span>
<span id="cb385-21"><a href="synthetic-control.html#cb385-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   school.prim school.med school.high school.post.high popdens invest</span></span>
<span id="cb385-22"><a href="synthetic-control.html#cb385-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          NA         NA          NA               NA      NA     NA</span></span>
<span id="cb385-23"><a href="synthetic-control.html#cb385-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          NA         NA          NA               NA      NA     NA</span></span>
<span id="cb385-24"><a href="synthetic-control.html#cb385-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          NA         NA          NA               NA      NA     NA</span></span>
<span id="cb385-25"><a href="synthetic-control.html#cb385-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          NA         NA          NA               NA      NA     NA</span></span>
<span id="cb385-26"><a href="synthetic-control.html#cb385-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5          NA         NA          NA               NA      NA     NA</span></span>
<span id="cb385-27"><a href="synthetic-control.html#cb385-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6          NA         NA          NA               NA      NA     NA</span></span></code></pre></div>
<p>transform data to be used in <code>synth()</code></p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="synthetic-control.html#cb386-1" aria-hidden="true" tabindex="-1"></a>dataprep.out <span class="ot">&lt;-</span> <span class="fu">dataprep</span>(</span>
<span id="cb386-2"><a href="synthetic-control.html#cb386-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">foo =</span> basque,</span>
<span id="cb386-3"><a href="synthetic-control.html#cb386-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">predictors =</span> <span class="fu">c</span>(</span>
<span id="cb386-4"><a href="synthetic-control.html#cb386-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.illit&quot;</span>,</span>
<span id="cb386-5"><a href="synthetic-control.html#cb386-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.prim&quot;</span>,</span>
<span id="cb386-6"><a href="synthetic-control.html#cb386-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.med&quot;</span>,</span>
<span id="cb386-7"><a href="synthetic-control.html#cb386-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.high&quot;</span>,</span>
<span id="cb386-8"><a href="synthetic-control.html#cb386-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.post.high&quot;</span>,</span>
<span id="cb386-9"><a href="synthetic-control.html#cb386-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;invest&quot;</span></span>
<span id="cb386-10"><a href="synthetic-control.html#cb386-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb386-11"><a href="synthetic-control.html#cb386-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">predictors.op =</span>  <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb386-12"><a href="synthetic-control.html#cb386-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the operator</span></span>
<span id="cb386-13"><a href="synthetic-control.html#cb386-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">time.predictors.prior =</span> <span class="dv">1964</span><span class="sc">:</span><span class="dv">1969</span>,</span>
<span id="cb386-14"><a href="synthetic-control.html#cb386-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#the entire time frame from the #beginning to the end</span></span>
<span id="cb386-15"><a href="synthetic-control.html#cb386-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">special.predictors =</span> <span class="fu">list</span>(</span>
<span id="cb386-16"><a href="synthetic-control.html#cb386-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;gdpcap&quot;</span>, <span class="dv">1960</span><span class="sc">:</span><span class="dv">1969</span>,  <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb386-17"><a href="synthetic-control.html#cb386-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.agriculture&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb386-18"><a href="synthetic-control.html#cb386-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.energy&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb386-19"><a href="synthetic-control.html#cb386-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.industry&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb386-20"><a href="synthetic-control.html#cb386-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.construction&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb386-21"><a href="synthetic-control.html#cb386-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.services.venta&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb386-22"><a href="synthetic-control.html#cb386-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.services.nonventa&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb386-23"><a href="synthetic-control.html#cb386-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;popdens&quot;</span>, <span class="dv">1969</span>,  <span class="st">&quot;mean&quot;</span>)</span>
<span id="cb386-24"><a href="synthetic-control.html#cb386-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb386-25"><a href="synthetic-control.html#cb386-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">dependent =</span>  <span class="st">&quot;gdpcap&quot;</span>,</span>
<span id="cb386-26"><a href="synthetic-control.html#cb386-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># dv</span></span>
<span id="cb386-27"><a href="synthetic-control.html#cb386-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">unit.variable =</span>  <span class="st">&quot;regionno&quot;</span>,</span>
<span id="cb386-28"><a href="synthetic-control.html#cb386-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">#identifying unit numbers</span></span>
<span id="cb386-29"><a href="synthetic-control.html#cb386-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">unit.names.variable =</span>  <span class="st">&quot;regionname&quot;</span>,</span>
<span id="cb386-30"><a href="synthetic-control.html#cb386-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#identifying unit names</span></span>
<span id="cb386-31"><a href="synthetic-control.html#cb386-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">time.variable =</span>  <span class="st">&quot;year&quot;</span>,</span>
<span id="cb386-32"><a href="synthetic-control.html#cb386-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#time-periods</span></span>
<span id="cb386-33"><a href="synthetic-control.html#cb386-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">treatment.identifier =</span> <span class="dv">17</span>,</span>
<span id="cb386-34"><a href="synthetic-control.html#cb386-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">#the treated case</span></span>
<span id="cb386-35"><a href="synthetic-control.html#cb386-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">controls.identifier =</span> <span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">18</span>),</span>
<span id="cb386-36"><a href="synthetic-control.html#cb386-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">#the control cases; all others #except number 17</span></span>
<span id="cb386-37"><a href="synthetic-control.html#cb386-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">time.optimize.ssr =</span> <span class="dv">1960</span><span class="sc">:</span><span class="dv">1969</span>,</span>
<span id="cb386-38"><a href="synthetic-control.html#cb386-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#the time-period over which to optimize</span></span>
<span id="cb386-39"><a href="synthetic-control.html#cb386-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">time.plot =</span> <span class="dv">1955</span><span class="sc">:</span><span class="dv">1997</span></span>
<span id="cb386-40"><a href="synthetic-control.html#cb386-40" aria-hidden="true" tabindex="-1"></a>)<span class="co">#the entire time period before/after the treatment</span></span></code></pre></div>
<p>where</p>
<ul>
<li><p>X1 = the control case before the treatment</p></li>
<li><p>X0 = the control cases after the treatment</p></li>
<li><p>Z1: the treatment case before the treatment</p></li>
<li><p>Z0: the treatment case after the treatment</p></li>
</ul>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="synthetic-control.html#cb387-1" aria-hidden="true" tabindex="-1"></a>synth.out <span class="ot">=</span> <span class="fu">synth</span>(<span class="at">data.prep.obj =</span> dataprep.out, <span class="at">method =</span> <span class="st">&quot;BFGS&quot;</span>)</span>
<span id="cb387-2"><a href="synthetic-control.html#cb387-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb387-3"><a href="synthetic-control.html#cb387-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; X1, X0, Z1, Z0 all come directly from dataprep object.</span></span>
<span id="cb387-4"><a href="synthetic-control.html#cb387-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb387-5"><a href="synthetic-control.html#cb387-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb387-6"><a href="synthetic-control.html#cb387-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb387-7"><a href="synthetic-control.html#cb387-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  searching for synthetic control unit  </span></span>
<span id="cb387-8"><a href="synthetic-control.html#cb387-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  </span></span>
<span id="cb387-9"><a href="synthetic-control.html#cb387-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb387-10"><a href="synthetic-control.html#cb387-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb387-11"><a href="synthetic-control.html#cb387-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb387-12"><a href="synthetic-control.html#cb387-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb387-13"><a href="synthetic-control.html#cb387-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb387-14"><a href="synthetic-control.html#cb387-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; MSPE (LOSS V): 0.008864606 </span></span>
<span id="cb387-15"><a href="synthetic-control.html#cb387-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb387-16"><a href="synthetic-control.html#cb387-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; solution.v:</span></span>
<span id="cb387-17"><a href="synthetic-control.html#cb387-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.02773094 1.194e-07 1.60609e-05 0.0007163836 1.486e-07 0.002423908 0.0587055 0.2651997 0.02851006 0.291276 0.007994382 0.004053188 0.009398579 0.303975 </span></span>
<span id="cb387-18"><a href="synthetic-control.html#cb387-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb387-19"><a href="synthetic-control.html#cb387-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; solution.w:</span></span>
<span id="cb387-20"><a href="synthetic-control.html#cb387-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2.53e-08 4.63e-08 6.44e-08 2.81e-08 3.37e-08 4.844e-07 4.2e-08 4.69e-08 0.8508145 9.75e-08 3.2e-08 5.54e-08 0.1491843 4.86e-08 9.89e-08 1.162e-07</span></span></code></pre></div>
<p>Calculate the difference between the real basque region and the synthetic control</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="synthetic-control.html#cb388-1" aria-hidden="true" tabindex="-1"></a>gaps <span class="ot">=</span> dataprep.out<span class="sc">$</span>Y1plot <span class="sc">-</span> (dataprep.out<span class="sc">$</span>Y0plot </span>
<span id="cb388-2"><a href="synthetic-control.html#cb388-2" aria-hidden="true" tabindex="-1"></a>                                     <span class="sc">%*%</span> synth.out<span class="sc">$</span>solution.w)</span>
<span id="cb388-3"><a href="synthetic-control.html#cb388-3" aria-hidden="true" tabindex="-1"></a>gaps[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">1</span>]</span>
<span id="cb388-4"><a href="synthetic-control.html#cb388-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       1955       1956       1957 </span></span>
<span id="cb388-5"><a href="synthetic-control.html#cb388-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0.15023473 0.09168035 0.03716475</span></span></code></pre></div>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="synthetic-control.html#cb389-1" aria-hidden="true" tabindex="-1"></a>synth.tables <span class="ot">=</span> <span class="fu">synth.tab</span>(<span class="at">dataprep.res =</span> dataprep.out,</span>
<span id="cb389-2"><a href="synthetic-control.html#cb389-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">synth.res =</span> synth.out)</span>
<span id="cb389-3"><a href="synthetic-control.html#cb389-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(synth.tables)</span>
<span id="cb389-4"><a href="synthetic-control.html#cb389-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tab.pred&quot; &quot;tab.v&quot;    &quot;tab.w&quot;    &quot;tab.loss&quot;</span></span>
<span id="cb389-5"><a href="synthetic-control.html#cb389-5" aria-hidden="true" tabindex="-1"></a>synth.tables<span class="sc">$</span>tab.pred[<span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>,]</span>
<span id="cb389-6"><a href="synthetic-control.html#cb389-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                          Treated Synthetic Sample Mean</span></span>
<span id="cb389-7"><a href="synthetic-control.html#cb389-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; school.illit                              39.888   256.337     170.786</span></span>
<span id="cb389-8"><a href="synthetic-control.html#cb389-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; school.prim                             1031.742  2730.104    1127.186</span></span>
<span id="cb389-9"><a href="synthetic-control.html#cb389-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; school.med                                90.359   223.340      76.260</span></span>
<span id="cb389-10"><a href="synthetic-control.html#cb389-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; school.high                               25.728    63.437      24.235</span></span>
<span id="cb389-11"><a href="synthetic-control.html#cb389-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; school.post.high                          13.480    36.153      13.478</span></span>
<span id="cb389-12"><a href="synthetic-control.html#cb389-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; invest                                    24.647    21.583      21.424</span></span>
<span id="cb389-13"><a href="synthetic-control.html#cb389-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; special.gdpcap.1960.1969                   5.285     5.271       3.581</span></span>
<span id="cb389-14"><a href="synthetic-control.html#cb389-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; special.sec.agriculture.1961.1969          6.844     6.179      21.353</span></span>
<span id="cb389-15"><a href="synthetic-control.html#cb389-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; special.sec.energy.1961.1969               4.106     2.760       5.310</span></span>
<span id="cb389-16"><a href="synthetic-control.html#cb389-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; special.sec.industry.1961.1969            45.082    37.636      22.425</span></span>
<span id="cb389-17"><a href="synthetic-control.html#cb389-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; special.sec.construction.1961.1969         6.150     6.952       7.276</span></span>
<span id="cb389-18"><a href="synthetic-control.html#cb389-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; special.sec.services.venta.1961.1969      33.754    41.104      36.528</span></span>
<span id="cb389-19"><a href="synthetic-control.html#cb389-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; special.sec.services.nonventa.1961.1969    4.072     5.371       7.111</span></span></code></pre></div>
<p>Relative importance of each unit</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="synthetic-control.html#cb390-1" aria-hidden="true" tabindex="-1"></a>synth.tables<span class="sc">$</span>tab.w[<span class="dv">8</span><span class="sc">:</span><span class="dv">14</span>, ]</span>
<span id="cb390-2"><a href="synthetic-control.html#cb390-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    w.weights            unit.names unit.numbers</span></span>
<span id="cb390-3"><a href="synthetic-control.html#cb390-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9      0.000    Castilla-La Mancha            9</span></span>
<span id="cb390-4"><a href="synthetic-control.html#cb390-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10     0.851              Cataluna           10</span></span>
<span id="cb390-5"><a href="synthetic-control.html#cb390-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11     0.000  Comunidad Valenciana           11</span></span>
<span id="cb390-6"><a href="synthetic-control.html#cb390-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12     0.000           Extremadura           12</span></span>
<span id="cb390-7"><a href="synthetic-control.html#cb390-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13     0.000               Galicia           13</span></span>
<span id="cb390-8"><a href="synthetic-control.html#cb390-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14     0.149 Madrid (Comunidad De)           14</span></span>
<span id="cb390-9"><a href="synthetic-control.html#cb390-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15     0.000    Murcia (Region de)           15</span></span></code></pre></div>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="synthetic-control.html#cb391-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the changes before and after the treatment </span></span>
<span id="cb391-2"><a href="synthetic-control.html#cb391-2" aria-hidden="true" tabindex="-1"></a><span class="fu">path.plot</span>(</span>
<span id="cb391-3"><a href="synthetic-control.html#cb391-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">synth.res =</span> synth.out,</span>
<span id="cb391-4"><a href="synthetic-control.html#cb391-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">dataprep.res =</span> dataprep.out,</span>
<span id="cb391-5"><a href="synthetic-control.html#cb391-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ylab =</span> <span class="st">&quot;real per-capita gdp (1986 USD, thousand)&quot;</span>,</span>
<span id="cb391-6"><a href="synthetic-control.html#cb391-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xlab =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb391-7"><a href="synthetic-control.html#cb391-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">12</span>),</span>
<span id="cb391-8"><a href="synthetic-control.html#cb391-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Legend =</span> <span class="fu">c</span>(<span class="st">&quot;Basque country&quot;</span>,</span>
<span id="cb391-9"><a href="synthetic-control.html#cb391-9" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;synthetic Basque country&quot;</span>),</span>
<span id="cb391-10"><a href="synthetic-control.html#cb391-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Legend.position =</span> <span class="st">&quot;bottomright&quot;</span></span>
<span id="cb391-11"><a href="synthetic-control.html#cb391-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-29-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="synthetic-control.html#cb392-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gaps.plot</span>(</span>
<span id="cb392-2"><a href="synthetic-control.html#cb392-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">synth.res =</span> synth.out,</span>
<span id="cb392-3"><a href="synthetic-control.html#cb392-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">dataprep.res =</span> dataprep.out,</span>
<span id="cb392-4"><a href="synthetic-control.html#cb392-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ylab =</span>  <span class="st">&quot;gap in real per - capita GDP (1986 USD, thousand)&quot;</span>,</span>
<span id="cb392-5"><a href="synthetic-control.html#cb392-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xlab =</span>  <span class="st">&quot;year&quot;</span>,</span>
<span id="cb392-6"><a href="synthetic-control.html#cb392-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>, <span class="fl">1.5</span>),</span>
<span id="cb392-7"><a href="synthetic-control.html#cb392-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Main =</span> <span class="cn">NA</span></span>
<span id="cb392-8"><a href="synthetic-control.html#cb392-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-30-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Doubly Robust Difference-in-Differences</p>
<p>Example from <code>DRDID</code> package</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="synthetic-control.html#cb393-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DRDID)</span>
<span id="cb393-2"><a href="synthetic-control.html#cb393-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(nsw_long)</span>
<span id="cb393-3"><a href="synthetic-control.html#cb393-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Form the Lalonde sample with CPS comparison group</span></span>
<span id="cb393-4"><a href="synthetic-control.html#cb393-4" aria-hidden="true" tabindex="-1"></a>eval_lalonde_cps <span class="ot">&lt;-</span> <span class="fu">subset</span>(nsw_long, nsw_long<span class="sc">$</span>treated <span class="sc">==</span> <span class="dv">0</span> <span class="sc">|</span> nsw_long<span class="sc">$</span>sample <span class="sc">==</span> <span class="dv">2</span>)</span></code></pre></div>
<p>Estimate Average Treatment Effect on Treated using Improved Locally Efficient Doubly Robust DID estimator</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="synthetic-control.html#cb394-1" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span></span>
<span id="cb394-2"><a href="synthetic-control.html#cb394-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drdid</span>(</span>
<span id="cb394-3"><a href="synthetic-control.html#cb394-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">yname =</span> <span class="st">&quot;re&quot;</span>,</span>
<span id="cb394-4"><a href="synthetic-control.html#cb394-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">tname =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb394-5"><a href="synthetic-control.html#cb394-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">idname =</span> <span class="st">&quot;id&quot;</span>,</span>
<span id="cb394-6"><a href="synthetic-control.html#cb394-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">dname =</span> <span class="st">&quot;experimental&quot;</span>,</span>
<span id="cb394-7"><a href="synthetic-control.html#cb394-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">xformla =</span> <span class="sc">~</span> age <span class="sc">+</span> educ <span class="sc">+</span> black <span class="sc">+</span> married <span class="sc">+</span> nodegree <span class="sc">+</span> hisp <span class="sc">+</span> re74,</span>
<span id="cb394-8"><a href="synthetic-control.html#cb394-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> eval_lalonde_cps,</span>
<span id="cb394-9"><a href="synthetic-control.html#cb394-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel =</span> <span class="cn">TRUE</span></span>
<span id="cb394-10"><a href="synthetic-control.html#cb394-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb394-11"><a href="synthetic-control.html#cb394-11" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(out)</span>
<span id="cb394-12"><a href="synthetic-control.html#cb394-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Call:</span></span>
<span id="cb394-13"><a href="synthetic-control.html#cb394-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; drdid(yname = &quot;re&quot;, tname = &quot;year&quot;, idname = &quot;id&quot;, dname = &quot;experimental&quot;, </span></span>
<span id="cb394-14"><a href="synthetic-control.html#cb394-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     xformla = ~age + educ + black + married + nodegree + hisp + </span></span>
<span id="cb394-15"><a href="synthetic-control.html#cb394-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         re74, data = eval_lalonde_cps, panel = TRUE)</span></span>
<span id="cb394-16"><a href="synthetic-control.html#cb394-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------------------</span></span>
<span id="cb394-17"><a href="synthetic-control.html#cb394-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Further improved locally efficient DR DID estimator for the ATT:</span></span>
<span id="cb394-18"><a href="synthetic-control.html#cb394-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  </span></span>
<span id="cb394-19"><a href="synthetic-control.html#cb394-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    ATT     Std. Error  t value    Pr(&gt;|t|)  [95% Conf. Interval] </span></span>
<span id="cb394-20"><a href="synthetic-control.html#cb394-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -901.2703   393.6247   -2.2897     0.022    -1672.7747  -129.766 </span></span>
<span id="cb394-21"><a href="synthetic-control.html#cb394-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------------------</span></span>
<span id="cb394-22"><a href="synthetic-control.html#cb394-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Estimator based on panel data.</span></span>
<span id="cb394-23"><a href="synthetic-control.html#cb394-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Outcome regression est. method: weighted least squares.</span></span>
<span id="cb394-24"><a href="synthetic-control.html#cb394-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Propensity score est. method: inverse prob. tilting.</span></span>
<span id="cb394-25"><a href="synthetic-control.html#cb394-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Analytical standard error.</span></span>
<span id="cb394-26"><a href="synthetic-control.html#cb394-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------------------</span></span>
<span id="cb394-27"><a href="synthetic-control.html#cb394-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  See Sant&#39;Anna and Zhao (2020) for details.</span></span></code></pre></div>
</div>
<div id="example-3-1" class="section level3" number="21.3.3">
<h3><span class="header-section-number">21.3.3</span> Example 3</h3>
<p>by <code>Synth</code> package’s authors</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="synthetic-control.html#cb395-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Synth)</span>
<span id="cb395-2"><a href="synthetic-control.html#cb395-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;basque&quot;</span>)</span></code></pre></div>
<p><code>synth()</code> requires</p>
<ul>
<li><p><span class="math inline">\(X_1\)</span> vector of treatment predictors</p></li>
<li><p><span class="math inline">\(X_0\)</span> matrix of same variables for control group</p></li>
<li><p><span class="math inline">\(Z_1\)</span> vector of outcome variable for treatment group</p></li>
<li><p><span class="math inline">\(Z_0\)</span> matrix of outcome variable for control group</p></li>
</ul>
<p>use <code>dataprep()</code> to prepare data in the format that can be used throughout the <code>Synth</code> package</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="synthetic-control.html#cb396-1" aria-hidden="true" tabindex="-1"></a>dataprep.out <span class="ot">&lt;-</span> <span class="fu">dataprep</span>(</span>
<span id="cb396-2"><a href="synthetic-control.html#cb396-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">foo =</span> basque,</span>
<span id="cb396-3"><a href="synthetic-control.html#cb396-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">predictors =</span> <span class="fu">c</span>(</span>
<span id="cb396-4"><a href="synthetic-control.html#cb396-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.illit&quot;</span>,</span>
<span id="cb396-5"><a href="synthetic-control.html#cb396-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.prim&quot;</span>,</span>
<span id="cb396-6"><a href="synthetic-control.html#cb396-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.med&quot;</span>,</span>
<span id="cb396-7"><a href="synthetic-control.html#cb396-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.high&quot;</span>,</span>
<span id="cb396-8"><a href="synthetic-control.html#cb396-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;school.post.high&quot;</span>,</span>
<span id="cb396-9"><a href="synthetic-control.html#cb396-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;invest&quot;</span></span>
<span id="cb396-10"><a href="synthetic-control.html#cb396-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb396-11"><a href="synthetic-control.html#cb396-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">predictors.op =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb396-12"><a href="synthetic-control.html#cb396-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">time.predictors.prior =</span> <span class="dv">1964</span><span class="sc">:</span><span class="dv">1969</span>,</span>
<span id="cb396-13"><a href="synthetic-control.html#cb396-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">special.predictors =</span> <span class="fu">list</span>(</span>
<span id="cb396-14"><a href="synthetic-control.html#cb396-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;gdpcap&quot;</span>, <span class="dv">1960</span><span class="sc">:</span><span class="dv">1969</span> , <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb396-15"><a href="synthetic-control.html#cb396-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.agriculture&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb396-16"><a href="synthetic-control.html#cb396-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.energy&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb396-17"><a href="synthetic-control.html#cb396-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.industry&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb396-18"><a href="synthetic-control.html#cb396-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.construction&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb396-19"><a href="synthetic-control.html#cb396-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.services.venta&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb396-20"><a href="synthetic-control.html#cb396-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;sec.services.nonventa&quot;</span>, <span class="fu">seq</span>(<span class="dv">1961</span>, <span class="dv">1969</span>, <span class="dv">2</span>), <span class="st">&quot;mean&quot;</span>),</span>
<span id="cb396-21"><a href="synthetic-control.html#cb396-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(<span class="st">&quot;popdens&quot;</span>, <span class="dv">1969</span>, <span class="st">&quot;mean&quot;</span>)</span>
<span id="cb396-22"><a href="synthetic-control.html#cb396-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb396-23"><a href="synthetic-control.html#cb396-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">dependent =</span> <span class="st">&quot;gdpcap&quot;</span>,</span>
<span id="cb396-24"><a href="synthetic-control.html#cb396-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">unit.variable =</span> <span class="st">&quot;regionno&quot;</span>,</span>
<span id="cb396-25"><a href="synthetic-control.html#cb396-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">unit.names.variable =</span> <span class="st">&quot;regionname&quot;</span>,</span>
<span id="cb396-26"><a href="synthetic-control.html#cb396-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">time.variable =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb396-27"><a href="synthetic-control.html#cb396-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">treatment.identifier =</span> <span class="dv">17</span>,</span>
<span id="cb396-28"><a href="synthetic-control.html#cb396-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">controls.identifier =</span> <span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">18</span>),</span>
<span id="cb396-29"><a href="synthetic-control.html#cb396-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">time.optimize.ssr =</span> <span class="dv">1960</span><span class="sc">:</span><span class="dv">1969</span>,</span>
<span id="cb396-30"><a href="synthetic-control.html#cb396-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">time.plot =</span> <span class="dv">1955</span><span class="sc">:</span><span class="dv">1997</span></span>
<span id="cb396-31"><a href="synthetic-control.html#cb396-31" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>find optimal weights that identifies the synthetic control for the treatment group</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="synthetic-control.html#cb397-1" aria-hidden="true" tabindex="-1"></a>synth.out <span class="ot">&lt;-</span> <span class="fu">synth</span>(<span class="at">data.prep.obj =</span> dataprep.out, <span class="at">method =</span> <span class="st">&quot;BFGS&quot;</span>)</span>
<span id="cb397-2"><a href="synthetic-control.html#cb397-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-3"><a href="synthetic-control.html#cb397-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; X1, X0, Z1, Z0 all come directly from dataprep object.</span></span>
<span id="cb397-4"><a href="synthetic-control.html#cb397-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-5"><a href="synthetic-control.html#cb397-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-6"><a href="synthetic-control.html#cb397-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb397-7"><a href="synthetic-control.html#cb397-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  searching for synthetic control unit  </span></span>
<span id="cb397-8"><a href="synthetic-control.html#cb397-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  </span></span>
<span id="cb397-9"><a href="synthetic-control.html#cb397-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-10"><a href="synthetic-control.html#cb397-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb397-11"><a href="synthetic-control.html#cb397-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb397-12"><a href="synthetic-control.html#cb397-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; **************** </span></span>
<span id="cb397-13"><a href="synthetic-control.html#cb397-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-14"><a href="synthetic-control.html#cb397-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; MSPE (LOSS V): 0.008864606 </span></span>
<span id="cb397-15"><a href="synthetic-control.html#cb397-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-16"><a href="synthetic-control.html#cb397-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; solution.v:</span></span>
<span id="cb397-17"><a href="synthetic-control.html#cb397-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.02773094 1.194e-07 1.60609e-05 0.0007163836 1.486e-07 0.002423908 0.0587055 0.2651997 0.02851006 0.291276 0.007994382 0.004053188 0.009398579 0.303975 </span></span>
<span id="cb397-18"><a href="synthetic-control.html#cb397-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-19"><a href="synthetic-control.html#cb397-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; solution.w:</span></span>
<span id="cb397-20"><a href="synthetic-control.html#cb397-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2.53e-08 4.63e-08 6.44e-08 2.81e-08 3.37e-08 4.844e-07 4.2e-08 4.69e-08 0.8508145 9.75e-08 3.2e-08 5.54e-08 0.1491843 4.86e-08 9.89e-08 1.162e-07</span></span></code></pre></div>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="synthetic-control.html#cb398-1" aria-hidden="true" tabindex="-1"></a>gaps <span class="ot">&lt;-</span> dataprep.out<span class="sc">$</span>Y1plot <span class="sc">-</span> (dataprep.out<span class="sc">$</span>Y0plot <span class="sc">%*%</span> synth.out<span class="sc">$</span>solution.w)</span>
<span id="cb398-2"><a href="synthetic-control.html#cb398-2" aria-hidden="true" tabindex="-1"></a>gaps[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">1</span>]</span>
<span id="cb398-3"><a href="synthetic-control.html#cb398-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       1955       1956       1957 </span></span>
<span id="cb398-4"><a href="synthetic-control.html#cb398-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0.15023473 0.09168035 0.03716475</span></span></code></pre></div>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="synthetic-control.html#cb399-1" aria-hidden="true" tabindex="-1"></a>synth.tables <span class="ot">&lt;-</span></span>
<span id="cb399-2"><a href="synthetic-control.html#cb399-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">synth.tab</span>(<span class="at">dataprep.res =</span> dataprep.out, <span class="at">synth.res =</span> synth.out)</span>
<span id="cb399-3"><a href="synthetic-control.html#cb399-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(synth.tables) <span class="co"># you can pick tables to see </span></span>
<span id="cb399-4"><a href="synthetic-control.html#cb399-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tab.pred&quot; &quot;tab.v&quot;    &quot;tab.w&quot;    &quot;tab.loss&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="synthetic-control.html#cb400-1" aria-hidden="true" tabindex="-1"></a><span class="fu">path.plot</span>(</span>
<span id="cb400-2"><a href="synthetic-control.html#cb400-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">synth.res =</span> synth.out,</span>
<span id="cb400-3"><a href="synthetic-control.html#cb400-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">dataprep.res =</span> dataprep.out,</span>
<span id="cb400-4"><a href="synthetic-control.html#cb400-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ylab =</span> <span class="st">&quot;real per-capita GDP (1986 USD, thousand)&quot;</span>,</span>
<span id="cb400-5"><a href="synthetic-control.html#cb400-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xlab =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb400-6"><a href="synthetic-control.html#cb400-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">12</span>),</span>
<span id="cb400-7"><a href="synthetic-control.html#cb400-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Legend =</span> <span class="fu">c</span>(<span class="st">&quot;Basque country&quot;</span>,</span>
<span id="cb400-8"><a href="synthetic-control.html#cb400-8" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;synthetic Basque country&quot;</span>),</span>
<span id="cb400-9"><a href="synthetic-control.html#cb400-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Legend.position =</span> <span class="st">&quot;bottomright&quot;</span></span>
<span id="cb400-10"><a href="synthetic-control.html#cb400-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-38-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="synthetic-control.html#cb401-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gaps.plot</span>(</span>
<span id="cb401-2"><a href="synthetic-control.html#cb401-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">synth.res =</span> synth.out,</span>
<span id="cb401-3"><a href="synthetic-control.html#cb401-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">dataprep.res =</span> dataprep.out,</span>
<span id="cb401-4"><a href="synthetic-control.html#cb401-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ylab =</span> <span class="st">&quot;gap in real per-capita GDP (1986 USD, thousand)&quot;</span>,</span>
<span id="cb401-5"><a href="synthetic-control.html#cb401-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xlab =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb401-6"><a href="synthetic-control.html#cb401-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>, <span class="fl">1.5</span>),</span>
<span id="cb401-7"><a href="synthetic-control.html#cb401-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Main =</span> <span class="cn">NA</span></span>
<span id="cb401-8"><a href="synthetic-control.html#cb401-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-39-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>You could also run placebo tests</p>
<p><br></p>
</div>
<div id="example-4-1" class="section level3" number="21.3.4">
<h3><span class="header-section-number">21.3.4</span> Example 4</h3>
<p>by <a href="https://cran.r-project.org/web/packages/microsynth/vignettes/introduction.html">Michael Robbins and Steven Davenport</a> who are authors of <code>MicroSynth</code> with the following improvements:</p>
<ul>
<li><p>Standardization <code>use.survey = TRUE</code> and permutation ( <code>perm = 250</code> and <code>jack = TRUE</code> ) for placebo tests</p></li>
<li><p>Omnibus statistic (set to <code>omnibus.var</code> ) for multiple outcome variables</p></li>
<li><p>incorporate multiple follow-up periods <code>end.post</code></p></li>
</ul>
<p>Notes:</p>
<ul>
<li><p>Both predictors and outcome will be used to match units before intervention</p>
<ul>
<li><p>Outcome variable has to be <strong>time-variant</strong></p></li>
<li><p>Predictors are <strong>time-invariant</strong></p></li>
</ul></li>
<li></li>
</ul>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="synthetic-control.html#cb402-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(microsynth)</span>
<span id="cb402-2"><a href="synthetic-control.html#cb402-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;seattledmi&quot;</span>)</span>
<span id="cb402-3"><a href="synthetic-control.html#cb402-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb402-4"><a href="synthetic-control.html#cb402-4" aria-hidden="true" tabindex="-1"></a>cov.var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;TotalPop&quot;</span>, <span class="st">&quot;BLACK&quot;</span>, <span class="st">&quot;HISPANIC&quot;</span>, <span class="st">&quot;Males_1521&quot;</span>, <span class="st">&quot;HOUSEHOLDS&quot;</span>, </span>
<span id="cb402-5"><a href="synthetic-control.html#cb402-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;FAMILYHOUS&quot;</span>, <span class="st">&quot;FEMALE_HOU&quot;</span>, <span class="st">&quot;RENTER_HOU&quot;</span>, <span class="st">&quot;VACANT_HOU&quot;</span>)</span>
<span id="cb402-6"><a href="synthetic-control.html#cb402-6" aria-hidden="true" tabindex="-1"></a>match.out <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;i_felony&quot;</span>, <span class="st">&quot;i_misdemea&quot;</span>, <span class="st">&quot;i_drugs&quot;</span>, <span class="st">&quot;any_crime&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="synthetic-control.html#cb403-1" aria-hidden="true" tabindex="-1"></a>sea1 <span class="ot">&lt;-</span> <span class="fu">microsynth</span>(</span>
<span id="cb403-2"><a href="synthetic-control.html#cb403-2" aria-hidden="true" tabindex="-1"></a>    seattledmi,</span>
<span id="cb403-3"><a href="synthetic-control.html#cb403-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">idvar =</span> <span class="st">&quot;ID&quot;</span>,</span>
<span id="cb403-4"><a href="synthetic-control.html#cb403-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">timevar =</span> <span class="st">&quot;time&quot;</span>,</span>
<span id="cb403-5"><a href="synthetic-control.html#cb403-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">intvar =</span> <span class="st">&quot;Intervention&quot;</span>,</span>
<span id="cb403-6"><a href="synthetic-control.html#cb403-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">start.pre =</span> <span class="dv">1</span>,</span>
<span id="cb403-7"><a href="synthetic-control.html#cb403-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">end.pre =</span> <span class="dv">12</span>,</span>
<span id="cb403-8"><a href="synthetic-control.html#cb403-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">end.post =</span> <span class="dv">16</span>,</span>
<span id="cb403-9"><a href="synthetic-control.html#cb403-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">match.out =</span> match.out, <span class="co"># outcome variable will be matched on exactly</span></span>
<span id="cb403-10"><a href="synthetic-control.html#cb403-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">match.covar =</span> cov.var, <span class="co"># specify covariates will be matched on exactly</span></span>
<span id="cb403-11"><a href="synthetic-control.html#cb403-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">result.var =</span> match.out, <span class="co"># used to report results</span></span>
<span id="cb403-12"><a href="synthetic-control.html#cb403-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">omnibus.var =</span> match.out, <span class="co"># feature in the omnibus p-value</span></span>
<span id="cb403-13"><a href="synthetic-control.html#cb403-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">&quot;lower&quot;</span>,</span>
<span id="cb403-14"><a href="synthetic-control.html#cb403-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">n.cores =</span> <span class="fu">min</span>(parallel<span class="sc">::</span><span class="fu">detectCores</span>(), <span class="dv">2</span>)</span>
<span id="cb403-15"><a href="synthetic-control.html#cb403-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb403-16"><a href="synthetic-control.html#cb403-16" aria-hidden="true" tabindex="-1"></a>sea1</span>
<span id="cb403-17"><a href="synthetic-control.html#cb403-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  microsynth object</span></span>
<span id="cb403-18"><a href="synthetic-control.html#cb403-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb403-19"><a href="synthetic-control.html#cb403-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Scope:</span></span>
<span id="cb403-20"><a href="synthetic-control.html#cb403-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Units:          Total: 9642 Treated: 39 Untreated: 9603</span></span>
<span id="cb403-21"><a href="synthetic-control.html#cb403-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Study Period(s):    Pre-period: 1 - 12  Post-period: 13 - 16</span></span>
<span id="cb403-22"><a href="synthetic-control.html#cb403-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Constraints:        Exact Match: 58     Minimized Distance: 0</span></span>
<span id="cb403-23"><a href="synthetic-control.html#cb403-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Time-variant outcomes:</span></span>
<span id="cb403-24"><a href="synthetic-control.html#cb403-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Exact Match: i_felony, i_misdemea, i_drugs, any_crime (4)</span></span>
<span id="cb403-25"><a href="synthetic-control.html#cb403-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Minimized Distance: (0)</span></span>
<span id="cb403-26"><a href="synthetic-control.html#cb403-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Time-invariant covariates:</span></span>
<span id="cb403-27"><a href="synthetic-control.html#cb403-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Exact Match: TotalPop, BLACK, HISPANIC, Males_1521, HOUSEHOLDS, FAMILYHOUS, FEMALE_HOU, RENTER_HOU, VACANT_HOU (9)</span></span>
<span id="cb403-28"><a href="synthetic-control.html#cb403-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Minimized Distance: (0)</span></span>
<span id="cb403-29"><a href="synthetic-control.html#cb403-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb403-30"><a href="synthetic-control.html#cb403-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Results:</span></span>
<span id="cb403-31"><a href="synthetic-control.html#cb403-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; end.post = 16</span></span>
<span id="cb403-32"><a href="synthetic-control.html#cb403-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            Trt    Con Pct.Chng Linear.pVal Linear.Lower Linear.Upper</span></span>
<span id="cb403-33"><a href="synthetic-control.html#cb403-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony    46  68.22   -32.6%      0.0109       -50.3%        -8.4%</span></span>
<span id="cb403-34"><a href="synthetic-control.html#cb403-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea  45  71.80   -37.3%      0.0019       -52.8%       -16.7%</span></span>
<span id="cb403-35"><a href="synthetic-control.html#cb403-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs     20  23.76   -15.8%      0.2559       -46.4%        32.1%</span></span>
<span id="cb403-36"><a href="synthetic-control.html#cb403-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime  788 986.44   -20.1%      0.0146       -32.9%        -4.9%</span></span>
<span id="cb403-37"><a href="synthetic-control.html#cb403-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Omnibus     --     --       --      0.0006           --           --</span></span>
<span id="cb403-38"><a href="synthetic-control.html#cb403-38" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sea1)</span>
<span id="cb403-39"><a href="synthetic-control.html#cb403-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Weight Balance Table: </span></span>
<span id="cb403-40"><a href="synthetic-control.html#cb403-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb403-41"><a href="synthetic-control.html#cb403-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               Targets Weighted.Control   All.scaled</span></span>
<span id="cb403-42"><a href="synthetic-control.html#cb403-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Intercept          39        39.000239   39.0000000</span></span>
<span id="cb403-43"><a href="synthetic-control.html#cb403-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; TotalPop         2994      2994.051921 2384.7476665</span></span>
<span id="cb403-44"><a href="synthetic-control.html#cb403-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; BLACK             173       173.000957  190.5224020</span></span>
<span id="cb403-45"><a href="synthetic-control.html#cb403-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; HISPANIC          149       149.002632  159.2682016</span></span>
<span id="cb403-46"><a href="synthetic-control.html#cb403-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Males_1521         49        49.000000   97.3746111</span></span>
<span id="cb403-47"><a href="synthetic-control.html#cb403-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; HOUSEHOLDS       1968      1968.033976 1113.5588052</span></span>
<span id="cb403-48"><a href="synthetic-control.html#cb403-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; FAMILYHOUS        519       519.010767  475.1876167</span></span>
<span id="cb403-49"><a href="synthetic-control.html#cb403-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; FEMALE_HOU        101       101.000957   81.1549471</span></span>
<span id="cb403-50"><a href="synthetic-control.html#cb403-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; RENTER_HOU       1868      1868.020338  581.9340386</span></span>
<span id="cb403-51"><a href="synthetic-control.html#cb403-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; VACANT_HOU        160       160.011485   98.4222153</span></span>
<span id="cb403-52"><a href="synthetic-control.html#cb403-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.12        14        14.000000    4.9023024</span></span>
<span id="cb403-53"><a href="synthetic-control.html#cb403-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.11        11        11.000239    4.6313006</span></span>
<span id="cb403-54"><a href="synthetic-control.html#cb403-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.10         9         9.000000    3.0740510</span></span>
<span id="cb403-55"><a href="synthetic-control.html#cb403-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.9          5         5.000000    3.2641568</span></span>
<span id="cb403-56"><a href="synthetic-control.html#cb403-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.8         20        20.000000    4.4331052</span></span>
<span id="cb403-57"><a href="synthetic-control.html#cb403-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.7          8         8.000000    3.7616677</span></span>
<span id="cb403-58"><a href="synthetic-control.html#cb403-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.6         13        13.000000    3.0012446</span></span>
<span id="cb403-59"><a href="synthetic-control.html#cb403-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.5         20        20.000718    3.1549471</span></span>
<span id="cb403-60"><a href="synthetic-control.html#cb403-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.4         10        10.000000    4.0245800</span></span>
<span id="cb403-61"><a href="synthetic-control.html#cb403-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.3          7         7.000000    3.3693217</span></span>
<span id="cb403-62"><a href="synthetic-control.html#cb403-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.2         13        13.000239    3.2803360</span></span>
<span id="cb403-63"><a href="synthetic-control.html#cb403-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony.1         12        12.000000    3.4380834</span></span>
<span id="cb403-64"><a href="synthetic-control.html#cb403-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.12      15        15.000239    4.2470442</span></span>
<span id="cb403-65"><a href="synthetic-control.html#cb403-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.11      12        12.000000    4.6070317</span></span>
<span id="cb403-66"><a href="synthetic-control.html#cb403-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.10      12        12.000000    4.0771624</span></span>
<span id="cb403-67"><a href="synthetic-control.html#cb403-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.9       14        14.000000    3.7414437</span></span>
<span id="cb403-68"><a href="synthetic-control.html#cb403-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.8       12        12.000000    3.9679527</span></span>
<span id="cb403-69"><a href="synthetic-control.html#cb403-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.7       20        20.000000    4.2551338</span></span>
<span id="cb403-70"><a href="synthetic-control.html#cb403-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.6       16        16.000479    3.5594275</span></span>
<span id="cb403-71"><a href="synthetic-control.html#cb403-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.5       24        24.000000    3.5634723</span></span>
<span id="cb403-72"><a href="synthetic-control.html#cb403-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.4       21        21.000239    4.3360299</span></span>
<span id="cb403-73"><a href="synthetic-control.html#cb403-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.3       21        21.000000    4.3845675</span></span>
<span id="cb403-74"><a href="synthetic-control.html#cb403-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.2       14        14.000000    3.5351587</span></span>
<span id="cb403-75"><a href="synthetic-control.html#cb403-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea.1       16        16.000000    4.1540137</span></span>
<span id="cb403-76"><a href="synthetic-control.html#cb403-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.12         13        13.000000    1.6543248</span></span>
<span id="cb403-77"><a href="synthetic-control.html#cb403-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.11          8         8.000000    1.5127567</span></span>
<span id="cb403-78"><a href="synthetic-control.html#cb403-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.10          3         3.000000    1.3226509</span></span>
<span id="cb403-79"><a href="synthetic-control.html#cb403-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.9           4         4.000000    0.9788426</span></span>
<span id="cb403-80"><a href="synthetic-control.html#cb403-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.8           4         4.000000    1.1123211</span></span>
<span id="cb403-81"><a href="synthetic-control.html#cb403-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.7          10        10.000000    1.0516490</span></span>
<span id="cb403-82"><a href="synthetic-control.html#cb403-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.6           4         4.000000    1.2377100</span></span>
<span id="cb403-83"><a href="synthetic-control.html#cb403-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.5           2         2.000000    1.2296204</span></span>
<span id="cb403-84"><a href="synthetic-control.html#cb403-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.4           1         1.000000    1.1244555</span></span>
<span id="cb403-85"><a href="synthetic-control.html#cb403-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.3           5         5.000000    1.3550093</span></span>
<span id="cb403-86"><a href="synthetic-control.html#cb403-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.2          12        12.000000    1.1365899</span></span>
<span id="cb403-87"><a href="synthetic-control.html#cb403-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs.1           8         8.000239    1.3590541</span></span>
<span id="cb403-88"><a href="synthetic-control.html#cb403-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.12      272       272.001196   65.3397635</span></span>
<span id="cb403-89"><a href="synthetic-control.html#cb403-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.11      227       227.001675   64.2395769</span></span>
<span id="cb403-90"><a href="synthetic-control.html#cb403-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.10      183       183.000957   55.6929060</span></span>
<span id="cb403-91"><a href="synthetic-control.html#cb403-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.9       176       176.000479   53.2377100</span></span>
<span id="cb403-92"><a href="synthetic-control.html#cb403-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.8       228       228.000479   55.8142502</span></span>
<span id="cb403-93"><a href="synthetic-control.html#cb403-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.7       246       246.002393   55.8061605</span></span>
<span id="cb403-94"><a href="synthetic-control.html#cb403-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.6       200       200.000957   52.8291848</span></span>
<span id="cb403-95"><a href="synthetic-control.html#cb403-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.5       270       270.001436   50.6530803</span></span>
<span id="cb403-96"><a href="synthetic-control.html#cb403-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.4       250       250.000957   57.2946484</span></span>
<span id="cb403-97"><a href="synthetic-control.html#cb403-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.3       236       236.000957   58.8680772</span></span>
<span id="cb403-98"><a href="synthetic-control.html#cb403-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.2       250       250.001196   51.5429371</span></span>
<span id="cb403-99"><a href="synthetic-control.html#cb403-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime.1       242       242.000957   55.1144991</span></span>
<span id="cb403-100"><a href="synthetic-control.html#cb403-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb403-101"><a href="synthetic-control.html#cb403-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Results: </span></span>
<span id="cb403-102"><a href="synthetic-control.html#cb403-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb403-103"><a href="synthetic-control.html#cb403-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; end.post = 16</span></span>
<span id="cb403-104"><a href="synthetic-control.html#cb403-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            Trt    Con Pct.Chng Linear.pVal Linear.Lower Linear.Upper</span></span>
<span id="cb403-105"><a href="synthetic-control.html#cb403-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_felony    46  68.22   -32.6%      0.0109       -50.3%        -8.4%</span></span>
<span id="cb403-106"><a href="synthetic-control.html#cb403-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_misdemea  45  71.80   -37.3%      0.0019       -52.8%       -16.7%</span></span>
<span id="cb403-107"><a href="synthetic-control.html#cb403-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i_drugs     20  23.76   -15.8%      0.2559       -46.4%        32.1%</span></span>
<span id="cb403-108"><a href="synthetic-control.html#cb403-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; any_crime  788 986.44   -20.1%      0.0146       -32.9%        -4.9%</span></span>
<span id="cb403-109"><a href="synthetic-control.html#cb403-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Omnibus     --     --       --      0.0006           --           --</span></span></code></pre></div>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="synthetic-control.html#cb404-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_microsynth</span>(sea1)</span></code></pre></div>
<p><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-42-1.png" width="90%" style="display: block; margin: auto;" /><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-42-2.png" width="90%" style="display: block; margin: auto;" /><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-42-3.png" width="90%" style="display: block; margin: auto;" /><img src="21-quasi-experimental_files/figure-html/unnamed-chunk-42-4.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="synthetic-control.html#cb405-1" aria-hidden="true" tabindex="-1"></a>sea2 <span class="ot">&lt;-</span> <span class="fu">microsynth</span>(seattledmi, </span>
<span id="cb405-2"><a href="synthetic-control.html#cb405-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">idvar=</span><span class="st">&quot;ID&quot;</span>, <span class="at">timevar=</span><span class="st">&quot;time&quot;</span>, <span class="at">intvar=</span><span class="st">&quot;Intervention&quot;</span>, </span>
<span id="cb405-3"><a href="synthetic-control.html#cb405-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">start.pre=</span><span class="dv">1</span>, <span class="at">end.pre=</span><span class="dv">12</span>, <span class="at">end.post=</span><span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">16</span>),</span>
<span id="cb405-4"><a href="synthetic-control.html#cb405-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">match.out=</span>match.out, <span class="at">match.covar=</span>cov.var, </span>
<span id="cb405-5"><a href="synthetic-control.html#cb405-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">result.var=</span>match.out, <span class="at">omnibus.var=</span>match.out, </span>
<span id="cb405-6"><a href="synthetic-control.html#cb405-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">test=</span><span class="st">&quot;lower&quot;</span>, </span>
<span id="cb405-7"><a href="synthetic-control.html#cb405-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">perm=</span><span class="dv">250</span>, <span class="at">jack=</span><span class="cn">TRUE</span>,</span>
<span id="cb405-8"><a href="synthetic-control.html#cb405-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">n.cores =</span> <span class="fu">min</span>(parallel<span class="sc">::</span><span class="fu">detectCores</span>(), <span class="dv">2</span>))</span></code></pre></div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-kim2020" class="csl-entry">
Kim, Sungjin, Clarence Lee, and Sachin Gupta. 2020. <span>“Bayesian Synthetic Control Methods.”</span> <em>Journal of Marketing Research</em> 57 (5): 831–52. <a href="https://doi.org/10.1177/0022243720936230">https://doi.org/10.1177/0022243720936230</a>.
</div>
<div id="ref-tirunillai2017" class="csl-entry">
Tirunillai, Seshadri, and Gerard J. Tellis. 2017. <span>“Does Offline TV Advertising Affect Online Chatter? Quasi-Experimental Analysis Using Synthetic Control.”</span> <em>Marketing Science</em> 36 (6): 862–78. <a href="https://doi.org/10.1287/mksc.2017.1040">https://doi.org/10.1287/mksc.2017.1040</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="difference-in-differences.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="selection-on-observables.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mikenguyen13/data_analysis/edit/main/21-quasi-experimental.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/mikenguyen13/data_analysis/blob/main/21-quasi-experimental.Rmd",
"text": null
},
"download": ["data_analysis.pdf", "data_analysis.epub", "data_analysis.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true,
"sharing": {
"facebook": true,
"github": true,
"twitter": true,
"linkedin": true
},
"info": true,
"edit": "https://github.com/mikenguyen13/data_analysis/edit/main/%s"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
